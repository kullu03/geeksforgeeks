<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
       <title>Implement LRU Cache - GeeksforGeeks</title>
       <style type="text/css" media="screen">
          @import url('http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/style.css');
    </style>
      <link href="http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/favicon.ico" rel="shortcut icon" />    
    
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.7.1 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://www.geeksforgeeks.org/implement-lru-cache/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Implement LRU Cache - GeeksforGeeks" />
<meta property="og:description" content="How to implement LRU caching scheme? What data structures should be used? We are given total possible page numbers that can be referred. We are also given cache (or memory) size (Number of page frames that cache can hold at a time). The LRU caching scheme is to remove the least recently used frame when &hellip;" />
<meta property="og:url" content="http://www.geeksforgeeks.org/implement-lru-cache/" />
<meta property="og:site_name" content="GeeksforGeeks" />
<meta property="article:tag" content="Advance Data Structures" />
<meta property="article:tag" content="Advanced Data Structures" />
<meta property="article:tag" content="Queue" />
<meta property="article:section" content="Linked Lists" />
<meta property="article:published_time" content="2012-09-28T00:39:39+00:00" />
<meta property="article:modified_time" content="2013-04-08T15:21:53+00:00" />
<meta property="og:updated_time" content="2013-04-08T15:21:53+00:00" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel='stylesheet' id='wp-quicklatex-format-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/css/quicklatex-format.css?ver=4.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='bbp-default-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/css/bbpress.css?ver=2.5.4-5380' type='text/css' media='screen' />
<link rel='stylesheet' id='wp-pagenavi-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-pagenavi/pagenavi-css.css?ver=2.70' type='text/css' media='all' />
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery.js?ver=1.11.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/js/wp-quicklatex-frontend.js?ver=1.0'></script>

<!-- Bad Behavior 2.2.16 run time: 1.509 ms -->
<script type="text/javascript">
<!--
function bb2_addLoadEvent(func) {
	var oldonload = window.onload;
	if (typeof window.onload != 'function') {
		window.onload = func;
	} else {
		window.onload = function() {
			oldonload();
			func();
		}
	}
}

bb2_addLoadEvent(function() {
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1417111003 122.161.237.59';
			document.forms[i].appendChild(myElement);
		}
	}
});
// --></script>
		<style type="text/css" id="syntaxhighlighteranchor"></style>
   <meta name="google-site-verification" content="rHK2v8_zzuAZQY8JHAzbllDN8u-aQxcn2Kqnp67Old0" />
</head>

<body>
<!-- o4dI0sCXUgoSONabbd8mbZ4SA3E -->    
    <div id="wrapper">
        <div class="blog-info">
                <h1 class="blog-title">
                <a href="http://www.geeksforgeeks.org" title="GeeksforGeeks">GeeksforGeeks</a>
            </h1>
       
            <div class="blog-description">
                A computer science portal for geeks            </div>
        </div>
        <b><p>  <h2 align="right"> <a href="http://geeksquiz.com/">GeeksQuiz</a></h2> 
   <a href="http://www.geeksforgeeks.org/wp-login.php">Login</a> 
         </p></b>  
         
         <div class="clear"></div>         
              
                     
            <div id="menu">   
                 <ul>
 <li><a href="http://www.geeksforgeeks.org">Home</a></li>
  <li><a href="http://www.geeksforgeeks.org/fundamentals-of-algorithms/">Algorithms</a></li>
 <li><a href="http://www.geeksforgeeks.org/data-structures/">DS</a></li>
  <li><a href="http://www.geeksforgeeks.org/gate-corner/">GATE</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/interview-corner/">Interview Corner</a></li>
  <li><a href="http://www.geeksforgeeks.org/forums/">Q&A</a></li>
  <li><a href="http://www.geeksforgeeks.org/c/">C</a></li>
  <li><a href="http://www.geeksforgeeks.org/c-plus-plus/">C++</a></li>
  <li><a href="http://www.geeksforgeeks.org/java/">Java</a></li>
  <li><a href="http://www.geeksforgeeks.org/books/">Books</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/">Contribute</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/ask-a-question/">Ask a Q</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/">About</a></li>
            </ul>

               
            <div class="clear"></div>     
        </div>
             <div id="navmenu">
				<ul id="menu" style="padding:0; margin:0;">
						<li class="cat-item cat-item-3"><a href="http://www.geeksforgeeks.org/category/c-arrays/" title="Questions regarding Arrays">Array</a>
</li>	

	<li class="cat-item cat-item-17"><a href="http://www.geeksforgeeks.org/category/bit-magic/" title="View all posts filed under Bit Magic">Bit Magic</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://www.geeksforgeeks.org/category/c-puzzles/" title="View all posts filed under C/C++ Puzzles">C/C++</a>
</li>

<li class="cat-item cat-item-18"><a href="http://www.geeksforgeeks.org/category/articles/" title="View all posts filed under Articles">Articles</a>
</li>

	<li class="cat-item cat-item-67"><a href="http://www.geeksforgeeks.org/category/gfact/" title="View all posts filed under GFacts">GFacts</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://www.geeksforgeeks.org/category/linked-list/" title="Linked List problems">Linked List</a>
</li>
	<li class="cat-item cat-item-66"><a href="http://www.geeksforgeeks.org/category/multiple-choice-question/" title="View all posts filed under MCQ">MCQ</a>

</li>
	<li class="cat-item cat-item-4"><a href="http://www.geeksforgeeks.org/category/c-programs/" title="Miscellaneous">Misc</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.geeksforgeeks.org/category/program-output/" title="View all posts filed under Output">Output</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://www.geeksforgeeks.org/category/c-strings/" title="Questions related to strings">String</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.geeksforgeeks.org/category/tree/" title="View all posts filed under Trees">Tree</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.geeksforgeeks.org/category/graph/" title="View all posts filed under Graph">Graph</a>
</li>
</ul>
        </div>
             <div id="content">	   	
	<div class="post" id="post">
							<div class="post-info">			
					<div class="post-title-info">
						<h2 class="post-title">Implement LRU Cache</h2>
					</div>			
					<div class="clear"></div>				  
				<div class="post-content" id="post-content">
					<p>How to implement LRU caching scheme? What data structures should be used?</p>
<p>We are given total possible page numbers that can be referred.  We are also given cache (or memory) size (Number of page frames that cache can hold at a time).  The LRU caching scheme is to remove the least recently used frame when the cache is full and a new page is referenced which is not there in cache. Please see the Galvin book for more details (see the LRU page replacement slide <a href="http://www.wiley.com/college/silberschatz6e/0471417432/slides/pdf2/mod10.2.pdf">here</a>). </p>
<p>We use two data structures to implement an LRU Cache.</p>
<p><strong>1.</strong> A Queue which is implemented using a doubly linked list. The maximum size of the queue will be equal to the total number of frames available (cache size).<br />
The most recently used pages will be near front end and least recently pages will be near rear end.</p>
<p><strong>2.</strong> A Hash with page number as key and address of the corresponding queue node as value.</p>
<p>When a page is referenced, the required page may be in the memory. If it is in the memory, we need to detach the node of the list and bring it to the front of the queue.<br />
If the required page is not in the memory, we bring that in memory. In simple words, we add a new node to the front of the queue and update the corresponding node address in the hash. If the queue is full, i.e. all the frames are full, we remove a node from the rear of queue, and add the new node to the front of queue.</p>
<p>Note: Initially no page is in the memory.</p>
<p>Below is C implementation:</p>
<pre class="brush: cpp; highlight: [143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184]; title: ; notranslate" title="">
// A C program to show implementation of LRU cache
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

// A Queue Node (Queue is implemented using Doubly Linked List)
typedef struct QNode
{
    struct QNode *prev, *next;
    unsigned pageNumber;  // the page number stored in this QNode
} QNode;

// A Queue (A FIFO collection of Queue Nodes)
typedef struct Queue
{
    unsigned count;  // Number of filled frames
    unsigned numberOfFrames; // total number of frames
    QNode *front, *rear;
} Queue;

// A hash (Collection of pointers to Queue Nodes)
typedef struct Hash
{
    int capacity; // how many pages can be there
    QNode* *array; // an array of queue nodes
} Hash;

// A utility function to create a new Queue Node. The queue Node
// will store the given 'pageNumber'
QNode* newQNode( unsigned pageNumber )
{
    // Allocate memory and assign 'pageNumber'
    QNode* temp = (QNode *)malloc( sizeof( QNode ) );
    temp-&gt;pageNumber = pageNumber;

    // Initialize prev and next as NULL
    temp-&gt;prev = temp-&gt;next = NULL;

    return temp;
}

// A utility function to create an empty Queue.
// The queue can have at most 'numberOfFrames' nodes
Queue* createQueue( int numberOfFrames )
{
    Queue* queue = (Queue *)malloc( sizeof( Queue ) );

    // The queue is empty
    queue-&gt;count = 0;
    queue-&gt;front = queue-&gt;rear = NULL;

    // Number of frames that can be stored in memory
    queue-&gt;numberOfFrames = numberOfFrames;

    return queue;
}

// A utility function to create an empty Hash of given capacity
Hash* createHash( int capacity )
{
    // Allocate memory for hash
    Hash* hash = (Hash *) malloc( sizeof( Hash ) );
    hash-&gt;capacity = capacity;

    // Create an array of pointers for refering queue nodes
    hash-&gt;array = (QNode **) malloc( hash-&gt;capacity * sizeof( QNode* ) );

    // Initialize all hash entries as empty
    int i;
    for( i = 0; i &lt; hash-&gt;capacity; ++i )
        hash-&gt;array[i] = NULL;

    return hash;
}

// A function to check if there is slot available in memory
int AreAllFramesFull( Queue* queue )
{
    return queue-&gt;count == queue-&gt;numberOfFrames;
}

// A utility function to check if queue is empty
int isQueueEmpty( Queue* queue )
{
    return queue-&gt;rear == NULL;
}

// A utility function to delete a frame from queue
void deQueue( Queue* queue )
{
    if( isQueueEmpty( queue ) )
        return;

    // If this is the only node in list, then change front
    if (queue-&gt;front == queue-&gt;rear)
        queue-&gt;front = NULL;

    // Change rear and remove the previous rear
    QNode* temp = queue-&gt;rear;
    queue-&gt;rear = queue-&gt;rear-&gt;prev;

    if (queue-&gt;rear)
        queue-&gt;rear-&gt;next = NULL;

    free( temp );

    // decrement the number of full frames by 1
    queue-&gt;count--;
}

// A function to add a page with given 'pageNumber' to both queue
// and hash
void Enqueue( Queue* queue, Hash* hash, unsigned pageNumber )
{
    // If all frames are full, remove the page at the rear
    if ( AreAllFramesFull ( queue ) )
    {
        // remove page from hash
        hash-&gt;array[ queue-&gt;rear-&gt;pageNumber ] = NULL;
        deQueue( queue );
    }

    // Create a new node with given page number,
    // And add the new node to the front of queue
    QNode* temp = newQNode( pageNumber );
    temp-&gt;next = queue-&gt;front;

    // If queue is empty, change both front and rear pointers
    if ( isQueueEmpty( queue ) )
        queue-&gt;rear = queue-&gt;front = temp;
    else  // Else change the front
    {
        queue-&gt;front-&gt;prev = temp;
        queue-&gt;front = temp;
    }

    // Add page entry to hash also
    hash-&gt;array[ pageNumber ] = temp;

    // increment number of full frames
    queue-&gt;count++;
}

// This function is called when a page with given 'pageNumber' is referenced
// from cache (or memory). There are two cases:
// 1. Frame is not there in memory, we bring it in memory and add to the front
//    of queue
// 2. Frame is there in memory, we move the frame to front of queue
void ReferencePage( Queue* queue, Hash* hash, unsigned pageNumber )
{
    QNode* reqPage = hash-&gt;array[ pageNumber ];

    // the page is not in cache, bring it
    if ( reqPage == NULL )
        Enqueue( queue, hash, pageNumber );

    // page is there and not at front, change pointer
    else if (reqPage != queue-&gt;front)
    {
        // Unlink rquested page from its current location
        // in queue.
        reqPage-&gt;prev-&gt;next = reqPage-&gt;next;
        if (reqPage-&gt;next)
           reqPage-&gt;next-&gt;prev = reqPage-&gt;prev;

        // If the requested page is rear, then change rear
        // as this node will be moved to front
        if (reqPage == queue-&gt;rear)
        {
           queue-&gt;rear = reqPage-&gt;prev;
           queue-&gt;rear-&gt;next = NULL;
        }

        // Put the requested page before current front
        reqPage-&gt;next = queue-&gt;front;
        reqPage-&gt;prev = NULL;

        // Change prev of current front
        reqPage-&gt;next-&gt;prev = reqPage;

        // Change front to the requested page
        queue-&gt;front = reqPage;
    }
}

// Driver program to test above functions
int main()
{
    // Let cache can hold 4 pages
    Queue* q = createQueue( 4 );

    // Let 10 different pages can be requested (pages to be
    // referenced are numbered from 0 to 9
    Hash* hash = createHash( 10 );

    // Let us refer pages 1, 2, 3, 1, 4, 5
    ReferencePage( q, hash, 1);
    ReferencePage( q, hash, 2);
    ReferencePage( q, hash, 3);
    ReferencePage( q, hash, 1);
    ReferencePage( q, hash, 4);
    ReferencePage( q, hash, 5);

    // Let us print cache frames after the above referenced pages
    printf (&quot;%d &quot;, q-&gt;front-&gt;pageNumber);
    printf (&quot;%d &quot;, q-&gt;front-&gt;next-&gt;pageNumber);
    printf (&quot;%d &quot;, q-&gt;front-&gt;next-&gt;next-&gt;pageNumber);
    printf (&quot;%d &quot;, q-&gt;front-&gt;next-&gt;next-&gt;next-&gt;pageNumber);

    return 0;
}
</pre>
<p>Output:
<pre>5 4 1 3</pre>
<p>This article is compiled by <a href="https://www.facebook.com/barnwal.aashish">Aashish Barnwal </a>and reviewed by GeeksforGeeks team. Please write comments if you find anything incorrect, or you want to share more information about the topic discussed above.</p>
		
&nbsp;
&nbsp;
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Big Rectangle Blog Bottom -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="4061219431"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>



&nbsp;
&nbsp;
&nbsp;
<h3>Related Topics:</h3><ul><li><a href="http://www.geeksforgeeks.org/given-linked-list-reverse-alternate-nodes-append-end/" title="Given a linked list, reverse alternate nodes and append at the end">Given a linked list, reverse alternate nodes and append at the end</a></li><li><a href="http://www.geeksforgeeks.org/pairwise-swap-elements-of-a-given-linked-list-by-changing-links/" title="Pairwise swap elements of a given linked list by changing links">Pairwise swap elements of a given linked list by changing links</a></li><li><a href="http://www.geeksforgeeks.org/self-organizing-list-set-1-introduction/" title="Self Organizing List | Set 1 (Introduction)">Self Organizing List | Set 1 (Introduction)</a></li><li><a href="http://www.geeksforgeeks.org/merge-a-linked-list-into-another-linked-list-at-alternate-positions/" title="Merge a linked list into another linked list at alternate positions">Merge a linked list into another linked list at alternate positions</a></li><li><a href="http://www.geeksforgeeks.org/quicksort-on-singly-linked-list/" title="QuickSort on Singly Linked List">QuickSort on Singly Linked List</a></li><li><a href="http://www.geeksforgeeks.org/delete-n-nodes-after-m-nodes-of-a-linked-list/" title="Delete N nodes after M nodes of a linked list">Delete N nodes after M nodes of a linked list</a></li><li><a href="http://www.geeksforgeeks.org/design-a-stack-with-find-middle-operation/" title="Design a stack with operations on middle element">Design a stack with operations on middle element</a></li><li><a href="http://www.geeksforgeeks.org/swap-kth-node-from-beginning-with-kth-node-from-end-in-a-linked-list/" title="Swap Kth node from beginning with Kth node from end in a Linked List">Swap Kth node from beginning with Kth node from end in a Linked List</a></li></ul>
<p>Tags: <a href="http://www.geeksforgeeks.org/tag/advance-data-structures/" rel="tag">Advance Data Structures</a>, <a href="http://www.geeksforgeeks.org/tag/advanced-data-structures/" rel="tag">Advanced Data Structures</a>, <a href="http://www.geeksforgeeks.org/tag/queue/" rel="tag">Queue</a></p> 
<div>
<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.geeksforgeeks.org%2Fimplement-lru-cache%2F&layout=button_count&show_faces=false&width=90&action=like&colorscheme=light" scrolling="no" frameborder="0" allowTransparency="true" style="border:none; overflow:hidden; width:90px; height:20px"></iframe>
<a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.geeksforgeeks.org/implement-lru-cache/" data-text="Implement LRU Cache" data-count="horizontal" data-via="jakerutter">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
<g:plusone size="medium" href="http://www.geeksforgeeks.org/implement-lru-cache/"></g:plusone>
<!-- Place this render call where appropriate -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script></div>





				</div>		  
			</div> <!-- end post main -->					
			<div class="post-meta">
				<div class="left"></div>				
				<div class="clear"></div>
			</div>			
        
			<div class="comments-main">		
 <b>Writing code in comment?</b> Please use <b><a href="http://ideone.com/">ideone.com</a></b> and share the link here.
				
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-34266">
        <div id="dsq-comment-header-34266" class="dsq-comment-header">
            <cite id="dsq-cite-34266">
                <span id="dsq-author-user-34266">danny</span>
            </cite>
        </div>
        <div id="dsq-comment-body-34266" class="dsq-comment-body">
            <div id="dsq-comment-message-34266" class="dsq-comment-message"><p>typedef struct Queue<br />
{<br />
    unsigned count;  // Number of filled frames<br />
    unsigned numberOfFrames; // total number of frames<br />
    QNode *front, *rear;<br />
} Queue;</p>
<p>I think it should be Queue *front, *rear instead of Qnode *front,*rear in above implementation&#8230;. Please correct me if I am<br />
wrong or misunderstanding the concept.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-34348">
        <div id="dsq-comment-header-34348" class="dsq-comment-header">
            <cite id="dsq-cite-34348">
                <span id="dsq-author-user-34348">Manish Gupta</span>
            </cite>
        </div>
        <div id="dsq-comment-body-34348" class="dsq-comment-body">
            <div id="dsq-comment-message-34348" class="dsq-comment-message"><p>Here, front and rear in themselves are pointers to particular nodes of the queue, which are of type Qnode*, where as Queue is a collection of various Qnode* type of nodes. So, they need to be Qnode*, not Queue *.<br />
I hope things are clear now.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-34410">
        <div id="dsq-comment-header-34410" class="dsq-comment-header">
            <cite id="dsq-cite-34410">
                <span id="dsq-author-user-34410">danny</span>
            </cite>
        </div>
        <div id="dsq-comment-body-34410" class="dsq-comment-body">
            <div id="dsq-comment-message-34410" class="dsq-comment-message"><p>That means we are having 4 pointers associated to each Qnode prev,next,front and rear right&#8230;.<br />
In the above implementation we are putting the MRU used page in front of queue and least recently used(LRU) on the rear end of queue. So, we need one front and rear for the queue only rather then specific front and rear for each node in queue.<br />
This is because we already have next and prev associated with Qnode to move through different nodes inside Queue&#8230;</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-4" id="dsq-comment-34411">
        <div id="dsq-comment-header-34411" class="dsq-comment-header">
            <cite id="dsq-cite-34411">
                <span id="dsq-author-user-34411">Manish Gupta</span>
            </cite>
        </div>
        <div id="dsq-comment-body-34411" class="dsq-comment-body">
            <div id="dsq-comment-message-34411" class="dsq-comment-message"><p>Yes, but isn&#8217;t it better to directly access the front and rear node when trying to add a new node to front of the queue/remove a node from rear of a queue. Even though we have prev and next pointers that facilitate us to traverse the queue, keeping these two additional pointers will ensure we don&#8217;t have to traverse from the front all the way to the rear whenever a node from rear needs to be removed. In simple words, keeping them makes us able to do insertions and deletions in  O(1), as compared to O(n) when we have to traverse all the way front front till the rear end in order to remove the least recently used page. Hope this helps <img src="http://d2o58evtke57tz.cloudfront.net/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /></p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-5" id="dsq-comment-34414">
        <div id="dsq-comment-header-34414" class="dsq-comment-header">
            <cite id="dsq-cite-34414">
                <span id="dsq-author-user-34414">danny</span>
            </cite>
        </div>
        <div id="dsq-comment-body-34414" class="dsq-comment-body">
            <div id="dsq-comment-message-34414" class="dsq-comment-message"><p>OK thanks for helping me out, It&#8217;s clear now&#8230;. <img src="http://d2o58evtke57tz.cloudfront.net/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-5" id="dsq-comment-34415">
        <div id="dsq-comment-header-34415" class="dsq-comment-header">
            <cite id="dsq-cite-34415">
                <span id="dsq-author-user-34415">Manish Gupta</span>
            </cite>
        </div>
        <div id="dsq-comment-body-34415" class="dsq-comment-body">
            <div id="dsq-comment-message-34415" class="dsq-comment-message"><p>Great. Glad I could help <img src="http://d2o58evtke57tz.cloudfront.net/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /></p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-32324">
        <div id="dsq-comment-header-32324" class="dsq-comment-header">
            <cite id="dsq-cite-32324">
                <span id="dsq-author-user-32324">groomnestle</span>
            </cite>
        </div>
        <div id="dsq-comment-body-32324" class="dsq-comment-body">
            <div id="dsq-comment-message-32324" class="dsq-comment-message"><p>The algo logic doesn&#8217;t seem to work.<br />
Say if we have 3 entries [A, B, C] in the cache table and it&#8217;s full, </p>
<p>if entry C is visited 100 times, the list becomes [C,A,B],<br />
then B is visited 50 times, the list becomes [B, C, A]<br />
then A is visited 10 times , it becomes [A,B,C] again.  </p>
<p>At this point if a new node D comes in, the algorithm removes C (100 visits) instead of A (10  visits)&#8230;.  Am i missing something here ?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-32428">
        <div id="dsq-comment-header-32428" class="dsq-comment-header">
            <cite id="dsq-cite-32428">
                <span id="dsq-author-user-32428">ritz</span>
            </cite>
        </div>
        <div id="dsq-comment-body-32428" class="dsq-comment-body">
            <div id="dsq-comment-message-32428" class="dsq-comment-message"><p>Yes, you are missing something. Its an LRU cache, not an LFU(if it exists). The least RECENTLY used item has to be replaced and not the least FREQUENTLY used. So, its correct to replace C in your case.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-31247">
        <div id="dsq-comment-header-31247" class="dsq-comment-header">
            <cite id="dsq-cite-31247">
                <span id="dsq-author-user-31247">arun</span>
            </cite>
        </div>
        <div id="dsq-comment-body-31247" class="dsq-comment-body">
            <div id="dsq-comment-message-31247" class="dsq-comment-message"><p>Do we really need to remove the hash entry when queue is full and we are adding an item to the queue @ line#118?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-30082">
        <div id="dsq-comment-header-30082" class="dsq-comment-header">
            <cite id="dsq-cite-30082">
                <span id="dsq-author-user-30082">Sathish Kumar</span>
            </cite>
        </div>
        <div id="dsq-comment-body-30082" class="dsq-comment-body">
            <div id="dsq-comment-message-30082" class="dsq-comment-message"><p>Here is an implementation of LRU Cache in Java: <a href="http://best-interview.com/design-least-recently-used-lru-cache-java/" rel="nofollow">http://best-interview.com/design-least-recently-used-lru-cache-java/</a></p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-33830">
        <div id="dsq-comment-header-33830" class="dsq-comment-header">
            <cite id="dsq-cite-33830">
                <span id="dsq-author-user-33830">Mari</span>
            </cite>
        </div>
        <div id="dsq-comment-body-33830" class="dsq-comment-body">
            <div id="dsq-comment-message-33830" class="dsq-comment-message"><p>Thanks for the Java Implementation. there are some changes that need to be done. First, You are using ConcurrentLinkedQueue which is nothing but single linked list internally.  When we implement LRU, we normally use double linked list for efficiency.</p>
<p>Inside the put method, To remove the page from cache (queue), you have used queue.remove method, This will take o(n) in worst case. Rather A good implemetation should only take 6 pointe operations in worst case. The idea to avoid this extra time is to store the node inside the map and get the node from the map as required and change its next and previous. This is same idea as implemented above. </p>
<p>Also you are removing the node from queue even it is accessed recently.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-30056">
        <div id="dsq-comment-header-30056" class="dsq-comment-header">
            <cite id="dsq-cite-30056">
                <span id="dsq-author-user-30056">Onik</span>
            </cite>
        </div>
        <div id="dsq-comment-body-30056" class="dsq-comment-body">
            <div id="dsq-comment-message-30056" class="dsq-comment-message"><p>Is there any specific reason why you used DLL in the queue ? I mean if you know the max size of queue(which is given here) why not you implement the queue using an array ? would not that be more efficient ?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-34267">
        <div id="dsq-comment-header-34267" class="dsq-comment-header">
            <cite id="dsq-cite-34267">
                <span id="dsq-author-user-34267">danny</span>
            </cite>
        </div>
        <div id="dsq-comment-body-34267" class="dsq-comment-body">
            <div id="dsq-comment-message-34267" class="dsq-comment-message"><p>We cannot use array queue because we need to remove the LRU page from the rear and then add the page to front, If we use array implementation then we need to traverse the array again and again to adjust the 0 and last index of array, so as to add the just used page in the front of array&#8230;.which needs O(n) time and using Doubly Linked List we reduced it to O(1)&#8230;</p>
<p>This is one of the reason I could think of.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-28209">
        <div id="dsq-comment-header-28209" class="dsq-comment-header">
            <cite id="dsq-cite-28209">
                <span id="dsq-author-user-28209">rajesh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-28209" class="dsq-comment-body">
            <div id="dsq-comment-message-28209" class="dsq-comment-message"><p>its giving segmentation fault&#8230;coredump</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-28140">
        <div id="dsq-comment-header-28140" class="dsq-comment-header">
            <cite id="dsq-cite-28140">
                <span id="dsq-author-user-28140">pr3za</span>
            </cite>
        </div>
        <div id="dsq-comment-body-28140" class="dsq-comment-body">
            <div id="dsq-comment-message-28140" class="dsq-comment-message"><p>a milion thanks!!</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-27488">
        <div id="dsq-comment-header-27488" class="dsq-comment-header">
            <cite id="dsq-cite-27488">
                <span id="dsq-author-user-27488">Rohit</span>
            </cite>
        </div>
        <div id="dsq-comment-body-27488" class="dsq-comment-body">
            <div id="dsq-comment-message-27488" class="dsq-comment-message"><p><a href="https://launchpad.net/mrucachelib" rel="nofollow">https://launchpad.net/mrucachelib</a></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-codinggeek16 even thread-even depth-1" id="dsq-comment-25177">
        <div id="dsq-comment-header-25177" class="dsq-comment-header">
            <cite id="dsq-cite-25177">
                <span id="dsq-author-user-25177">codinggeek16</span>
            </cite>
        </div>
        <div id="dsq-comment-body-25177" class="dsq-comment-body">
            <div id="dsq-comment-message-25177" class="dsq-comment-message"><p>We can keep a pointer next_in_hash in Qnode and later handle collision by creating a singly linklist using this pointer.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-lifeofpie odd alt thread-odd thread-alt depth-1" id="dsq-comment-23116">
        <div id="dsq-comment-header-23116" class="dsq-comment-header">
            <cite id="dsq-cite-23116">
                <span id="dsq-author-user-23116">lifeofpie</span>
            </cite>
        </div>
        <div id="dsq-comment-body-23116" class="dsq-comment-body">
            <div id="dsq-comment-message-23116" class="dsq-comment-message"><p>what is time complexity of insertion,deletion &#038; searching</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-ecosoft even thread-even depth-1" id="dsq-comment-22678">
        <div id="dsq-comment-header-22678" class="dsq-comment-header">
            <cite id="dsq-cite-22678">
                <span id="dsq-author-user-22678">ecosoft</span>
            </cite>
        </div>
        <div id="dsq-comment-body-22678" class="dsq-comment-body">
            <div id="dsq-comment-message-22678" class="dsq-comment-message"><p>When you call the deQueue function, could you delete the entry in the hashtable?</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
<ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-32770">
        <div id="dsq-comment-header-32770" class="dsq-comment-header">
            <cite id="dsq-cite-32770">
                <span id="dsq-author-user-32770">nanda</span>
            </cite>
        </div>
        <div id="dsq-comment-body-32770" class="dsq-comment-body">
            <div id="dsq-comment-message-32770" class="dsq-comment-message"><p>If the node is not deleted, won&#8217;t there be wrong address in the hash table for the the older key?<br />
For example, 8 is removed from tail and placed at head. Now the 8&#8217;s address is still in hashtable. When 8 is referenced next time, 6 will found at the front at it will be returned.<br />
Deletion from both linked list and hash table ensures this doesn&#8217;t happen is what I understand.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-abhishek08aug even thread-odd thread-alt depth-1" id="dsq-comment-17930">
        <div id="dsq-comment-header-17930" class="dsq-comment-header">
            <cite id="dsq-cite-17930">
                <span id="dsq-author-user-17930">abhishek08aug</span>
            </cite>
        </div>
        <div id="dsq-comment-body-17930" class="dsq-comment-body">
            <div id="dsq-comment-message-17930" class="dsq-comment-message"><p>Intelligent <img src="http://d2o58evtke57tz.cloudfront.net/wp-includes/images/smilies/icon_biggrin.gif" alt=":D" class="wp-smiley" /></p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-28969">
        <div id="dsq-comment-header-28969" class="dsq-comment-header">
            <cite id="dsq-cite-28969">
                <span id="dsq-author-user-28969">anonymous</span>
            </cite>
        </div>
        <div id="dsq-comment-body-28969" class="dsq-comment-body">
            <div id="dsq-comment-message-28969" class="dsq-comment-message"><p>Srsly?? Everywhere??</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-15500">
        <div id="dsq-comment-header-15500" class="dsq-comment-header">
            <cite id="dsq-cite-15500">
                <span id="dsq-author-user-15500">neham</span>
            </cite>
        </div>
        <div id="dsq-comment-body-15500" class="dsq-comment-body">
            <div id="dsq-comment-message-15500" class="dsq-comment-message"><p>This LRU caching scheme works great, but on real system, page numbers can never be between 0 &amp; 10. So, How page fault handler track different pages of different processes? my point is page numbers can be referenced randomly between many processes so how pages are numbered by operating system.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-14482">
        <div id="dsq-comment-header-14482" class="dsq-comment-header">
            <cite id="dsq-cite-14482">
                <span id="dsq-author-user-14482">shady</span>
            </cite>
        </div>
        <div id="dsq-comment-body-14482" class="dsq-comment-body">
            <div id="dsq-comment-message-14482" class="dsq-comment-message"><p>in ReferencePage function this check </p>
<pre> <code language="C">
   if (reqPage-&gt;prev)
</code> </pre>
<p>is redundant because we have already know that the queue-&gt;front and the referenced page are not same, so previous is bound to exist.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-autoalgorithmist bypostauthor even depth-2" id="dsq-comment-15173">
        <div id="dsq-comment-header-15173" class="dsq-comment-header">
            <cite id="dsq-cite-15173">
http://www.facebook.com/barnwal.aashish                <span id="dsq-author-user-15173">Aashish</span>
            </cite>
        </div>
        <div id="dsq-comment-body-15173" class="dsq-comment-body">
            <div id="dsq-comment-message-15173" class="dsq-comment-message"><p>Thanks for pointing this out. We have updated the code. Keep it up.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-14304">
        <div id="dsq-comment-header-14304" class="dsq-comment-header">
            <cite id="dsq-cite-14304">
                <span id="dsq-author-user-14304">Ansuman</span>
            </cite>
        </div>
        <div id="dsq-comment-body-14304" class="dsq-comment-body">
            <div id="dsq-comment-message-14304" class="dsq-comment-message"><p>Why we need hash in it ? Can it be done without using hash?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-14488">
        <div id="dsq-comment-header-14488" class="dsq-comment-header">
            <cite id="dsq-cite-14488">
                <span id="dsq-author-user-14488">Rahul</span>
            </cite>
        </div>
        <div id="dsq-comment-body-14488" class="dsq-comment-body">
            <div id="dsq-comment-message-14488" class="dsq-comment-message"><p>See the below comment by @Aashish Barnwal. He has mentioned the usage of hash.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-13938">
        <div id="dsq-comment-header-13938" class="dsq-comment-header">
            <cite id="dsq-cite-13938">
                <span id="dsq-author-user-13938">Balasubramanian</span>
            </cite>
        </div>
        <div id="dsq-comment-body-13938" class="dsq-comment-body">
            <div id="dsq-comment-message-13938" class="dsq-comment-message"><p>In the above implementation, we are indexing the hash table using the page number. What if the total number of pages that can be referenced be quite large while the size of the cache is relatively very less. Won&#8217;t we be wasting a lot of space?</p>
<p>I think it would be good if we can use a HashTable similar to the one provided in STL, instead of having an array with an index for every possible page number.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-12812">
        <div id="dsq-comment-header-12812" class="dsq-comment-header">
            <cite id="dsq-cite-12812">
                <span id="dsq-author-user-12812">Rohit</span>
            </cite>
        </div>
        <div id="dsq-comment-body-12812" class="dsq-comment-body">
            <div id="dsq-comment-message-12812" class="dsq-comment-message"><p>The code to dequeue and enqueue a page, when the queue is full, seems to be missing. When the cache reaches its maximum size, we<br />
  1. Check if the accessed page is present. If so, just move the page to the front.<br />
  2. Otherwise, delete the last element from the queue (queue and hash). Now, insert the new element.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-11850">
        <div id="dsq-comment-header-11850" class="dsq-comment-header">
            <cite id="dsq-cite-11850">
                <span id="dsq-author-user-11850">@Animesh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-11850" class="dsq-comment-body">
            <div id="dsq-comment-message-11850" class="dsq-comment-message"><p>The code mentioned above in C source:</p>
<pre> <code language="C">
#include &quot;linked_list_library.c&quot;
struct node* add(struct node* head, int a, int count)
{
    struct node* mover=head,*current=head, *p;
     if(count&lt;=4)
    {
        if(head==NULL)
        {
            p=(struct node*) malloc(sizeof(struct node));
            p-&gt;info=a;
            p-&gt;next==NULL;
            head=p;
            head-&gt;next=NULL;
            return head;
        }
        while(mover-&gt;next!=NULL)
        {
            if(mover-&gt;info==a&amp;&amp;mover==head)
            {
                head=head-&gt;next;
                current-&gt;next=mover-&gt;next;
                 while(current-&gt;next!=NULL)
                {
                    current=current-&gt;next;
                }
                current-&gt;next=mover;
                mover-&gt;next=NULL;
                return head;
            }
            if(mover-&gt;info==a)
            {
                current-&gt;next=mover-&gt;next;
                mover-&gt;next=NULL;
                while(current-&gt;next!=NULL)
                {
                    current=current-&gt;next;
                }
                current-&gt;next=mover;
                return head;
            }
            current=mover;
            mover=mover-&gt;next;
        }
 
 
 
        p=(struct node*) malloc(sizeof(struct node));
        p-&gt;info=a;
        p-&gt;next=NULL;
        mover-&gt;next=p;
        return head;
 
    }
    while(mover!=NULL)
    {
 
        if(mover-&gt;info==a&amp;&amp;mover-&gt;next!=NULL)
        {
 
 
 
                current-&gt;next=mover-&gt;next;
                mover-&gt;next=NULL;
                 while(current-&gt;next!=NULL)
                {
                    current=current-&gt;next;
                }
                current-&gt;next=mover;
                mover-&gt;next=NULL;
            return head;
        }
        current=mover;
        mover=mover-&gt;next;
    }
 
 
    if(count&gt;4)
    {
        p=(struct node*) malloc(sizeof(struct node));
        p-&gt;info=a;
        p-&gt;next=NULL;
        head=head-&gt;next;
        current-&gt;next=p;
        return head;
    }
}
 
int main()
{
    int count=0;
    struct node* head=add(NULL,1,0);display(head);
 
    head=add(head,2,1);display(head);
 
    head=add(head,3,2);display(head);
    head=add(head,1,3);display(head);
    head=add(head,4,4);display(head);
    head=add(head,5,5);display(head);
    head=add(head,2,5);display(head);
    head=add(head,6,5);display(head);
    head=add(head,5,5);display(head);
    return 0;
}
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-11849">
        <div id="dsq-comment-header-11849" class="dsq-comment-header">
            <cite id="dsq-cite-11849">
                <span id="dsq-author-user-11849">abcdef</span>
            </cite>
        </div>
        <div id="dsq-comment-body-11849" class="dsq-comment-body">
            <div id="dsq-comment-message-11849" class="dsq-comment-message"><p>why the error comes every time I try to comment?</p>
<pre> <code language="C">
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-11807">
        <div id="dsq-comment-header-11807" class="dsq-comment-header">
            <cite id="dsq-cite-11807">
                <span id="dsq-author-user-11807">Animesh Pratap Singh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-11807" class="dsq-comment-body">
            <div id="dsq-comment-message-11807" class="dsq-comment-message"><p>this is my code&#8230;. i suppose is simple 4m the above thing..!!</p>
<pre> <code language="C">
/*#include &quot;linked_list_library.c&quot;
struct node* add(struct node* head, int a, int count)
{
    struct node* mover=head,*current=head, *p;
     if(count&lt;=4)
    {
        if(head==NULL)
        {
            p=(struct node*) malloc(sizeof(struct node));
            p-&gt;info=a;
            p-&gt;next==NULL;
            head=p;
            head-&gt;next=NULL;
            return head;
        }
        while(mover-&gt;next!=NULL)
        {
            if(mover-&gt;info==a&amp;&amp;mover==head)
            {
                head=head-&gt;next;
                current-&gt;next=mover-&gt;next;
                 while(current-&gt;next!=NULL)
                {
                    current=current-&gt;next;
                }
                current-&gt;next=mover;
                mover-&gt;next=NULL;
                return head;
            }
            if(mover-&gt;info==a)
            {
                current-&gt;next=mover-&gt;next;
                mover-&gt;next=NULL;
                while(current-&gt;next!=NULL)
                {
                    current=current-&gt;next;
                }
                current-&gt;next=mover;
                return head;
            }
            current=mover;
            mover=mover-&gt;next;
        }



        p=(struct node*) malloc(sizeof(struct node));
        p-&gt;info=a;
        p-&gt;next=NULL;
        mover-&gt;next=p;
        return head;

    }
    while(mover!=NULL)
    {

        if(mover-&gt;info==a&amp;&amp;mover-&gt;next!=NULL)
        {



                current-&gt;next=mover-&gt;next;
                mover-&gt;next=NULL;
                 while(current-&gt;next!=NULL)
                {
                    current=current-&gt;next;
                }
                current-&gt;next=mover;
                mover-&gt;next=NULL;
            return head;
        }
        current=mover;
        mover=mover-&gt;next;
    }


    if(count&gt;4)
    {
        p=(struct node*) malloc(sizeof(struct node));
        p-&gt;info=a;
        p-&gt;next=NULL;
        head=head-&gt;next;
        current-&gt;next=p;
        return head;
    }
}

int main()
{
    int count=0;
    struct node* head=add(NULL,1,0);display(head);

    head=add(head,2,1);display(head);

    head=add(head,3,2);display(head);
    head=add(head,1,3);display(head);
    head=add(head,4,4);display(head);
    head=add(head,5,5);display(head);
    head=add(head,2,5);display(head);
    head=add(head,6,5);display(head);
    head=add(head,5,5);display(head);
    return 0;
}
 */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-11808">
        <div id="dsq-comment-header-11808" class="dsq-comment-header">
            <cite id="dsq-cite-11808">
                <span id="dsq-author-user-11808">Animesh Pratap Singh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-11808" class="dsq-comment-body">
            <div id="dsq-comment-message-11808" class="dsq-comment-message"><p>1- singly Linked List has recently used item at the end&#8230;.<br />
2- New element is added to the linked list keeping (page table size =4)<br />
3- if element is present already in linkd List,,, it is jumped to the end.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-11177">
        <div id="dsq-comment-header-11177" class="dsq-comment-header">
            <cite id="dsq-cite-11177">
                <span id="dsq-author-user-11177">pratik</span>
            </cite>
        </div>
        <div id="dsq-comment-body-11177" class="dsq-comment-body">
            <div id="dsq-comment-message-11177" class="dsq-comment-message"><p>i didnt truly understand why did u used a hash table , if you just wanted to keep an address of that page no. u can always add an extra address field in node structure</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-11178">
        <div id="dsq-comment-header-11178" class="dsq-comment-header">
            <cite id="dsq-cite-11178">
                <span id="dsq-author-user-11178">Aashish Barnwal</span>
            </cite>
        </div>
        <div id="dsq-comment-body-11178" class="dsq-comment-body">
            <div id="dsq-comment-message-11178" class="dsq-comment-message"><p>Hash is used for O(1) insertion, O(1) deletion and O(1) search.<br />
Assume that hash is not there, how will you check whether a page is in the memory or it needs to be brought in the memory.<br />
Use of hash data structure makes these operations fast.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-_naive_ odd alt depth-3" id="dsq-comment-18815">
        <div id="dsq-comment-header-18815" class="dsq-comment-header">
            <cite id="dsq-cite-18815">
                <span id="dsq-author-user-18815">_naive_</span>
            </cite>
        </div>
        <div id="dsq-comment-body-18815" class="dsq-comment-body">
            <div id="dsq-comment-message-18815" class="dsq-comment-message"><p>Hashing is only possible when range of pages in given. isn&#8217;t it ??</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
var disqus_url = 'http://www.geeksforgeeks.org/implement-lru-cache/';
var disqus_identifier = '24498 http://www.geeksforgeeks.org/?p=24498';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'geeksforgeeks';
var disqus_title = "Implement LRU Cache";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

			</div>
	
					
			
			

		</div> <!-- end post -->	

<br></br>
	
</div> <!-- end content -->

<ul id="sidebar">
	<li id="text-19" class="widget widget_text">			<div class="textwidget"><script>
  (function() {
    var cx = '009682134359037907028:tj6eafkv_be';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

<style type="text/css">
  .gsc-control-cse {
    font-family: "Trebuchet MS", sans-serif;
    border-color: #E1F3DA;
    background-color: #E1F3DA;
  }
  input.gsc-input {
    border-color: #94CC7A;
  }
  input.gsc-search-button {
    border-color: #94CC7A;
    background-color: #AADA92;
  }
  .gsc-tabHeader.gsc-tabhInactive {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-tabHeader.gsc-tabhActive {
    border-color: #A9DA92;
    background-color: #A9DA92;
  }
  .gsc-tabsArea {
    border-color: #A9DA92;
  }
  .gsc-webResult.gsc-result {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-webResult.gsc-result:hover {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gs-webResult.gs-result a.gs-title:link,
  .gs-webResult.gs-result a.gs-title:link b {
    color: #009900;
  }
  .gs-webResult.gs-result a.gs-title:visited,
  .gs-webResult.gs-result a.gs-title:visited b {
    color: #009900;
  }
  .gs-webResult.gs-result a.gs-title:hover,
  .gs-webResult.gs-result a.gs-title:hover b {
    color: #003300;
  }
  .gs-webResult.gs-result a.gs-title:active,
  .gs-webResult.gs-result a.gs-title:active b {
    color: #009900;
  }
  .gsc-cursor-page {
    color: #009900;
  }
  a.gsc-trailing-more-results:link {
    color: #009900;
  }
  .gs-webResult.gs-result .gs-snippet {
    color: #454545;
  }
  .gs-webResult.gs-result .gs-visibleUrl {
    color: #33cc00;
  }
  .gs-webResult.gs-result .gs-visibleUrl-short {
    color: #33cc00;
  }
  .gs-webResult.gs-result .gs-visibleUrl-short {
    display: none;
  }
  .gs-webResult.gs-result .gs-visibleUrl-long {
    display: block;
  }
  .gsc-cursor-box {
    border-color: #A9DA92;
  }
  .gsc-results .gsc-cursor-page {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-results .gsc-cursor-page.gsc-cursor-current-page {
    border-color: #A9DA92;
    background-color: #A9DA92;
  }
  .gs-promotion.gs-result {
    border-color: #94CC7A;
    background-color: #CBE8B4;
  }
  .gs-promotion.gs-result a.gs-title:link {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:visited {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:hover {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:active {
    color: #0066CC;
  }
  .gs-promotion.gs-result .gs-snippet {
    color: #454545;
  }
  .gs-promotion.gs-result .gs-visibleUrl,
  .gs-promotion.gs-result .gs-visibleUrl-short {
    color: #815FA7;
  }
</style>    </div>
		</li>
<li id="text-9" class="widget widget_text">			<div class="textwidget"><div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=138031159685820";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-like-box" data-href="https://www.facebook.com/pages/GeeksforGeeks/316764689022" data-width="250" data-height="170" data-colorscheme="light" data-show-faces="true" data-header="false" data-stream="false" data-show-border="false"></div></div>
		</li>
<li id="text-18" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LargeRectangleSide -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="1884636833"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>
<li id="text-13" class="widget widget_text">			<div class="textwidget"><ul><li><a href="http://www.geeksforgeeks.org/category/interview-experiences/">Interview Experiences</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/advance-data-structures">Advanced Data Structures</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/dynamic-programming">Dynamic Programming</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/Greedy-Algorithm/">Greedy Algorithms</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/backtracking">Backtracking</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/pattern-searching">Pattern Searching</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/divide-and-conquer">Divide & Conquer</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/MathematicalAlgo">Mathematical Algorithms</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/recursion">Recursion</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/geometric-algorithms/">Geometric Algorithms</a></li>
</ul></div>
		</li>
<li id="text-17" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Big 300x600 Sidebar -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="4402736037"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>
<li id="text-14" class="widget widget_text"><h2 class="widgettitle">Popular Posts</h2>
			<div class="textwidget"><ul>
<li><a href="http://www.geeksforgeeks.org/write-a-c-program-to-print-all-permutations-of-a-given-string/">  All permutations of a given string </a></li>
<li><a href="http://www.geeksforgeeks.org/memory-layout-of-c-program/"> Memory Layout of C Programs</a> </li>
<li><a href="http://www.geeksforgeeks.org/understanding-extern-keyword-in-c/"> Understanding “extern” keyword in C</a> </li>
<li><a href="http://www.geeksforgeeks.org/median-of-two-sorted-arrays/">Median of two sorted arrays</a> </li>
<li><a href="http://www.geeksforgeeks.org/inorder-tree-traversal-without-recursion-and-without-stack/"> Tree traversal without recursion and without stack! </a></li>
<li><a href="http://www.geeksforgeeks.org/structure-member-alignment-padding-and-data-packing/"> Structure Member Alignment, Padding and Data Packing</a> </li>
<li><a href="http://www.geeksforgeeks.org/write-a-function-to-get-the-intersection-point-of-two-linked-lists/"> Intersection point of two Linked Lists</a> </li>
<li><a href="http://www.geeksforgeeks.org/lowest-common-ancestor-in-a-binary-search-tree/"> Lowest Common Ancestor in a BST.</span></a> </li>
<li><a href="http://www.geeksforgeeks.org/a-program-to-check-if-a-binary-tree-is-bst-or-not/"> Check if a binary tree is BST or not</a> </li>
<li><a href="http://www.geeksforgeeks.org/sorted-linked-list-to-balanced-bst/"> Sorted Linked List to Balanced BST</a></li>
</ul></div>
		</li>
<li id="text-3" class="widget widget_text">			<div class="textwidget"><a href="https://twitter.com/GeeksforGeeks" class="twitter-follow-button" data-show-count="false">Follow @GeeksforGeeks</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>         


<!-- GOOGLE FEEDBURNER BUTTON-->
<a href="http://feeds.feedburner.com/Geeksforgeeks" title="Subscribe to my feed" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon32x32.png" alt="" style="border:0"/></a><a href="http://feeds.feedburner.com/Geeksforgeeks" title="Subscribe to my feed" rel="alternate" type="application/rss+xml">Subscribe</a>

</div>
		</li>
<li id="text-21" class="widget widget_text"><h2 class="widgettitle">Recent Comments</h2>
			<div class="textwidget"><script type="text/javascript" src="http://geeksforgeeks.disqus.com//recent_comments_widget.js?num_items=6&hide_avatars=1&excerpt_length=50&hide_mods=0"></script></div>
		</li>
<li id="text-22" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>

</ul>					  
		<div class="clear"></div>

		<div id="footer">
		
		    <div class="xhtml">
                        @geeksforgeeks, <a href="http://creativecommons.org/licenses/by-nc-nd/2.5/in/deed.en_US" title="Valid XHTML Strict 1.0">Some rights reserved</a>  <a href="http://www.geeksforgeeks.org/about/contact-us/"> &nbsp; &nbsp; &nbsp; &nbsp;Contact Us!</a>

		    </div>
		    
		    <div class="credits">
			  Powered by <a href="http://wordpress.org">WordPress </a> &amp; <a href="http://mootools.net/" title="Mootools JavaScript Framework">MooTools</a>, customized by geeksforgeeks team </div>
			  
		   <div class="clear"></div>						                            
		   
		</div> <!--end footer-->  
        
		        <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'geeksforgeeks';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); 
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
        <script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCpp.js?ver=3.0.9'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/js/editor.js?ver=2.5.4-5380'></script>
				  
		</div> <!--end wrapper-->
        <div id="ajaxSpinner"></div> <!--For AJAX spinner holder-->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12148232-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
	</body>

</html>
<!-- Dynamic page generated in 0.205 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2014-11-27 23:26:43 -->

<!-- Compression = gzip -->
<!-- super cache -->