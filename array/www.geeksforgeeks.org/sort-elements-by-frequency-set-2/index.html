<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
       <title>Sort elements by frequency | Set 2 - GeeksforGeeks</title>
       <style type="text/css" media="screen">
          @import url('http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/style.css');
    </style>
      <link href="http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/favicon.ico" rel="shortcut icon" />    
    
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.7.1 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://www.geeksforgeeks.org/sort-elements-by-frequency-set-2/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Sort elements by frequency | Set 2 - GeeksforGeeks" />
<meta property="og:description" content="Given an array of integers, sort the array according to frequency of elements. For example, if the input array is {2, 3, 2, 4, 5, 12, 2, 3, 3, 3, 12}, then modify the array to {3, 3, 3, 3, 2, 2, 2, 12, 12, 4, 5}. In the previous post, we have discussed all &hellip;" />
<meta property="og:url" content="http://www.geeksforgeeks.org/sort-elements-by-frequency-set-2/" />
<meta property="og:site_name" content="GeeksforGeeks" />
<meta property="article:section" content="Arrays" />
<meta property="article:published_time" content="2013-05-05T09:31:40+00:00" />
<meta property="article:modified_time" content="2013-05-05T12:10:33+00:00" />
<meta property="og:updated_time" content="2013-05-05T12:10:33+00:00" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel='stylesheet' id='wp-quicklatex-format-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/css/quicklatex-format.css?ver=4.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='bbp-default-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/css/bbpress.css?ver=2.5.4-5380' type='text/css' media='screen' />
<link rel='stylesheet' id='wp-pagenavi-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-pagenavi/pagenavi-css.css?ver=2.70' type='text/css' media='all' />
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery.js?ver=1.11.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/js/wp-quicklatex-frontend.js?ver=1.0'></script>

<!-- Bad Behavior 2.2.16 run time: 1.499 ms -->
<script type="text/javascript">
<!--
function bb2_addLoadEvent(func) {
	var oldonload = window.onload;
	if (typeof window.onload != 'function') {
		window.onload = func;
	} else {
		window.onload = function() {
			oldonload();
			func();
		}
	}
}

bb2_addLoadEvent(function() {
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1417111270 27.56.177.49';
			document.forms[i].appendChild(myElement);
		}
	}
});
// --></script>
		<style type="text/css" id="syntaxhighlighteranchor"></style>
   <meta name="google-site-verification" content="rHK2v8_zzuAZQY8JHAzbllDN8u-aQxcn2Kqnp67Old0" />
</head>

<body>
<!-- o4dI0sCXUgoSONabbd8mbZ4SA3E -->    
    <div id="wrapper">
        <div class="blog-info">
                <h1 class="blog-title">
                <a href="http://www.geeksforgeeks.org" title="GeeksforGeeks">GeeksforGeeks</a>
            </h1>
       
            <div class="blog-description">
                A computer science portal for geeks            </div>
        </div>
        <b><p>  <h2 align="right"> <a href="http://geeksquiz.com/">GeeksQuiz</a></h2> 
   <a href="http://www.geeksforgeeks.org/wp-login.php">Login</a> 
         </p></b>  
         
         <div class="clear"></div>         
              
                     
            <div id="menu">   
                 <ul>
 <li><a href="http://www.geeksforgeeks.org">Home</a></li>
  <li><a href="http://www.geeksforgeeks.org/fundamentals-of-algorithms/">Algorithms</a></li>
 <li><a href="http://www.geeksforgeeks.org/data-structures/">DS</a></li>
  <li><a href="http://www.geeksforgeeks.org/gate-corner/">GATE</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/interview-corner/">Interview Corner</a></li>
  <li><a href="http://www.geeksforgeeks.org/forums/">Q&A</a></li>
  <li><a href="http://www.geeksforgeeks.org/c/">C</a></li>
  <li><a href="http://www.geeksforgeeks.org/c-plus-plus/">C++</a></li>
  <li><a href="http://www.geeksforgeeks.org/java/">Java</a></li>
  <li><a href="http://www.geeksforgeeks.org/books/">Books</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/">Contribute</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/ask-a-question/">Ask a Q</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/">About</a></li>
            </ul>

               
            <div class="clear"></div>     
        </div>
             <div id="navmenu">
				<ul id="menu" style="padding:0; margin:0;">
						<li class="cat-item cat-item-3"><a href="http://www.geeksforgeeks.org/category/c-arrays/" title="Questions regarding Arrays">Array</a>
</li>	

	<li class="cat-item cat-item-17"><a href="http://www.geeksforgeeks.org/category/bit-magic/" title="View all posts filed under Bit Magic">Bit Magic</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://www.geeksforgeeks.org/category/c-puzzles/" title="View all posts filed under C/C++ Puzzles">C/C++</a>
</li>

<li class="cat-item cat-item-18"><a href="http://www.geeksforgeeks.org/category/articles/" title="View all posts filed under Articles">Articles</a>
</li>

	<li class="cat-item cat-item-67"><a href="http://www.geeksforgeeks.org/category/gfact/" title="View all posts filed under GFacts">GFacts</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://www.geeksforgeeks.org/category/linked-list/" title="Linked List problems">Linked List</a>
</li>
	<li class="cat-item cat-item-66"><a href="http://www.geeksforgeeks.org/category/multiple-choice-question/" title="View all posts filed under MCQ">MCQ</a>

</li>
	<li class="cat-item cat-item-4"><a href="http://www.geeksforgeeks.org/category/c-programs/" title="Miscellaneous">Misc</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.geeksforgeeks.org/category/program-output/" title="View all posts filed under Output">Output</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://www.geeksforgeeks.org/category/c-strings/" title="Questions related to strings">String</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.geeksforgeeks.org/category/tree/" title="View all posts filed under Trees">Tree</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.geeksforgeeks.org/category/graph/" title="View all posts filed under Graph">Graph</a>
</li>
</ul>
        </div>
             <div id="content">	   	
	<div class="post" id="post">
							<div class="post-info">			
					<div class="post-title-info">
						<h2 class="post-title">Sort elements by frequency | Set 2</h2>
					</div>			
					<div class="clear"></div>				  
				<div class="post-content" id="post-content">
					<p>Given an array of integers, sort the array according to frequency of elements. For example, if the input array is {2, 3, 2, 4, 5, 12, 2, 3, 3, 3, 12}, then modify the array to {3, 3, 3, 3, 2, 2, 2, 12, 12, 4, 5}.  <span id="more-117551"></span><br />
In the <a href="http://www.geeksforgeeks.org/sort-elements-by-frequency/" target="_blank">previous post</a>, we have discussed all methods for sorting according to frequency. In this post, method 2 is discussed in detail and C++ implementation for the same is provided.</p>
<p>Following is detailed algorithm.<br />
<strong>1)</strong> Create a BST and while creating BST maintain the count i,e frequency of each coming element in same BST.  This step may take O(nLogn) time if a self balancing BST is used.<br />
<strong>2)</strong> Do Inorder traversal of BST and store every element and count of each element in an auxiliary array. Let us call the auxiliary array as &#8216;count[]&#8217;.  Note that every element of this array is element and frequency pair. This step takes O(n) time.<br />
<strong>3)</strong> Sort &#8216;count[]&#8217; according to frequency of the elements. This step takes O(nLohn) time if a O(nLogn) sorting algorithm is used.<br />
<strong>4) </strong>Traverse through the sorted array &#8216;count[]&#8217;.  For each element x, print it &#8216;freq&#8217; times where &#8216;freq&#8217; is frequency of x.  This step takes O(n) time.</p>
<p>Overall time complexity of the algorithm can be minimum O(nLogn) if we use a O(nLogn) sorting algorithm and use a self balancing BST with O(Logn) insert operation.</p>
<p>Following is C++ implementation of the above algorithm.</p>
<pre class="brush: cpp; highlight: [74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101]; title: ; notranslate" title="">
// Implementation of above algorithm in C++.
#include &lt;iostream&gt;
#include &lt;stdlib.h&gt;
using namespace std;

/* A BST node has data, freq, left and right pointers */
struct BSTNode
{
    struct BSTNode *left;
    int data;
    int freq;
    struct BSTNode *right;
};

// A structure to store data and its frequency
struct dataFreq
{
    int data;
    int freq;
};

/* Function for qsort() implementation. Compare frequencies to
   sort the array according to decreasing order of frequency */
int compare(const void *a, const void *b)
{
    return ( (*(const dataFreq*)b).freq - (*(const dataFreq*)a).freq );
}

/* Helper function that allocates a new node with the given data,
   frequency as 1 and NULL left and right  pointers.*/
BSTNode* newNode(int data)
{
    struct BSTNode* node = new BSTNode;
    node-&gt;data = data;
    node-&gt;left = NULL;
    node-&gt;right = NULL;
    node-&gt;freq = 1;
    return (node);
}

// A utility function to insert a given key to BST. If element
// is already present, then increases frequency
BSTNode *insert(BSTNode *root, int data)
{
    if (root == NULL)
        return newNode(data);
    if (data == root-&gt;data) // If already present
        root-&gt;freq += 1;
    else if (data &lt; root-&gt;data)
        root-&gt;left = insert(root-&gt;left, data);
    else
        root-&gt;right = insert(root-&gt;right, data);
    return root;
}

// Function to copy elements and their frequencies to count[].
void store(BSTNode *root, dataFreq count[], int *index)
{
    // Base Case
    if (root == NULL) return;

    // Recur for left substree
    store(root-&gt;left, count, index);

    // Store item from root and increment index
    count[(*index)].freq = root-&gt;freq;
    count[(*index)].data = root-&gt;data;
    (*index)++;

    // Recur for right subtree
    store(root-&gt;right, count, index);
}

// The main function that takes an input array as an argument
// and sorts the array items according to frequency
void sortByFrequency(int arr[], int n)
{
    // Create an empty BST and insert all array items in BST
    struct BSTNode *root = NULL;
    for (int i = 0; i &lt; n; ++i)
        root = insert(root, arr[i]);

    // Create an auxiliary array 'count[]' to store data and
    // frequency pairs. The maximum size of this array would
    // be n when all elements are different
    dataFreq count[n];
    int index = 0;
    store(root, count, &amp;index);

    // Sort the count[] array according to frequency (or count)
    qsort(count, index, sizeof(count[0]), compare);

    // Finally, traverse the sorted count[] array and copy the
    // i'th item 'freq' times to original array 'arr[]'
    int j = 0;
    for (int i = 0; i &lt; index; i++)
    {
        for (int freq = count[i].freq; freq &gt; 0; freq--)
            arr[j++] = count[i].data;
    }
}

// A utility function to print an array of size n
void printArray(int arr[], int n)
{
    for (int i = 0; i &lt; n; i++)
        cout &lt;&lt; arr[i] &lt;&lt; &quot; &quot;;
    cout &lt;&lt; endl;
}

/* Driver program to test above functions */
int main()
{
    int arr[] = {2, 3, 2, 4, 5, 12, 2, 3, 3, 3, 12};
    int n = sizeof(arr)/sizeof(arr[0]);
    sortByFrequency(arr, n);
    printArray(arr, n);
    return 0;
}
</pre>
<p>Output:
<pre>3 3 3 3 2 2 2 12 12 5 4</pre>
<p><strong>Exercise:</strong><br />
The above implementation doesn&#8217;t guarantee original order of elements with same frequency (for example, 4 comes before 5 in input, but 4 comes after 5 in output).  Extend the implementation to maintain original order. For example, if two elements have same frequency then print the one which came 1st in input array.</p>
<p>This article is compiled by <strong><a href="https://www.facebook.com/chandra.prakash.52643?fref=ts" target="_blank">Chandra Prakash</a></strong>. Please write comments if you find anything incorrect, or you want to share more information about the topic discussed above</p>
		
&nbsp;
&nbsp;
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Big Rectangle Blog Bottom -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="4061219431"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>



&nbsp;
&nbsp;
&nbsp;
<h3>Related Topics:</h3><ul><li><a href="http://www.geeksforgeeks.org/kth-smallestlargest-element-unsorted-array-set-2-expected-linear-time/" title="K’th Smallest/Largest Element in Unsorted Array | Set 2 (Expected Linear Time)">K’th Smallest/Largest Element in Unsorted Array | Set 2 (Expected Linear Time)</a></li><li><a href="http://www.geeksforgeeks.org/kth-smallestlargest-element-unsorted-array/" title="K&#8217;th Smallest/Largest Element in Unsorted Array | Set 1">K&#8217;th Smallest/Largest Element in Unsorted Array | Set 1</a></li><li><a href="http://www.geeksforgeeks.org/time-complexity-insertion-sort-inversions/" title="Time complexity of insertion sort when there are O(n) inversions?">Time complexity of insertion sort when there are O(n) inversions?</a></li><li><a href="http://www.geeksforgeeks.org/check-two-given-sets-disjoint/" title="How to check if two given sets are disjoint?">How to check if two given sets are disjoint?</a></li><li><a href="http://www.geeksforgeeks.org/minimum-number-platforms-required-railwaybus-station/" title="Minimum Number of Platforms Required for a Railway/Bus Station">Minimum Number of Platforms Required for a Railway/Bus Station</a></li><li><a href="http://www.geeksforgeeks.org/given-two-sorted-arrays-number-x-find-pair-whose-sum-closest-x/" title="Find the closest pair from two sorted arrays">Find the closest pair from two sorted arrays</a></li><li><a href="http://www.geeksforgeeks.org/print-elements-sorted-order-row-column-wise-sorted-matrix/" title="Print all elements in sorted order from row and column wise sorted matrix">Print all elements in sorted order from row and column wise sorted matrix</a></li><li><a href="http://www.geeksforgeeks.org/length-largest-subarray-contiguous-elements-set-1/" title="Length of the largest subarray with contiguous elements | Set 1">Length of the largest subarray with contiguous elements | Set 1</a></li></ul>
<p></p> 
<div>
<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.geeksforgeeks.org%2Fsort-elements-by-frequency-set-2%2F&layout=button_count&show_faces=false&width=90&action=like&colorscheme=light" scrolling="no" frameborder="0" allowTransparency="true" style="border:none; overflow:hidden; width:90px; height:20px"></iframe>
<a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.geeksforgeeks.org/sort-elements-by-frequency-set-2/" data-text="Sort elements by frequency | Set 2" data-count="horizontal" data-via="jakerutter">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
<g:plusone size="medium" href="http://www.geeksforgeeks.org/sort-elements-by-frequency-set-2/"></g:plusone>
<!-- Place this render call where appropriate -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script></div>





				</div>		  
			</div> <!-- end post main -->					
			<div class="post-meta">
				<div class="left"></div>				
				<div class="clear"></div>
			</div>			
        
			<div class="comments-main">		
 <b>Writing code in comment?</b> Please use <b><a href="http://ideone.com/">ideone.com</a></b> and share the link here.
				
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-28084">
        <div id="dsq-comment-header-28084" class="dsq-comment-header">
            <cite id="dsq-cite-28084">
                <span id="dsq-author-user-28084">Suryabhan Singh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-28084" class="dsq-comment-body">
            <div id="dsq-comment-message-28084" class="dsq-comment-message"><p>another solution in cpp without creating BST</p>
<p><code></p>
<p>bool compare(pair a,pair b)<br />
{<br />
    return(a.second &gt; b.second);<br />
}</p>
<p>void fun(int a[],int size)<br />
{<br />
    sort(a,a+size);<br />
    pair p;<br />
    int i=0;<br />
    vector&lt;pair &gt; v;<br />
    while(i&lt;size)<br />
    {<br />
        p.first=a[i];<br />
        p.second=1;<br />
        while(a[i]==a[i+1])<br />
        {<br />
            p.second++;<br />
            i++;<br />
        }</p>
<p>        v.push_back(p);<br />
        i++;<br />
    }<br />
    i=0;<br />
    sort(v.begin(),v.end(),compare);<br />
    for(int j=0;j&lt;size;)<br />
    {</p>
<p>        while(v[i].second)<br />
        {<br />
            a[j]=v[i].first;<br />
            v[i].second--;<br />
            j++;<br />
        }<br />
        i++;<br />
    }</p>
<p>    for(j=0;j&lt;size;j++)<br />
        cout&lt;&lt;a[j]&lt;&lt;&quot; &quot;;<br />
}</p>
<p></code></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-28017">
        <div id="dsq-comment-header-28017" class="dsq-comment-header">
            <cite id="dsq-cite-28017">
                <span id="dsq-author-user-28017">Kai Luo</span>
            </cite>
        </div>
        <div id="dsq-comment-body-28017" class="dsq-comment-body">
            <div id="dsq-comment-message-28017" class="dsq-comment-message"><p>we can use counting sort to reduce the time complexity down to O(n + len(array))</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-28413">
        <div id="dsq-comment-header-28413" class="dsq-comment-header">
            <cite id="dsq-cite-28413">
                <span id="dsq-author-user-28413">Jones</span>
            </cite>
        </div>
        <div id="dsq-comment-body-28413" class="dsq-comment-body">
            <div id="dsq-comment-message-28413" class="dsq-comment-message"><p>number&#8217;s range is not fixed so count sort can&#8217;t be used.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-2" id="dsq-comment-32379">
        <div id="dsq-comment-header-32379" class="dsq-comment-header">
            <cite id="dsq-cite-32379">
                <span id="dsq-author-user-32379">itengineer</span>
            </cite>
        </div>
        <div id="dsq-comment-body-32379" class="dsq-comment-body">
            <div id="dsq-comment-message-32379" class="dsq-comment-message"><p>Space complexity would increase to max(a[n])</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-himanshukoli even thread-even depth-1" id="dsq-comment-22341">
        <div id="dsq-comment-header-22341" class="dsq-comment-header">
            <cite id="dsq-cite-22341">
                <span id="dsq-author-user-22341">himanshu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-22341" class="dsq-comment-body">
            <div id="dsq-comment-message-22341" class="dsq-comment-message"><pre> <code language="C">
/*Here is an approach using sorting and without indexes of elements.First we sort the elements in decreasing order.Then we declare a structure which hold the element and its count.After this we fill this structure with the elements and its count.Then sort the array of structures in decreasing order according to the count.Then print the elements in the sorted structure 'count' number of times.*/

#include&lt;stdio.h&gt;
#include&lt;stdio.h&gt;
#include&lt;malloc.h&gt;
#define inf 100000000

struct b
{
    int val;
    int count;
};
void merge(int a[],int p,int q,int r)
{
    int i,j,k;

    int n1=q-p+1;
    int n2=r-q;
    int *l=(int *)malloc(sizeof(int)*(n1+1));
    int *ri=(int *)malloc(sizeof(int)*(n2+1));
    for(i=0; i&lt;n1; i++)
        l[i]=a[p+i];
    for(j=0; j&lt;n2; j++)
        ri[j]=a[q+1+j];

    l[n1]=-inf;
    ri[n2]=-inf;

    i=0;
    j=0;


    for(k=p; k&lt;=r; k++)
    {
        if(l[i]&lt;ri[j])
        {
            a[k]=ri[j];
            j++;

        }
        else
        {
            a[k]=l[i];
            i++;



        }
    }

}

void mergesort(int  a[],int p,int r)
{
    int q;

    if(p&lt;r)
    {
        q=(p+r)/2;

        mergesort(a,p,q);
        mergesort(a,q+1,r);
        merge(a,p,q,r);

    }
    else
        return;

}
void merge1(struct b a[],int p,int q,int r)
{
    int i,j,k;

    int n1=q-p+1;
    int n2=r-q;
    struct b *l=(struct b*)malloc(sizeof(struct b)*(n1+1));
    struct b *ri=(struct b *)malloc(sizeof(struct b)*(n2+1));

    for(i=0; i&lt;n1; i++)
        l[i]=a[p+i];
    for(j=0; j&lt;n2; j++)
        ri[j]=a[q+1+j];

    l[n1].val=-inf;
    l[n1].count=-inf;
    ri[n2].val=-inf;
    ri[n2].count=-inf;

    i=0;
    j=0;


    for(k=p; k&lt;=r; k++)
    {

        if(l[i].count&lt;ri[j].count)
        {
            a[k]=ri[j];

            j++;

        }

        else if(l[i].count==ri[j].count)
        {
            if(l[i].val&lt;ri[j].val)
            {
                a[k]=ri[j];
                j++;

            }
            else
            {
                a[k]=l[i];
                i++;


            }



        }
        else
        {
            a[k]=l[i];

            i++;


        }

    }

}

void mergesort1(struct b a[],int p,int r)
{
    int q;

    if(p&lt;r)
    {
        q=(p+r)/2;

        mergesort1(a,p,q);
        mergesort1(a,q+1,r);
        merge1(a,p,q,r);

    }
    else
        return;

}


int main()
{
    int a[]= {1,2,3,3,4,4};
    int n=sizeof(a)/sizeof(int);

    mergesort(a,0,n-1);


    struct b arr[n];
    int i=0;
    int k=0;
    while(i&lt;n)
    {
        int ele=a[i];
        int count=0;
        while(a[i]==ele &amp;&amp; i&lt;n)
        {
            count++;
            i++;

        }

        arr[k].val=ele;
        arr[k++].count=count;


    }

    mergesort1(arr,0,k-1);


    for(i=0; i&lt;k; i++)
    {
        int count=arr[i].count;
        while(count!=0)
        {
            printf(&quot;%d &quot;,arr[i].val);
            count--;
        }
    }




    return 0;
}


</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-22078">
        <div id="dsq-comment-header-22078" class="dsq-comment-header">
            <cite id="dsq-cite-22078">
                <span id="dsq-author-user-22078">Himanshu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-22078" class="dsq-comment-body">
            <div id="dsq-comment-message-22078" class="dsq-comment-message"><p>Can any one tell me what&#8217;s the problem with this approach</p>
<p>i)can out one by one element from input and check in the other array ( a struct array having data and freq which is initially empty) if the element is present there than just increase the frequency otherwise add into array with frequency one.</p>
<p>2)sort that array by freq and print.</p>
<p>i think its a simple one having extra space (same as above one)and time complexity again o(nlogn)</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-32008">
        <div id="dsq-comment-header-32008" class="dsq-comment-header">
            <cite id="dsq-cite-32008">
                <span id="dsq-author-user-32008">sambhavsharma</span>
            </cite>
        </div>
        <div id="dsq-comment-body-32008" class="dsq-comment-body">
            <div id="dsq-comment-message-32008" class="dsq-comment-message"><p>Size of the structure array? say you have an input array of size 50 and all the elements are 2. What would be the size of your structure array?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-2" id="dsq-comment-32380">
        <div id="dsq-comment-header-32380" class="dsq-comment-header">
            <cite id="dsq-cite-32380">
                <span id="dsq-author-user-32380">itengineer21</span>
            </cite>
        </div>
        <div id="dsq-comment-body-32380" class="dsq-comment-body">
            <div id="dsq-comment-message-32380" class="dsq-comment-message"><p>how come it would be O(nlogn). You would need nlogn just to sort your struct array. You forgot to add the complexity for checking each n every element from input array and increasing the frequency of the same in the struct array.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-19025">
        <div id="dsq-comment-header-19025" class="dsq-comment-header">
            <cite id="dsq-cite-19025">
                <span id="dsq-author-user-19025">Arulmozhi</span>
            </cite>
        </div>
        <div id="dsq-comment-body-19025" class="dsq-comment-body">
            <div id="dsq-comment-message-19025" class="dsq-comment-message"><p>we dont need a bst when we are going to store the count in auxiliary array. @Moderator please have a re-look at the post.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-alexchao odd alt thread-odd thread-alt depth-1" id="dsq-comment-18976">
        <div id="dsq-comment-header-18976" class="dsq-comment-header">
            <cite id="dsq-cite-18976">
                <span id="dsq-author-user-18976">alexchao</span>
            </cite>
        </div>
        <div id="dsq-comment-body-18976" class="dsq-comment-body">
            <div id="dsq-comment-message-18976" class="dsq-comment-message"><p>I think we can use a map,to solve this problem;As map structure using red-black tree,its a nearly balanced binary search tree !</p>
</div>
        </div>

    </li><!-- #comment-## -->
</li><!-- #comment-## -->
<ul class="children">
    <li class="comment even depth-2" id="dsq-comment-32007">
        <div id="dsq-comment-header-32007" class="dsq-comment-header">
            <cite id="dsq-cite-32007">
                <span id="dsq-author-user-32007">sambhavsharma</span>
            </cite>
        </div>
        <div id="dsq-comment-body-32007" class="dsq-comment-body">
            <div id="dsq-comment-message-32007" class="dsq-comment-message"><p>There is no limit on an element&#8217;s value. So creating a freq array in not the right choice.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-hxgxs1 odd alt thread-even depth-1" id="dsq-comment-18742">
        <div id="dsq-comment-header-18742" class="dsq-comment-header">
            <cite id="dsq-cite-18742">
                <span id="dsq-author-user-18742">hxgxs1</span>
            </cite>
        </div>
        <div id="dsq-comment-body-18742" class="dsq-comment-body">
            <div id="dsq-comment-message-18742" class="dsq-comment-message"><pre> <code language="C"></code> </pre>
<p>Please excuse the time complexity of this code, the logic is quit similar to the counting sort which keeps track of how many times a particular element occurs in the array.</p>
<p>#include<stdio .h><br />
#include<stdlib .h></p>
<p>// find maximum from the counter array<br />
int find_max(int *c,int n)<br />
{<br />
 int i,j,max=0,index=-1;</p>
<p> for(i=0;i<n;i++)<br />
 {<br />
          if(max < c[i])<br />
          {<br />
          index= i;<br />
          max=c[i];<br />
          }<br />
 }</p>
<p>     return ind;<br />
}</p>
<p>int main()<br />
{<br />
 int n,i,j,k,*a,*c,max=-9999,index;</p>
<p>  printf(&#8220;\nEnter the number of integers\n&#8221;);<br />
 scanf(&#8220;%d&#8221;,&#038;n);<br />
 a=(int *)malloc(sizeof(int)*n);<br />
 printf(&#8220;\nEnter the integers\n&#8221;);</p>
<p> for(i=0;i<n;i++)<br />
 {<br />
  scanf(&#8220;%d&#8221;,&#038;a[i]);<br />
    if(max < a[i])<br />
    max=a[i];<br />
}</p>
<p> c=(int *)malloc(sizeof(int)*(max+1));<br />
 for(i=0;i<=max;i++)<br />
 c[i]=0;</p>
<p> for(i=0;i<n;i++)<br />
 c[a[i]]++;</p>
<p>  for(k=0;k<n;)<br />
  {<br />
   for(i=0;i<(max+1);i++)<br />
   {<br />
             index=find_max(c,max+1);<br />
   }        </p>
<p>               if(index==-1)<br />
              break;<br />
             for(j=0;j<c[index];j++,k++)<br />
             {<br />
              printf(&#8220;%d  &#8220;,index);<br />
             }<br />
             c[index]=0;<br />
  }<br />
}</stdlib></stdio></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-_naive_ even thread-odd thread-alt depth-1" id="dsq-comment-18734">
        <div id="dsq-comment-header-18734" class="dsq-comment-header">
            <cite id="dsq-cite-18734">
                <span id="dsq-author-user-18734">_naive_</span>
            </cite>
        </div>
        <div id="dsq-comment-body-18734" class="dsq-comment-body">
            <div id="dsq-comment-message-18734" class="dsq-comment-message"><p>We can use hashing if range of numbers is given.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-geminisdb odd alt thread-even depth-1" id="dsq-comment-18679">
        <div id="dsq-comment-header-18679" class="dsq-comment-header">
            <cite id="dsq-cite-18679">
                <span id="dsq-author-user-18679">geminisdb</span>
            </cite>
        </div>
        <div id="dsq-comment-body-18679" class="dsq-comment-body">
            <div id="dsq-comment-message-18679" class="dsq-comment-message"><p>Why can&#8217;t we just use QuickSort or MergeSort, with the only change being in the Comparator function?<br />
We can build a HashMap which keeps counts for each unique array element.<br />
Instead of comparing a[i] with a[j],<br />
we compare Count_HashMap.getValue(a[i]) with Count_HashMap.getValue(a[j]) .</p>
<p>What is the advantage of using a BST over Quicksort or Mergesort?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-ramboamit even thread-odd thread-alt depth-1" id="dsq-comment-18420">
        <div id="dsq-comment-header-18420" class="dsq-comment-header">
            <cite id="dsq-cite-18420">
                <span id="dsq-author-user-18420">RAMBOAMIT</span>
            </cite>
        </div>
        <div id="dsq-comment-body-18420" class="dsq-comment-body">
            <div id="dsq-comment-message-18420" class="dsq-comment-message"><p>#include <cstdio><br />
#include<iostream><br />
#include<cstdlib><br />
#include
<limits .h>
#include<queue><br />
#include<br />
<map>
#include<vector><br />
#include<set><br />
#include<algorithm><br />
#include<cmath><br />
#include<string><br />
#include<cstring><br />
using namespace std;<br />
//bool myfunction (int i,int j) { return (i<j ); }<br />
bool comp(pair<int, int> a, pair<int , int> b){<br />
    if(a.first%100 == b.first%100)<br />
    {<br />
       return a.first > b.first;<br />
    }<br />
    return a.first%100 < b.first%100;<br />
  }<br />
int main(){<br />
    int i,j,k;<br />
    int n;<br />
    vector< pair <int,int> >v;<br />
    map</int><int ,int>m;<br />
    map</int><int ,int>::iterator it;<br />
    cin>>n;<br />
    int a[100],b[100];<br />
    for(i=0;i<n ;i++)<br />
    {<br />
        b[i]=0;<br />
    }<br />
    for(i=0;i<n;i++)<br />
    {<br />
        cin>>a[i];</p>
<p>        b[a[i]]++;</p>
<p>    }<br />
    for(i=0;i</n><n ;i++)<br />
    {<br />
        m.insert(make_pair(a[i],i));<br />
    }<br />
   for(it=m.begin();it!=m.end();it++)<br />
   {<br />
    int l=it->first;<br />
    int m=it->second;<br />
    b[l]=b[l]+m*100;<br />
    }</p>
<p>    for(i=0;i</n><n ;i++){<br />
        v.push_back(make_pair(b[i],i));<br />
    }<br />
    sort(v.begin(),v.end(),comp);<br />
    for(i=v.size()-1;i>=0;i&#8211;){      //loop takes maximum o(n) time because<br />
        for(j=0;j<v[i].first%100;j++)<br />
        {                            //an element repeat maximum n times but after that<br />
           cout<<v[i].second<<&#8221; &#8220;;   //no element repeat &#8230;..<br />
        }<br />
    }<br />
}</n></int></j></cstring></string></cmath></algorithm></set></vector></map>
<p></queue></limits></cstdlib></iostream></cstdio></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-18112">
        <div id="dsq-comment-header-18112" class="dsq-comment-header">
            <cite id="dsq-cite-18112">
                <span id="dsq-author-user-18112">atul</span>
            </cite>
        </div>
        <div id="dsq-comment-body-18112" class="dsq-comment-body">
            <div id="dsq-comment-message-18112" class="dsq-comment-message"><p>Given method can be modified , so that it can work for cases where element have same frquency.</p>
<p>add other parameter(int index) in bstnode.</p>
<p>struct BSTNode<br />
{<br />
    struct BSTNode *left;<br />
    int data;<br />
    int freq;<br />
    int index;<br />
    struct BSTNode *right;<br />
};</p>
<p>add another parameter in dataFreq<br />
struct dataFreq<br />
{<br />
    int data;<br />
    int index;<br />
    int freq;<br />
};</p>
<p>now where element is inserted into the tree set index to the current index of arr[i].if element is already present then leave index as same and increment frequency.</p>
<p>do inorder traversal and store in dataFreq and sort it according to freq , if frequency is equal then use index value to decide which one should come first.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-saimadhu-csegmail-com even thread-odd thread-alt depth-1" id="dsq-comment-18059">
        <div id="dsq-comment-header-18059" class="dsq-comment-header">
            <cite id="dsq-cite-18059">
                <span id="dsq-author-user-18059">saimadhu.cse@gmail.com</span>
            </cite>
        </div>
        <div id="dsq-comment-body-18059" class="dsq-comment-body">
            <div id="dsq-comment-message-18059" class="dsq-comment-message"><p>here is the simple solution in c using arrays</p>
<p>// Problem: Sorting the number according to the frequency<br />
// Coded by saimadhu.polamuri on 10may2013<br />
#include<stdio .h><br />
main(){<br />
	int number,i,j;<br />
	int frequence_count=0;<br />
	printf(&#8220;Enter how many  number you want: &#8220;);<br />
	scanf(&#8220;%d&#8221;,&#038;number);            // Number of number to be sort for freqency order<br />
	int number_array[number],reference_array[number],frequency_array[number];<br />
	for(i =0;i<number ;i++){<br />
	printf("Enter the number:  ");<br />
	scanf("%d",&#038;number_array[i]);<br />
		}<br />
	for(i=0;i<number;i++){<br />
		reference_array[i] = number_array[i];<br />
	}<br />
	// For calculating the frequence<br />
	for(i=0;i<number;i++){<br />
		for(j=0;j<number;j++){<br />
	if(number_array[i]==reference_array[j]){<br />
		frequence_count++;<br />
	}<br />
		}<br />
		frequency_array[i] = frequence_count;<br />
		frequence_count=0;<br />
	}<br />
/*	for(i=0;i<number;i++){<br />
		printf("\n %d frequency is %d",number_array[i],frequency_array[i]);<br />
	} */<br />
	// frequency sorting<br />
	int frequency_referency_array[number];<br />
	for(i=0;i<number;i++){<br />
		frequency_referency_array[i] = frequency_array[i];<br />
	}<br />
	int temp;<br />
	for(i=0;i<number;i++){<br />
		for(j=0;j<number;j++){<br />
		if(frequency_referency_array[i]>frequency_referency_array[j]){<br />
			temp = frequency_referency_array[i];<br />
			frequency_referency_array[i] = frequency_referency_array[j];<br />
			frequency_referency_array[j] = temp;<br />
		}<br />
		else{<br />
		frequency_referency_array[j] = frequency_referency_array[j];<br />
			}</p>
<p>		}<br />
	}<br />
	//printing the sorted frequency array<br />
/*	for(i=0;i<number;i++){<br />
		printf(&#8220;\t %d&#8221;,frequency_referency_array[i]);<br />
} */<br />
	printf(&#8220;\n*********************This is the sorted freqeuncy array********************&#8221;);<br />
	printf(&#8220;\n&#8221;);<br />
	//for getting the freqeuency sortted array<br />
	int k;<br />
	for(i=0;i<number;i++){<br />
		for(j=0;j<number;j++){<br />
			if(frequency_referency_array[i] == frequency_array[j]){<br />
				printf(&#8220;\t %d&#8221;,number_array[j]);<br />
				frequency_array[j] = 0;<br />
			}<br />
		}<br />
	}<br />
	getch();<br />
}</number></stdio></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-18040">
        <div id="dsq-comment-header-18040" class="dsq-comment-header">
            <cite id="dsq-cite-18040">
                <span id="dsq-author-user-18040">gr81</span>
            </cite>
        </div>
        <div id="dsq-comment-body-18040" class="dsq-comment-body">
            <div id="dsq-comment-message-18040" class="dsq-comment-message"><pre> <code language="C">
#include &lt;iostream&gt;
#include &lt;stdlib.h&gt;

using namespace std;

void swap(int &amp;a, int &amp;b)
{
        int tmp = a;
        a = b;
        b = tmp;
}

#ifdef DEBUG
void print(int *a, int num)
{
        for(int i = 0; i &lt; num; ++i)
                cout &lt;&lt; a[i] &lt;&lt;&quot; &quot;;
        cout &lt;&lt; endl;
}
#endif

#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
typedef pair&lt;int, int&gt; mypair;

bool compFunc(const pair&lt;int, int&gt; &amp;lhs, const pair&lt;int, int&gt; &amp;rhs)
{
        return lhs.second &gt; rhs.second;
}
void sort_by_freq(int *a, int num)
{
        map&lt;int, int&gt; freq;
        for(int i = 0; i &lt; num; ++i)
                freq[a[i]]++;

        vector&lt;mypair&gt; myvec(freq.begin(), freq.end());
        sort(myvec.begin(), myvec.end(), compFunc);

        vector&lt;mypair&gt;::iterator it;
        for(it = myvec.begin(); it != myvec.end(); ++it)
        {
                int cnt = it-&gt;second;
                for(int i = 0; i &lt; cnt; ++i)
                        cout &lt;&lt; it-&gt;first &lt;&lt;&quot; &quot;;
        }
        cout &lt;&lt; endl;
}

</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-17955">
        <div id="dsq-comment-header-17955" class="dsq-comment-header">
            <cite id="dsq-cite-17955">
http://code.scottshipp.com                <span id="dsq-author-user-17955">Scott Shipp</span>
            </cite>
        </div>
        <div id="dsq-comment-body-17955" class="dsq-comment-body">
            <div id="dsq-comment-message-17955" class="dsq-comment-message"><p>One possible solution in Java. </p>
<p>Nicely formatted version at <a href="http://pastebin.com/1t4EpDCK" rel="nofollow">http://pastebin.com/1t4EpDCK</a>.</p>
<p>Visit my site, <a href="http://code.scottshipp.com" rel="nofollow">http://code.scottshipp.com</a>.</p>
<pre> <code language="Java">
import java.util.LinkedHashMap;

/*
 * Given an array of integers, sort the array according to frequency of elements. 
 * For example, if the input array is {2, 3, 2, 4, 5, 12, 2, 3, 3, 3, 12}, then 
 * modify the array to {3, 3, 3, 3, 2, 2, 2, 12, 12, 4, 5}.
 */
public class frequencySort1 {
	
	public static void main(String[] args) {
		int[] unsortedArray = { 2,12,3,2,4,2,3,3,3,12,5 };
		
		LinkedHashMap&lt;Integer, Integer&gt; valueAndItsCount = new LinkedHashMap&lt;Integer, Integer&gt;();
		
		for(int x : unsortedArray) {
			if(valueAndItsCount.containsKey(x)) {
				int xCount = valueAndItsCount.get(x);
				xCount++;
				valueAndItsCount.put(x, xCount);
			}
			else {
				valueAndItsCount.put(x, 1);
			}
		}
		
		int maxCount = 0;
		int theKey = 0;
		while(!valueAndItsCount.isEmpty()) {
			
		
			for(int x : valueAndItsCount.keySet()) {
				if(valueAndItsCount.get(x) &gt; maxCount) {
					maxCount = valueAndItsCount.get(x);
					theKey = x;
				}
			}
			
			for(int i=0; i &lt; maxCount; i++) {
				System.out.print(theKey + &quot; &quot;);
			}
			valueAndItsCount.remove(theKey);
			maxCount = 0;
		}
		
	} //end main
}</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-17929">
        <div id="dsq-comment-header-17929" class="dsq-comment-header">
            <cite id="dsq-cite-17929">
                <span id="dsq-author-user-17929">just for fun</span>
            </cite>
        </div>
        <div id="dsq-comment-body-17929" class="dsq-comment-body">
            <div id="dsq-comment-message-17929" class="dsq-comment-message"><p>package test.test;</p>
<p>import java.util.Collections;<br />
import java.util.HashMap;<br />
import java.util.Map.Entry;</p>
<p>public class ArrayByFrequecny {</p>
<p>	public static void main(String[] args) {<br />
		int[] array={2, 3, 2, 4, 5, 12, 2, 3, 3, 3, 12};<br />
		HashMap store = new HashMap();</p>
<p>		 for (int i = 0; i &lt; array.length; i++) {</p>
<p>			if(store.containsKey(array[i])){<br />
				int temp= store.get(array[i]);<br />
				temp++;<br />
				store.put(array[i],temp);<br />
			}else{<br />
				store.put(array[i],0);<br />
			}</p>
<p>		}</p>
<p>		 int[] array2=new int[array.length];<br />
		 int j=0;</p>
<p>		 Integer key =0;</p>
<p>		 while(key!=null){<br />
	        for (Entry entry : store.entrySet()) {<br />
	        	int maxValueInMap=(Collections.max(store.values()));<br />
	            if (entry.getValue()==maxValueInMap) {</p>
<p>	            	for (int i = 0; i &lt;= maxValueInMap; i++) {<br />
	            		array2[j]=entry.getKey();<br />
	            		j++;<br />
	            		key=entry.getKey();<br />
					}<br />
	            }<br />
	            if(maxValueInMap==0)<br />
	            	break;</p>
<p>	        }<br />
	        if(key!=null)<br />
	        	store.remove(key);</p>
<p>	        if(store.size()==0)<br />
	        	break;</p>
<p>		 }<br />
		 System.out.println(&quot;Sort elements by frequency&quot;);<br />
	        for (int i = 0; i &lt; array2.length; i++) {<br />
	        	System.out.println( array2[i]);</p>
<p>			}</p>
<p>	}</p>
<p>}</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-17927">
        <div id="dsq-comment-header-17927" class="dsq-comment-header">
            <cite id="dsq-cite-17927">
                <span id="dsq-author-user-17927">aghtyui</span>
            </cite>
        </div>
        <div id="dsq-comment-body-17927" class="dsq-comment-body">
            <div id="dsq-comment-message-17927" class="dsq-comment-message"><p>Arrays<br />
    Bit Magic<br />
    C/C++ Puzzles<br />
    Articles<br />
    GFacts<br />
    Linked Lists<br />
    MCQ<br />
    Misc<br />
    Output<br />
    Strings<br />
    Trees</p>
<p>Sort elements by frequency | Set 2<br />
May 5, 2013</p>
<p>Given an array of integers, sort the array according to frequency of elements. For example, if the input array is {2, 3, 2, 4, 5, 12, 2, 3, 3, 3, 12}, then modify the array to {3, 3, 3, 3, 2, 2, 2, 12, 12, 4, 5}.<br />
In the previous post, we have discussed all methods for sorting according to frequency. In this post, method 2 is discussed in detail and C++ implementation for the same is provided.</p>
<p>Following is detailed algorithm.<br />
1) Create a BST and while creating BST maintain the count i,e frequency of each coming element in same BST. This step may take O(nLogn) time if a self balancing BST is used.<br />
2) Do Inorder traversal of BST and store every element and count of each element in an auxiliary array. Let us call the auxiliary array as ‘count[]‘. Note that every element of this array is element and frequency pair. This step takes O(n) time.<br />
3) Sort ‘count[]‘ according to frequency of the elements. This step takes O(nLohn) time if a O(nLogn) sorting algorithm is used.<br />
4) Traverse through the sorted array ‘count[]‘. For each element x, print it ‘freq’ times where ‘freq’ is frequency of x. This step takes O(n) time.</p>
<p>Overall time complexity of the algorithm can be minimum O(nLogn) if we use a O(nLogn) sorting algorithm and use a self balancing BST with O(Logn) insert operation.</p>
<p>Following is C++ implementation of the above algorithm.<br />
// Implementation of above algorithm in C++.<br />
#include<br />
#include<br />
using namespace std;</p>
<p>/* A BST node has data, freq, left and right pointers */<br />
struct BSTNode<br />
{<br />
    struct BSTNode *left;<br />
    int data;<br />
    int freq;<br />
    struct BSTNode *right;<br />
};</p>
<p>// A structure to store data and its frequency<br />
struct dataFreq<br />
{<br />
    int data;<br />
    int freq;<br />
};</p>
<p>/* Function for qsort() implementation. Compare frequencies to<br />
   sort the array according to decreasing order of frequency */<br />
int compare(const void *a, const void *b)<br />
{<br />
    return ( (*(const dataFreq*)b).freq &#8211; (*(const dataFreq*)a).freq );<br />
}</p>
<p>/* Helper function that allocates a new node with the given data,<br />
   frequency as 1 and NULL left and right  pointers.*/<br />
BSTNode* newNode(int data)<br />
{<br />
    struct BSTNode* node = new BSTNode;<br />
    node-&gt;data = data;<br />
    node-&gt;left = NULL;<br />
    node-&gt;right = NULL;<br />
    node-&gt;freq = 1;<br />
    return (node);<br />
}</p>
<p>// A utility function to insert a given key to BST. If element<br />
// is already present, then increases frequency<br />
BSTNode *insert(BSTNode *root, int data)<br />
{<br />
    if (root == NULL)<br />
        return newNode(data);<br />
    if (data == root-&gt;data) // If already present<br />
        root-&gt;freq += 1;<br />
    else if (data data)<br />
        root-&gt;left = insert(root-&gt;left, data);<br />
    else<br />
        root-&gt;right = insert(root-&gt;right, data);<br />
    return root;<br />
}</p>
<p>// Function to copy elements and their frequencies to count[].<br />
void store(BSTNode *root, dataFreq count[], int *index)<br />
{<br />
    // Base Case<br />
    if (root == NULL) return;</p>
<p>    // Recur for left substree<br />
    store(root-&gt;left, count, index);</p>
<p>    // Store item from root and increment index<br />
    count[(*index)].freq = root-&gt;freq;<br />
    count[(*index)].data = root-&gt;data;<br />
    (*index)++;</p>
<p>    // Recur for right subtree<br />
    store(root-&gt;right, count, index);<br />
}</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-17906">
        <div id="dsq-comment-header-17906" class="dsq-comment-header">
            <cite id="dsq-cite-17906">
                <span id="dsq-author-user-17906">Ahmed I. Khalil</span>
            </cite>
        </div>
        <div id="dsq-comment-body-17906" class="dsq-comment-body">
            <div id="dsq-comment-message-17906" class="dsq-comment-message"><p>Here is the same algorithm in C++ without the need to have inorder tree traversal.</p>
<pre> <code language="C">
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

struct Node {
    int data;
    Node *left;
    Node *right;
    int freq;
    Node(int data) {
        freq = 1;
        this-&gt;data = data;
        left = right = NULL;
    }
};


class BST {
    
public:
    BST() : root(0) { }
    
    void insert(int data) {
        if (root == NULL) {
            root = insertHelper(root, data);
        } else {
            insertHelper(root, data);
        }
    }
    
    std::vector&lt;int&gt; sortByFrequency() {
        std::sort(nodeHolder.begin(), nodeHolder.end(), compare);
        
        std::vector&lt;int&gt; result;
        
        for(int i = 0; i &lt; nodeHolder.size(); i++) {
            for(int j = 0; j &lt; nodeHolder[i]-&gt;freq; j++) {
                result.push_back(nodeHolder[i]-&gt;data);
            }
        }
        
        return result;
    }
    static bool compare(Node *a, Node *b)
    {
        return a-&gt;freq &gt; b-&gt;freq;
    }
private:
    Node *insertHelper(Node *node, int data) {
        if (node == NULL) {
            Node* temp = new Node(data);
            nodeHolder.push_back(temp);
            return temp;
        } 
        if(node-&gt;data == data) {
            node-&gt;freq++;
        }
        else if( data &lt; node-&gt;data) {
            node-&gt;left = insertHelper(node-&gt;left, data);
        }
        else if(data &gt; node-&gt;data) {
            node-&gt;right = insertHelper(node-&gt;right, data);
        }
        
        return node;
    }
    
    std::vector&lt;Node*&gt; nodeHolder;
    
    Node *root;
};

int main(int argc, char **argv) {
    int arr[] = {2, 3, 2, 4, 5, 12, 2, 3, 3, 3, 12};
    int n = sizeof(arr)/sizeof(arr[0]);
    BST bstTree;
    for(int i = 0; i &lt; n; i++)
        bstTree.insert(arr[i]);
    
    std::vector&lt;int&gt; sortedVector = bstTree.sortByFrequency();
    for(int i = 0; i &lt; sortedVector.size(); i++) {
        std::cout &lt;&lt; sortedVector[i] &lt;&lt; &quot;  &quot;;
    }
    
    return 0;
}

</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-17881">
        <div id="dsq-comment-header-17881" class="dsq-comment-header">
            <cite id="dsq-cite-17881">
                <span id="dsq-author-user-17881">Subhajit</span>
            </cite>
        </div>
        <div id="dsq-comment-body-17881" class="dsq-comment-body">
            <div id="dsq-comment-message-17881" class="dsq-comment-message"><p>@GeeksForGeeks<br />
This code is not having a complexity of O(nlog(n)) as this is not a balances BST insertion. The worst case complexity for this algorithm is O(n^2). AVL insertion logic has to to applied to get the complexity O(nlog(n)).</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-cpbcrec odd alt depth-2" id="dsq-comment-17893">
        <div id="dsq-comment-header-17893" class="dsq-comment-header">
            <cite id="dsq-cite-17893">
                <span id="dsq-author-user-17893">cpbcrec</span>
            </cite>
        </div>
        <div id="dsq-comment-body-17893" class="dsq-comment-body">
            <div id="dsq-comment-message-17893" class="dsq-comment-message"><p>Overall time complexity of the algorithm can be minimum O(nLogn) if we use a O(nLogn) sorting algorithm and use a self balancing BST with O(Logn) insert operation.<br />
It has been mentioned.Please read carefully.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
var disqus_url = 'http://www.geeksforgeeks.org/sort-elements-by-frequency-set-2/';
var disqus_identifier = '117551 http://www.geeksforgeeks.org/?p=117551';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'geeksforgeeks';
var disqus_title = "Sort elements by frequency | Set 2";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

			</div>
	
					
			
			

		</div> <!-- end post -->	

<br></br>
	
</div> <!-- end content -->

<ul id="sidebar">
	<li id="text-19" class="widget widget_text">			<div class="textwidget"><script>
  (function() {
    var cx = '009682134359037907028:tj6eafkv_be';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

<style type="text/css">
  .gsc-control-cse {
    font-family: "Trebuchet MS", sans-serif;
    border-color: #E1F3DA;
    background-color: #E1F3DA;
  }
  input.gsc-input {
    border-color: #94CC7A;
  }
  input.gsc-search-button {
    border-color: #94CC7A;
    background-color: #AADA92;
  }
  .gsc-tabHeader.gsc-tabhInactive {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-tabHeader.gsc-tabhActive {
    border-color: #A9DA92;
    background-color: #A9DA92;
  }
  .gsc-tabsArea {
    border-color: #A9DA92;
  }
  .gsc-webResult.gsc-result {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-webResult.gsc-result:hover {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gs-webResult.gs-result a.gs-title:link,
  .gs-webResult.gs-result a.gs-title:link b {
    color: #009900;
  }
  .gs-webResult.gs-result a.gs-title:visited,
  .gs-webResult.gs-result a.gs-title:visited b {
    color: #009900;
  }
  .gs-webResult.gs-result a.gs-title:hover,
  .gs-webResult.gs-result a.gs-title:hover b {
    color: #003300;
  }
  .gs-webResult.gs-result a.gs-title:active,
  .gs-webResult.gs-result a.gs-title:active b {
    color: #009900;
  }
  .gsc-cursor-page {
    color: #009900;
  }
  a.gsc-trailing-more-results:link {
    color: #009900;
  }
  .gs-webResult.gs-result .gs-snippet {
    color: #454545;
  }
  .gs-webResult.gs-result .gs-visibleUrl {
    color: #33cc00;
  }
  .gs-webResult.gs-result .gs-visibleUrl-short {
    color: #33cc00;
  }
  .gs-webResult.gs-result .gs-visibleUrl-short {
    display: none;
  }
  .gs-webResult.gs-result .gs-visibleUrl-long {
    display: block;
  }
  .gsc-cursor-box {
    border-color: #A9DA92;
  }
  .gsc-results .gsc-cursor-page {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-results .gsc-cursor-page.gsc-cursor-current-page {
    border-color: #A9DA92;
    background-color: #A9DA92;
  }
  .gs-promotion.gs-result {
    border-color: #94CC7A;
    background-color: #CBE8B4;
  }
  .gs-promotion.gs-result a.gs-title:link {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:visited {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:hover {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:active {
    color: #0066CC;
  }
  .gs-promotion.gs-result .gs-snippet {
    color: #454545;
  }
  .gs-promotion.gs-result .gs-visibleUrl,
  .gs-promotion.gs-result .gs-visibleUrl-short {
    color: #815FA7;
  }
</style>    </div>
		</li>
<li id="text-9" class="widget widget_text">			<div class="textwidget"><div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=138031159685820";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-like-box" data-href="https://www.facebook.com/pages/GeeksforGeeks/316764689022" data-width="250" data-height="170" data-colorscheme="light" data-show-faces="true" data-header="false" data-stream="false" data-show-border="false"></div></div>
		</li>
<li id="text-18" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LargeRectangleSide -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="1884636833"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>
<li id="text-13" class="widget widget_text">			<div class="textwidget"><ul><li><a href="http://www.geeksforgeeks.org/category/interview-experiences/">Interview Experiences</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/advance-data-structures">Advanced Data Structures</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/dynamic-programming">Dynamic Programming</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/Greedy-Algorithm/">Greedy Algorithms</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/backtracking">Backtracking</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/pattern-searching">Pattern Searching</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/divide-and-conquer">Divide & Conquer</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/MathematicalAlgo">Mathematical Algorithms</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/recursion">Recursion</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/geometric-algorithms/">Geometric Algorithms</a></li>
</ul></div>
		</li>
<li id="text-17" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Big 300x600 Sidebar -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="4402736037"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>
<li id="text-14" class="widget widget_text"><h2 class="widgettitle">Popular Posts</h2>
			<div class="textwidget"><ul>
<li><a href="http://www.geeksforgeeks.org/write-a-c-program-to-print-all-permutations-of-a-given-string/">  All permutations of a given string </a></li>
<li><a href="http://www.geeksforgeeks.org/memory-layout-of-c-program/"> Memory Layout of C Programs</a> </li>
<li><a href="http://www.geeksforgeeks.org/understanding-extern-keyword-in-c/"> Understanding “extern” keyword in C</a> </li>
<li><a href="http://www.geeksforgeeks.org/median-of-two-sorted-arrays/">Median of two sorted arrays</a> </li>
<li><a href="http://www.geeksforgeeks.org/inorder-tree-traversal-without-recursion-and-without-stack/"> Tree traversal without recursion and without stack! </a></li>
<li><a href="http://www.geeksforgeeks.org/structure-member-alignment-padding-and-data-packing/"> Structure Member Alignment, Padding and Data Packing</a> </li>
<li><a href="http://www.geeksforgeeks.org/write-a-function-to-get-the-intersection-point-of-two-linked-lists/"> Intersection point of two Linked Lists</a> </li>
<li><a href="http://www.geeksforgeeks.org/lowest-common-ancestor-in-a-binary-search-tree/"> Lowest Common Ancestor in a BST.</span></a> </li>
<li><a href="http://www.geeksforgeeks.org/a-program-to-check-if-a-binary-tree-is-bst-or-not/"> Check if a binary tree is BST or not</a> </li>
<li><a href="http://www.geeksforgeeks.org/sorted-linked-list-to-balanced-bst/"> Sorted Linked List to Balanced BST</a></li>
</ul></div>
		</li>
<li id="text-3" class="widget widget_text">			<div class="textwidget"><a href="https://twitter.com/GeeksforGeeks" class="twitter-follow-button" data-show-count="false">Follow @GeeksforGeeks</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>         


<!-- GOOGLE FEEDBURNER BUTTON-->
<a href="http://feeds.feedburner.com/Geeksforgeeks" title="Subscribe to my feed" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon32x32.png" alt="" style="border:0"/></a><a href="http://feeds.feedburner.com/Geeksforgeeks" title="Subscribe to my feed" rel="alternate" type="application/rss+xml">Subscribe</a>

</div>
		</li>
<li id="text-21" class="widget widget_text"><h2 class="widgettitle">Recent Comments</h2>
			<div class="textwidget"><script type="text/javascript" src="http://geeksforgeeks.disqus.com//recent_comments_widget.js?num_items=6&hide_avatars=1&excerpt_length=50&hide_mods=0"></script></div>
		</li>
<li id="text-22" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>

</ul>					  
		<div class="clear"></div>

		<div id="footer">
		
		    <div class="xhtml">
                        @geeksforgeeks, <a href="http://creativecommons.org/licenses/by-nc-nd/2.5/in/deed.en_US" title="Valid XHTML Strict 1.0">Some rights reserved</a>  <a href="http://www.geeksforgeeks.org/about/contact-us/"> &nbsp; &nbsp; &nbsp; &nbsp;Contact Us!</a>

		    </div>
		    
		    <div class="credits">
			  Powered by <a href="http://wordpress.org">WordPress </a> &amp; <a href="http://mootools.net/" title="Mootools JavaScript Framework">MooTools</a>, customized by geeksforgeeks team </div>
			  
		   <div class="clear"></div>						                            
		   
		</div> <!--end footer-->  
        
		        <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'geeksforgeeks';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); 
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
        <script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCpp.js?ver=3.0.9'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/js/editor.js?ver=2.5.4-5380'></script>
				  
		</div> <!--end wrapper-->
        <div id="ajaxSpinner"></div> <!--For AJAX spinner holder-->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12148232-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
	</body>

</html>
<!-- Dynamic page generated in 0.212 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2014-11-27 23:31:10 -->

<!-- Compression = gzip -->
<!-- super cache -->