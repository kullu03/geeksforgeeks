<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
       <title>Binary Tree to BST - GeeksforGeeks</title>
       <style type="text/css" media="screen">
          @import url('http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/style.css');
    </style>
      <link href="http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/favicon.ico" rel="shortcut icon" />    
    
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.7.1 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Binary Tree to BST - GeeksforGeeks" />
<meta property="og:description" content="Home &rsaquo; Forums &rsaquo; Trees specific questions &rsaquo; Binary Tree to BST Tagged:&nbsp;BST, Trees This topic contains 16 replies, has 5 voices, and was last updated by &nbsp;Luv 2 years, 6 months ago. Author Posts April 3, 2010 at 2:25 AM #72335 Anonymous convert a binary tree to binary search tree inplace. We cant use &hellip;" />
<meta property="og:url" content="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/" />
<meta property="og:site_name" content="GeeksforGeeks" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel='stylesheet' id='wp-quicklatex-format-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/css/quicklatex-format.css?ver=4.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='bbp-default-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/css/bbpress.css?ver=2.5.4-5380' type='text/css' media='screen' />
<link rel='stylesheet' id='wp-pagenavi-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-pagenavi/pagenavi-css.css?ver=2.70' type='text/css' media='all' />
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery.js?ver=1.11.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/js/wp-quicklatex-frontend.js?ver=1.0'></script>

<!-- Bad Behavior 2.2.16 run time: 1.573 ms -->
<script type="text/javascript">
<!--
function bb2_addLoadEvent(func) {
	var oldonload = window.onload;
	if (typeof window.onload != 'function') {
		window.onload = func;
	} else {
		window.onload = function() {
			oldonload();
			func();
		}
	}
}

bb2_addLoadEvent(function() {
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1417122720 210.212.53.139 172.19.11.158';
			document.forms[i].appendChild(myElement);
		}
	}
});
// --></script>
		<style type="text/css" id="syntaxhighlighteranchor"></style>
   <meta name="google-site-verification" content="rHK2v8_zzuAZQY8JHAzbllDN8u-aQxcn2Kqnp67Old0" />
</head>

<body>
<!-- o4dI0sCXUgoSONabbd8mbZ4SA3E -->    
    <div id="wrapper">
        <div class="blog-info">
                <h1 class="blog-title">
                <a href="http://www.geeksforgeeks.org" title="GeeksforGeeks">GeeksforGeeks</a>
            </h1>
       
            <div class="blog-description">
                A computer science portal for geeks            </div>
        </div>
        <b><p>  <h2 align="right"> <a href="http://geeksquiz.com/">GeeksQuiz</a></h2> 
   <a href="http://www.geeksforgeeks.org/wp-login.php">Login</a> 
         </p></b>  
         
         <div class="clear"></div>         
              
                     
            <div id="menu">   
                 <ul>
 <li><a href="http://www.geeksforgeeks.org">Home</a></li>
  <li><a href="http://www.geeksforgeeks.org/fundamentals-of-algorithms/">Algorithms</a></li>
 <li><a href="http://www.geeksforgeeks.org/data-structures/">DS</a></li>
  <li><a href="http://www.geeksforgeeks.org/gate-corner/">GATE</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/interview-corner/">Interview Corner</a></li>
  <li><a href="http://www.geeksforgeeks.org/forums/">Q&A</a></li>
  <li><a href="http://www.geeksforgeeks.org/c/">C</a></li>
  <li><a href="http://www.geeksforgeeks.org/c-plus-plus/">C++</a></li>
  <li><a href="http://www.geeksforgeeks.org/java/">Java</a></li>
  <li><a href="http://www.geeksforgeeks.org/books/">Books</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/">Contribute</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/ask-a-question/">Ask a Q</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/">About</a></li>
            </ul>

               
            <div class="clear"></div>     
        </div>
             <div id="content">	
</div>
<div class="clear"></div>             

<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=138031159685820";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<div class="fb-like" data-href="https://www.facebook.com/pages/GeeksforGeeks/316764689022" data-width="700" data-show-faces="true" data-send="false"></div>

<div id="bbpress-content">	

	

			

	<div class="page-main" id="page-72335">				
		
		<div class="page-info">					
			<h2 class="page-title">Binary Tree to BST</h2>
		</div>
		
		<div class="page-content">
		
<div id="bbpress-forums">

	<div class="bbp-breadcrumb"><p><a href="http://www.geeksforgeeks.org/" class="bbp-breadcrumb-home">Home</a> <span class="bbp-breadcrumb-sep">&rsaquo;</span> <a href="http://www.geeksforgeeks.org/forums/" class="bbp-breadcrumb-root">Forums</a> <span class="bbp-breadcrumb-sep">&rsaquo;</span> <a href="http://www.geeksforgeeks.org/forums/forum/trees-specific-questions/" class="bbp-breadcrumb-forum">Trees specific questions</a> <span class="bbp-breadcrumb-sep">&rsaquo;</span> <span class="bbp-breadcrumb-current">Binary Tree to BST</span></p></div>
	
	
		<div class="bbp-topic-tags"><p>Tagged:&nbsp;<a href="http://www.geeksforgeeks.org/forums/topic-tag/bst/" rel="tag">BST</a>, <a href="http://www.geeksforgeeks.org/forums/topic-tag/tree/" rel="tag">Trees</a></p></div>
		<div class="bbp-template-notice info"><p class="bbp-topic-description">This topic contains 16 replies, has 5 voices, and was last updated by <a href="http://www.geeksforgeeks.org/forums/users/luv_saxena/" title="View Luv&#039;s profile" class="bbp-author-avatar" rel="nofollow"></a>&nbsp;<a href="http://www.geeksforgeeks.org/forums/users/luv_saxena/" title="View Luv&#039;s profile" class="bbp-author-name" rel="nofollow">Luv</a> <a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91111" title="Re: Binary Tree to BST">2 years, 6 months ago</a>.</p></div>
		
		
			

<div class="bbp-pagination">
	<div class="bbp-pagination-count">

		
	</div>

	<div class="bbp-pagination-links">

		
	</div>
</div>


			

<ul id="topic-72335-replies" class="forums bbp-replies">

	<li class="bbp-header">

		<div class="bbp-reply-author">Author</div><!-- .bbp-reply-author -->

		<div class="bbp-reply-content">

			
				Posts
				
				
			
		</div><!-- .bbp-reply-content -->

	</li><!-- .bbp-header -->

	<li class="bbp-body">

		
			<li>

<div id="post-72335" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">April 3, 2010 at 2:25 AM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-72335" class="bbp-reply-permalink">#72335</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-72335 -->

<div class="post-72335 topic type-topic status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-1 user-id-59 topic-author">

	<div class="bbp-reply-author">

		
		<br />Anonymous
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p>convert a binary tree to binary search tree inplace. We cant use any extra space.
</p>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91065" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">April 3, 2010 at 2:31 AM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91065" class="bbp-reply-permalink">#91065</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91065 -->

<div class="post-91065 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-3 user-id-59 topic-author">

	<div class="bbp-reply-author">

		
		<br />Anonymous
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p>If array representation of tree is used then problem reduces to just sorting the array.  You can use any in-place sorting algorithm like bubble sort, quick sort, .. etc
</p>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91066" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">April 3, 2010 at 3:22 AM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91066" class="bbp-reply-permalink">#91066</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91066 -->

<div class="post-91066 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-4 user-id-59 topic-author">

	<div class="bbp-reply-author">

		
		<br />Anonymous
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p>Simply sorting the array won&#8217;t work.  Inorder of a BST is sorted, not level order.</p>
<p></p>
<p>Here is one approach that works for both array and LL implementations.</p>
<p></p>
<pre><br />
TreeToBST(root)<br />
1) If tree is empty then return.<br />
2) Call TreeToBST for left subtree, i.e., TreeToBST(root-&gt;left)<br />
3) Call TreeToBST for right subtree, i,e., TreeToBST(root-&gt;right)<br />
4) Fix the current node, i.e., root<br />
a) Get middle, max and min of data at  root, root-&gt;left and root-&gt;right<br />
b) Put mid value at root, min at root-&gt;left and max at root-&gt;right<br />
</pre>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91067" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">April 5, 2010 at 5:44 AM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91067" class="bbp-reply-permalink">#91067</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91067 -->

<div class="post-91067 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-5 user-id-59 topic-author">

	<div class="bbp-reply-author">

		
		<br />Anonymous
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p>Can you write C implementation? Thanks.
</p>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91068" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">April 5, 2010 at 9:41 AM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91068" class="bbp-reply-permalink">#91068</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91068 -->

<div class="post-91068 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-6 user-id-59 topic-author">

	<div class="bbp-reply-author">

		
		<br />Anonymous
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p>My bad <img src="smileys/frown.gif" width="" height="" alt=":(" title=":(" class="bbcode_smiley" /> I tried to code it and realized that the approach doesn&#8217;t work for many trees.</p>
<p></p>
<p>For example, in case of below tree.</p>
<p></p>
<pre><br />
7<br />
/    <br />
6       3<br />
<br />
5<br />
</pre>
<p></p>
<p>The output of above algo is </p>
<p></p>
<pre><br />
6<br />
/    <br />
3        7<br />
<br />
5<br />
</pre>
<p></p>
<p>which is incorrect <img src="smileys/frown.gif" width="" height="" alt=":(" title=":(" class="bbcode_smiley" />(
</p>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91069" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">April 5, 2010 at 9:48 AM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91069" class="bbp-reply-permalink">#91069</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91069 -->

<div class="post-91069 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-7 user-id-59 topic-author">

	<div class="bbp-reply-author">

		
		<br />Anonymous
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p>Another simple O(nLogn) solution.</p>
<p>1) Do Inorder  traversal of the tree and read the result in an array.</p>
<p>2) Sort the array.</p>
<p>3) Again do Inorder traversal and write the node&#8217;s data one by one from array.</p>
<p></p>
<p>But, extra O(n) space is used here.
</p>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91072" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">October 4, 2010 at 6:49 AM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91072" class="bbp-reply-permalink">#91072</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91072 -->

<div class="post-91072 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-8 user-id-59 topic-author">

	<div class="bbp-reply-author">

		
		<br />Anonymous
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<pre><br />
strut info {<br />
struct node *min;<br />
struct node *max;<br />
struct node *root;<br />
} info*;<br />
<br />
struct info* convertToBST(struct node *T) {<br />
struct info* ret;<br />
if (!T) {<br />
return NULL;<br />
}<br />
<br />
ret-&gt;min = T;<br />
ret-&gt;max = T;<br />
ret-&gt;root = T;<br />
<br />
if (!T-&gt;left &amp;&amp; !T-&gt;right) {<br />
return ret;<br />
}<br />
<br />
struct *info linfo = convertToBST(T-&gt;left);<br />
struct *info rinfo = convertToBST(T-&gt;right);<br />
<br />
if (linfo) {<br />
if (T-&gt;data &lt; linfo-&gt;min-&gt;data) {<br />
swap(T-&gt;data, linfo-&gt;min-&gt;data);<br />
}<br />
ret-&gt;min = linfo-&gt;min-&gt;data;<br />
}<br />
if (rinfo) {<br />
if (T-&gt;data &gt; rinfo-&gt;max-&gt;data) {<br />
swap(T-&gt;data, rinfo-&gt;max-&gt;data);<br />
}<br />
ret-&gt;max = rinfo-&gt;max-&gt;data;<br />
}<br />
return ret;<br />
}<br />
<br />
driverFunc(T) {<br />
struct info *ret;<br />
<br />
ret = convertToBST(T);<br />
<br />
printTree(ret-&gt;root);<br />
}<br />
</pre>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91075" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">January 14, 2011 at 2:31 PM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91075" class="bbp-reply-permalink">#91075</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91075 -->

<div class="post-91075 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-9 user-id-59 topic-author">

	<div class="bbp-reply-author">

		
		<br />Anonymous
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p>I guess there is something wrong in the code.</p>
<p>How can we have:</p>
<p>ret-&gt;min = linfo-&gt;min-&gt;data;</p>
<p>and</p>
<p>ret-&gt;max = rinfo-&gt;max-&gt;data;
</p>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91083" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">March 10, 2011 at 11:58 PM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91083" class="bbp-reply-permalink">#91083</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91083 -->

<div class="post-91083 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-10 user-id-2423">

	<div class="bbp-reply-author">

		
		<a href="http://www.geeksforgeeks.org/forums/users/carstenh/" title="View carstenh&#039;s profile" class="bbp-author-avatar" rel="nofollow"></a><br /><a href="http://www.geeksforgeeks.org/forums/users/carstenh/" title="View carstenh&#039;s profile" class="bbp-author-name" rel="nofollow">carstenh</a><br /><div class="bbp-author-role">Participant</div>
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p>Here is one way of doing it.</p>
<p></p>
<p>We have a function</p>
<p></p>
<p>Node* CreateBST(Node* root);</p>
<p></p>
<p>that we are going to call recursively. It is trivial to get it to work if the number of nodes, n, in the binary tree is less than or equal to 1.</p>
<p>Now assume that n &gt; 1 and the function works for all values strictly less than n.</p>
<p></p>
<p>We can call CreateBST on root-&gt;left_child and root-&gt;right_child to make both subtrees BSTs.</p>
<p></p>
<p>Assume the left subtree has k nodes.</p>
<p>We now do an inorder traversal of the two subtrees to find the (k+1)th node wrt the ordering comparing what is in the left subtree, what is in the right subtree and what is in the root.</p>
<p>Interchange the data with the data pointing to by the root.</p>
<p>We now have the right root.</p>
<p></p>
<p>Now do another inorder traversal of the two subtrees interchanging data in the left subtree which are greater than the data pointing to by the root with data in the right subtree which are less than the data pointing to by the root.</p>
<p>Because we have the right data at the root the numbers of such data in the two subtrees are identical.</p>
<p></p>
<p>Finally we again call CreateBST on root-&gt;left_child and root-&gt;right_child and we are done.
</p>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91084" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">March 15, 2011 at 1:17 PM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91084" class="bbp-reply-permalink">#91084</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91084 -->

<div class="post-91084 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-11 user-id-2418">

	<div class="bbp-reply-author">

		
		<a href="http://www.geeksforgeeks.org/forums/users/manishj/" title="View manishj&#039;s profile" class="bbp-author-avatar" rel="nofollow"></a><br /><a href="http://www.geeksforgeeks.org/forums/users/manishj/" title="View manishj&#039;s profile" class="bbp-author-name" rel="nofollow">manishj</a><br /><div class="bbp-author-role">Participant</div>
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p>This algorithm is based on max-heapify.</p>
<p></p>
<pre><br />
<br />
btree* max_tree(btree *root)<br />
{<br />
if(root == NULL)<br />
return root;<br />
btree * current = root;<br />
while(current-&gt;right != NULL)<br />
{<br />
current = current-&gt;right;<br />
}<br />
return current;<br />
}<br />
btree * min_tree(btree *root)<br />
{<br />
if(root == NULL)<br />
return root;<br />
btree * current = root;<br />
while(current-&gt;left != NULL)<br />
{<br />
current = current-&gt;left;<br />
}<br />
return current;<br />
}<br />
void binarytreetobst(btree *root)<br />
{<br />
//base-case tree is empty<br />
if(root == NULL)<br />
return;<br />
else if(root-&gt;left == NULL &amp;&amp; root-&gt;right == NULL) //base-case tree of size 1<br />
return;<br />
else<br />
{<br />
binarytreetobst(root-&gt;left);<br />
binarytreetobst(root-&gt;right);<br />
<br />
btree* max = max_tree(root-&gt;left);<br />
if(max &amp;&amp; max-&gt;data &gt; root-&gt;data)<br />
{<br />
int temp = root-&gt;data;<br />
root-&gt;data = max-&gt;data;<br />
max-&gt;data = temp;<br />
binarytreetobst(root-&gt;left);<br />
<br />
}<br />
btree* min = min_tree(root-&gt;right);<br />
if(min &amp;&amp; min-&gt;data  &lt; root-&gt;data)<br />
{<br />
int temp = root-&gt;data;<br />
root-&gt;data = min-&gt;data;<br />
min-&gt;data = temp;<br />
binarytreetobst(root-&gt;right);<br />
}<br />
}<br />
}<br />
</pre>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91085" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">March 15, 2011 at 6:03 PM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91085" class="bbp-reply-permalink">#91085</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91085 -->

<div class="post-91085 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-12 user-id-59 topic-author">

	<div class="bbp-reply-author">

		
		<br />Anonymous
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<pre><br />
import java.util.Comparator;<br />
<br />
public class TraversalAlgorithms {<br />
<br />
public static BinaryTree&lt;Integer&gt; finMax(BinaryTree&lt;Integer&gt; tree) {<br />
return morrisFind(tree, new Comparator&lt;Integer&gt;() {<br />
public int compare(Integer o1, Integer o2) {<br />
return o1.compareTo(o2);<br />
}<br />
});<br />
}<br />
<br />
public static BinaryTree&lt;Integer&gt; finMin(BinaryTree&lt;Integer&gt; tree) {<br />
return morrisFind(tree, new Comparator&lt;Integer&gt;() {<br />
public int compare(Integer o1, Integer o2) {<br />
return -1 * o1.compareTo(o2);<br />
}<br />
});<br />
}<br />
<br />
public static BinaryTree&lt;Integer&gt; morrisFind(BinaryTree&lt;Integer&gt; root,<br />
Comparator&lt;Integer&gt; comparator)<br />
{<br />
BinaryTree&lt;Integer&gt; current = root;<br />
int result = current.getRoot();<br />
BinaryTree&lt;Integer&gt; resultTree = current;<br />
while (current != null) {<br />
if (current.getLeft() == null) {<br />
if (comparator.compare(current.getRoot(), result) &gt; 0) {<br />
result = current.getRoot();<br />
resultTree = current;<br />
}<br />
current = current.getRight();<br />
} else {<br />
BinaryTree&lt;Integer&gt; pre = current.getLeft();<br />
while (pre.getRight() != null &amp;&amp; pre.getRight() != current) {<br />
pre = pre.getRight();<br />
}<br />
if (pre.getRight() == null) {<br />
pre.setRight(current);<br />
current = current.getLeft();<br />
} else {<br />
pre.setRight(null);<br />
if (comparator.compare(current.getRoot(), result) &gt; 0) {<br />
result = current.getRoot();<br />
resultTree = current;<br />
}<br />
current = current.getRight();<br />
}<br />
}<br />
}<br />
return resultTree;<br />
}<br />
}<br />
<br />
public class ManipluationAlgorithms {<br />
public static void bt2bst(BinaryTree&lt;Integer&gt; tree) {<br />
if (tree != null) {<br />
BinaryTree&lt;Integer&gt; currTree = tree;<br />
int root = tree.getRoot();<br />
BinaryTree&lt;Integer&gt; maxLeftTree = null;<br />
BinaryTree&lt;Integer&gt; minRightTree = null;<br />
if (currTree.getLeft() != null) {<br />
maxLeftTree = TraversalAlgorithms.finMax(currTree.getLeft());<br />
}<br />
<br />
if (currTree.getRight() != null) {<br />
minRightTree = TraversalAlgorithms.finMin(currTree.getRight());<br />
}<br />
<br />
if (maxLeftTree != null &amp;&amp; minRightTree != null &amp;&amp;<br />
maxLeftTree.getRoot() &gt; minRightTree.getRoot()) {<br />
swapRoots(maxLeftTree, minRightTree);<br />
bt2bst(currTree);<br />
} else if (maxLeftTree != null &amp;&amp; maxLeftTree.getRoot() &gt; root) {<br />
swapRoots(maxLeftTree, currTree);<br />
bt2bst(currTree);<br />
} else if (minRightTree != null &amp;&amp; minRightTree.getRoot() &lt; root) {<br />
swapRoots(minRightTree, currTree);<br />
bt2bst(currTree);<br />
} else {<br />
if (currTree.getLeft() != null) {<br />
bt2bst(currTree.getLeft());<br />
}<br />
if (currTree.getRight() != null) {<br />
bt2bst(currTree.getRight());<br />
}<br />
}<br />
}<br />
}<br />
<br />
private static void swapRoots(BinaryTree&lt;Integer&gt; tree1,<br />
BinaryTree&lt;Integer&gt; tree2)<br />
{<br />
int tmp = tree1.getRoot();<br />
tree1.setRoot(tree2.getRoot());<br />
tree2.setRoot(tmp);<br />
}<br />
<br />
public static void main(String[] args) {<br />
BinaryTree&lt;Integer&gt; ll2 =<br />
new BinaryTree&lt;Integer&gt;(14, new BinaryTree&lt;Integer&gt;(1),<br />
new BinaryTree&lt;Integer&gt;(12));<br />
BinaryTree&lt;Integer&gt; lr2 =<br />
new BinaryTree&lt;Integer&gt;(3, new BinaryTree&lt;Integer&gt;(10),<br />
new BinaryTree&lt;Integer&gt;(5));<br />
BinaryTree&lt;Integer&gt; rl2 =<br />
new BinaryTree&lt;Integer&gt;(8, new BinaryTree&lt;Integer&gt;(7),<br />
new BinaryTree&lt;Integer&gt;(6));<br />
BinaryTree&lt;Integer&gt; rr2 =<br />
new BinaryTree&lt;Integer&gt;(9, new BinaryTree&lt;Integer&gt;(4),<br />
new BinaryTree&lt;Integer&gt;(11));<br />
BinaryTree&lt;Integer&gt; l2 = new BinaryTree&lt;Integer&gt;(2, ll2, lr2);<br />
BinaryTree&lt;Integer&gt; r2 = new BinaryTree&lt;Integer&gt;(13, rl2, rr2);<br />
BinaryTree&lt;Integer&gt; bt = new BinaryTree&lt;Integer&gt;(15, l2, r2);<br />
bt2bst(bt);<br />
}<br />
}<br />
</pre>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91086" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">March 15, 2011 at 6:04 PM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91086" class="bbp-reply-permalink">#91086</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91086 -->

<div class="post-91086 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-13 user-id-59 topic-author">

	<div class="bbp-reply-author">

		
		<br />Anonymous
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p>this is binary tree class</p>
<p></p>
<pre><br />
public class BinaryTree&lt;T&gt; {<br />
private T root;<br />
private BinaryTree&lt;T&gt; left;<br />
private BinaryTree&lt;T&gt; right;<br />
<br />
public BinaryTree(T root, BinaryTree&lt;T&gt; left, BinaryTree&lt;T&gt; right) {<br />
this.root = root;<br />
this.left = left;<br />
this.right = right;<br />
}<br />
<br />
public BinaryTree(T root) {<br />
this.root = root;<br />
this.left = null;<br />
this.right = null;<br />
}<br />
<br />
public BinaryTree&lt;T&gt; getLeft() {<br />
return left;<br />
}<br />
<br />
public BinaryTree&lt;T&gt; getRight() {<br />
return right;<br />
}<br />
<br />
public void setRight(BinaryTree&lt;T&gt; right) {<br />
this.right = right;<br />
}<br />
<br />
public T getRoot() {<br />
return root;<br />
}<br />
<br />
@Override<br />
public String toString() {<br />
return getRoot() + "(" + ((getLeft() != null) ? getLeft().getRoot() : null) + ") ("<br />
+ ((getRight() != null) ? getRight().getRoot() : null)<br />
+ ")";<br />
}<br />
<br />
public void setRoot(T newRoot) {<br />
this.root = newRoot;<br />
}<br />
}<br />
</pre>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91087" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">March 22, 2011 at 11:55 PM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91087" class="bbp-reply-permalink">#91087</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91087 -->

<div class="post-91087 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-14 user-id-59 topic-author">

	<div class="bbp-reply-author">

		
		<br />Anonymous
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p>no one says structure of tree need to be preserved, so just create a new tree and add node one by one from old tree.</p>
<p><a href="http://stackoverflow.com/questions/2848067/binary-tree-to-bst" rel="nofollow">http://stackoverflow.com/questions/2848067/binary-tree-to-bst</a>
</p>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91108" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">January 17, 2012 at 2:26 PM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91108" class="bbp-reply-permalink">#91108</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91108 -->

<div class="post-91108 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-15 user-id-59 topic-author">

	<div class="bbp-reply-author">

		
		<br />Anonymous
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p><a href="http://www.geeksforgeeks.org/forums/users/manishj/" rel="nofollow">@manishj</a> </p>
<p></p>
<p>nice algo&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;what is the complexity????
</p>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91109" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">May 15, 2012 at 10:27 AM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91109" class="bbp-reply-permalink">#91109</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91109 -->

<div class="post-91109 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-16 user-id-7645">

	<div class="bbp-reply-author">

		
		<a href="http://www.geeksforgeeks.org/forums/users/varadharajan/" title="View varadharajan&#039;s profile" class="bbp-author-avatar" rel="nofollow"></a><br /><a href="http://www.geeksforgeeks.org/forums/users/varadharajan/" title="View varadharajan&#039;s profile" class="bbp-author-name" rel="nofollow">varadharajan</a><br /><div class="bbp-author-role">Participant</div>
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p><a href="http://www.geeksforgeeks.org/forums/users/manishj/" rel="nofollow">@manishj</a> Thanks for posting&#8230;
</p>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91110" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">May 24, 2012 at 6:31 AM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91110" class="bbp-reply-permalink">#91110</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91110 -->

<div class="post-91110 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-17 user-id-6295">

	<div class="bbp-reply-author">

		
		<a href="http://www.geeksforgeeks.org/forums/users/luv_saxena/" title="View Luv&#039;s profile" class="bbp-author-avatar" rel="nofollow"></a><br /><a href="http://www.geeksforgeeks.org/forums/users/luv_saxena/" title="View Luv&#039;s profile" class="bbp-author-name" rel="nofollow">Luv</a><br /><div class="bbp-author-role">Participant</div>
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p><a href="http://www.geeksforgeeks.org/forums/users/manishj/" rel="nofollow">@manishj</a></p>
<p></p>
<p>Your code is not working correctly to convert into BST.</p>
<p>Please check it once again.
</p>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>
<li>

<div id="post-91111" class="bbp-reply-header">

	<div class="bbp-meta">

		<span class="bbp-reply-post-date">May 24, 2012 at 8:04 AM</span>

		
		<a href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/#post-91111" class="bbp-reply-permalink">#91111</a>

		
		<span class="bbp-admin-links"></span>
		
	</div><!-- .bbp-meta -->

</div><!-- #post-91111 -->

<div class="post-91111 reply type-reply status-publish hentry even bbp-parent-forum-72146 bbp-parent-topic-72335 bbp-reply-position-18 user-id-6295">

	<div class="bbp-reply-author">

		
		<a href="http://www.geeksforgeeks.org/forums/users/luv_saxena/" title="View Luv&#039;s profile" class="bbp-author-avatar" rel="nofollow"></a><br /><a href="http://www.geeksforgeeks.org/forums/users/luv_saxena/" title="View Luv&#039;s profile" class="bbp-author-name" rel="nofollow">Luv</a><br /><div class="bbp-author-role">Participant</div>
		
		
	</div><!-- .bbp-reply-author -->

	<div class="bbp-reply-content">

		
		<p>Check my solution. It removes one by one leaf nodes from the tree and builds a BST from it.</p>
<p></p>
<pre><br />
#include&lt;stdio.h&gt;<br />
#include&lt;stdlib.h&gt;<br />
<br />
struct node<br />
{<br />
struct node *right;<br />
struct node *left;<br />
int data;<br />
};<br />
<br />
struct node* newNode(int data)<br />
{<br />
struct node* node = (struct node*)<br />
malloc(sizeof(struct node));<br />
node-&gt;data = data;<br />
node-&gt;left = NULL;<br />
node-&gt;right = NULL;<br />
<br />
return(node);<br />
}<br />
<br />
struct node *R=NULL;<br />
<br />
int max(int a,int b)<br />
{<br />
a&gt;b?a:b;<br />
}<br />
<br />
struct node *addtoBST(struct node *R,struct node *rt)<br />
{<br />
if(R==NULL)<br />
R=rt;<br />
else if(rt-&gt;data &gt; R-&gt;data)<br />
R-&gt;right=addtoBST(R-&gt;right,rt);<br />
else<br />
R-&gt;left=addtoBST(R-&gt;left,rt);<br />
<br />
return R;<br />
<br />
}<br />
<br />
struct node* preorder(struct node*root,int level,int height)<br />
{<br />
<br />
if(root==NULL)<br />
return NULL;<br />
<br />
if(level==height)<br />
{<br />
//printf("node=%d",root-&gt;data);<br />
R=addtoBST(R,root);<br />
return NULL;<br />
<br />
}<br />
root-&gt;left=preorder(root-&gt;left,level+1,height);<br />
root-&gt;right=preorder(root-&gt;right,level+1,height);<br />
<br />
return root;<br />
<br />
}<br />
<br />
void convertBTintoBST(struct node * root,int height)<br />
{<br />
int i;<br />
for(i=height; i&gt;=1; i--)<br />
preorder(root,1,i);<br />
}<br />
<br />
int height(struct node* root)<br />
{<br />
if(root==NULL)<br />
return 0;<br />
<br />
return 1+max(height(root-&gt;left),height(root-&gt;right) );<br />
<br />
}<br />
<br />
void printin(struct node *R)<br />
{<br />
if(R==NULL)<br />
return;<br />
printin(R-&gt;left);<br />
printf("%d ",R-&gt;data);<br />
printin(R-&gt;right);<br />
}<br />
<br />
int main()<br />
{<br />
struct node *root = newNode(1);<br />
root-&gt;left        = newNode(2);<br />
root-&gt;right       = newNode(3);<br />
root-&gt;left-&gt;left  = newNode(7);<br />
root-&gt;left-&gt;right = newNode(6);<br />
root-&gt;right-&gt;left  = newNode(5);<br />
root-&gt;right-&gt;right = newNode(4);<br />
<br />
int n=height(root);<br />
convertBTintoBST(root,n);<br />
<br />
printin(R);<br />
<br />
return 0;<br />
<br />
}<br />
</pre>
<p></p>
<p>Time Complexity is O(nlogn)</p>
<p>Space COmplexity is O(1)
</p>
<p></p>

		
	</div><!-- .bbp-reply-content -->

</div><!-- .reply -->
</li>

		
	</li><!-- .bbp-body -->

	<li class="bbp-footer">

		<div class="bbp-reply-author">Author</div>

		<div class="bbp-reply-content">

			
				Posts
			
		</div><!-- .bbp-reply-content -->

	</li><!-- .bbp-footer -->

</ul><!-- #topic-72335-replies -->


			

<div class="bbp-pagination">
	<div class="bbp-pagination-count">

		
	</div>

	<div class="bbp-pagination-links">

		
	</div>
</div>


		
		


	<div id="no-reply-72335" class="bbp-no-reply">
		<div class="bbp-template-notice">
			<p>You must be logged in to reply to this topic.</p>
		</div>
	</div>



	
	
</div>
		</div>
		        		
&nbsp;</div> <!--end page main-->
	

&nbsp;
<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.geeksforgeeks.org%2Fforums%2Ftopic%2Fbinary-tree-to-bst-2%2F&layout=button_count&show_faces=false&width=90&action=like&colorscheme=light" scrolling="no" frameborder="0" allowTransparency="true" style="border:none; overflow:hidden; width:90px; height:20px"></iframe>
<a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/" data-text="Binary Tree to BST" data-count="horizontal" data-via="jakerutter">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
<g:plusone size="medium" href="http://www.geeksforgeeks.org/forums/topic/binary-tree-to-bst-2/"></g:plusone>
<!-- Place this render call where appropriate -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
&nbsp;
</div> <!--end page-->

   
		<div class="clear"></div>

		<div id="footer">
		
		    <div class="xhtml">
                        @geeksforgeeks, <a href="http://creativecommons.org/licenses/by-nc-nd/2.5/in/deed.en_US" title="Valid XHTML Strict 1.0">Some rights reserved</a>  <a href="http://www.geeksforgeeks.org/about/contact-us/"> &nbsp; &nbsp; &nbsp; &nbsp;Contact Us!</a>

		    </div>
		    
		    <div class="credits">
			  Powered by <a href="http://wordpress.org">WordPress </a> &amp; <a href="http://mootools.net/" title="Mootools JavaScript Framework">MooTools</a>, customized by geeksforgeeks team </div>
			  
		   <div class="clear"></div>						                            
		   
		</div> <!--end footer-->  
        
		        <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'geeksforgeeks';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); 
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
        <script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/js/editor.js?ver=2.5.4-5380'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var bbpTopicJS = {"bbp_ajaxurl":"http:\/\/www.geeksforgeeks.org\/forums\/topic\/binary-tree-to-bst-2\/?bbp-ajax=true","generic_ajax_error":"Something went wrong. Refresh your browser and try again.","is_user_logged_in":"","fav_nonce":"076aed9589","subs_nonce":"050be4ecd7"};
/* ]]> */
</script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/js/topic.js?ver=2.5.4-5380'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/js/reply.js?ver=2.5.4-5380'></script>
				  
		</div> <!--end wrapper-->
        <div id="ajaxSpinner"></div> <!--For AJAX spinner holder-->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12148232-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
	</body>

</html>
<!-- Dynamic page generated in 0.251 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2014-11-28 02:42:00 -->

<!-- Compression = gzip -->
<!-- super cache -->