<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
       <title>Maximum Product Subarray - GeeksforGeeks</title>
       <style type="text/css" media="screen">
          @import url('http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/style.css');
    </style>
      <link href="http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/favicon.ico" rel="shortcut icon" />    
    
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.7.1 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://www.geeksforgeeks.org/maximum-product-subarray/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Maximum Product Subarray - GeeksforGeeks" />
<meta property="og:description" content="Given an array that contains both positive and negative integers, find the product of the maximum product subarray. Expected Time complexity is O(n) and only O(1) extra space can be used. Examples: Input: arr[] = {6, -3, -10, 0, 2} Output: 180 // The subarray is {6, -3, -10} Input: arr[] = {-1, -3, -10, &hellip;" />
<meta property="og:url" content="http://www.geeksforgeeks.org/maximum-product-subarray/" />
<meta property="og:site_name" content="GeeksforGeeks" />
<meta property="article:section" content="Arrays" />
<meta property="article:published_time" content="2012-07-23T17:47:58+00:00" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel='stylesheet' id='wp-quicklatex-format-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/css/quicklatex-format.css?ver=4.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='bbp-default-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/css/bbpress.css?ver=2.5.4-5380' type='text/css' media='screen' />
<link rel='stylesheet' id='wp-pagenavi-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-pagenavi/pagenavi-css.css?ver=2.70' type='text/css' media='all' />
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery.js?ver=1.11.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/js/wp-quicklatex-frontend.js?ver=1.0'></script>

<!-- Bad Behavior 2.2.16 run time: 1.502 ms -->
<script type="text/javascript">
<!--
function bb2_addLoadEvent(func) {
	var oldonload = window.onload;
	if (typeof window.onload != 'function') {
		window.onload = func;
	} else {
		window.onload = function() {
			oldonload();
			func();
		}
	}
}

bb2_addLoadEvent(function() {
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1417111259 59.178.142.146';
			document.forms[i].appendChild(myElement);
		}
	}
});
// --></script>
		<style type="text/css" id="syntaxhighlighteranchor"></style>
   <meta name="google-site-verification" content="rHK2v8_zzuAZQY8JHAzbllDN8u-aQxcn2Kqnp67Old0" />
</head>

<body>
<!-- o4dI0sCXUgoSONabbd8mbZ4SA3E -->    
    <div id="wrapper">
        <div class="blog-info">
                <h1 class="blog-title">
                <a href="http://www.geeksforgeeks.org" title="GeeksforGeeks">GeeksforGeeks</a>
            </h1>
       
            <div class="blog-description">
                A computer science portal for geeks            </div>
        </div>
        <b><p>  <h2 align="right"> <a href="http://geeksquiz.com/">GeeksQuiz</a></h2> 
   <a href="http://www.geeksforgeeks.org/wp-login.php">Login</a> 
         </p></b>  
         
         <div class="clear"></div>         
              
                     
            <div id="menu">   
                 <ul>
 <li><a href="http://www.geeksforgeeks.org">Home</a></li>
  <li><a href="http://www.geeksforgeeks.org/fundamentals-of-algorithms/">Algorithms</a></li>
 <li><a href="http://www.geeksforgeeks.org/data-structures/">DS</a></li>
  <li><a href="http://www.geeksforgeeks.org/gate-corner/">GATE</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/interview-corner/">Interview Corner</a></li>
  <li><a href="http://www.geeksforgeeks.org/forums/">Q&A</a></li>
  <li><a href="http://www.geeksforgeeks.org/c/">C</a></li>
  <li><a href="http://www.geeksforgeeks.org/c-plus-plus/">C++</a></li>
  <li><a href="http://www.geeksforgeeks.org/java/">Java</a></li>
  <li><a href="http://www.geeksforgeeks.org/books/">Books</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/">Contribute</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/ask-a-question/">Ask a Q</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/">About</a></li>
            </ul>

               
            <div class="clear"></div>     
        </div>
             <div id="navmenu">
				<ul id="menu" style="padding:0; margin:0;">
						<li class="cat-item cat-item-3"><a href="http://www.geeksforgeeks.org/category/c-arrays/" title="Questions regarding Arrays">Array</a>
</li>	

	<li class="cat-item cat-item-17"><a href="http://www.geeksforgeeks.org/category/bit-magic/" title="View all posts filed under Bit Magic">Bit Magic</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://www.geeksforgeeks.org/category/c-puzzles/" title="View all posts filed under C/C++ Puzzles">C/C++</a>
</li>

<li class="cat-item cat-item-18"><a href="http://www.geeksforgeeks.org/category/articles/" title="View all posts filed under Articles">Articles</a>
</li>

	<li class="cat-item cat-item-67"><a href="http://www.geeksforgeeks.org/category/gfact/" title="View all posts filed under GFacts">GFacts</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://www.geeksforgeeks.org/category/linked-list/" title="Linked List problems">Linked List</a>
</li>
	<li class="cat-item cat-item-66"><a href="http://www.geeksforgeeks.org/category/multiple-choice-question/" title="View all posts filed under MCQ">MCQ</a>

</li>
	<li class="cat-item cat-item-4"><a href="http://www.geeksforgeeks.org/category/c-programs/" title="Miscellaneous">Misc</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.geeksforgeeks.org/category/program-output/" title="View all posts filed under Output">Output</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://www.geeksforgeeks.org/category/c-strings/" title="Questions related to strings">String</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.geeksforgeeks.org/category/tree/" title="View all posts filed under Trees">Tree</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.geeksforgeeks.org/category/graph/" title="View all posts filed under Graph">Graph</a>
</li>
</ul>
        </div>
             <div id="content">	   	
	<div class="post" id="post">
							<div class="post-info">			
					<div class="post-title-info">
						<h2 class="post-title">Maximum Product Subarray</h2>
					</div>			
					<div class="clear"></div>				  
				<div class="post-content" id="post-content">
					<p>Given an array that contains both positive and negative integers, find the product of the maximum product subarray. Expected Time complexity is O(n) and only O(1) extra space can be used.<span id="more-22216"></span></p>
<p><strong>Examples:</strong>
<pre>
Input: arr[] = {6, -3, -10, 0, 2}
Output:   180  // The subarray is {6, -3, -10}

Input: arr[] = {-1, -3, -10, 0, 60}
Output:   60  // The subarray is {60}

Input: arr[] = {-2, -3, 0, -2, -40}
Output:   80  // The subarray is {-2, -40}
</pre>
<p>The following solution assumes that the given input array always has a positive ouput.  The solution works for all cases mentioned above.  It doesn&#8217;t work for arrays like {0, 0, -20, 0}, {0, 0, 0}.. etc.  The solution can be easily modified to handle this case.<br />
It is similar to <a href="http://www.geeksforgeeks.org/archives/576">Largest Sum Contiguous Subarray</a> problem.  The only thing to note here is, maximum product can also be obtained by minimum (negative) product ending with the previous element multiplied by this element.  For example, in array {12, 2, -3, -5, -6, -2}, when we are at element -2, the maximum product is multiplication of, minimum product ending with -6 and -2.</p>
<pre class="brush: cpp; highlight: [9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63]; title: ; notranslate" title="">
#include &lt;stdio.h&gt;

// Utility functions to get minimum of two integers
int min (int x, int y) {return x &lt; y? x : y; }

// Utility functions to get maximum of two integers
int max (int x, int y) {return x &gt; y? x : y; }

/* Returns the product of max product subarray.  Assumes that the
   given array always has a subarray with product more than 1 */
int maxSubarrayProduct(int arr[], int n)
{
    // max positive product ending at the current position
    int max_ending_here = 1;

    // min negative product ending at the current position
    int min_ending_here = 1;

    // Initialize overall max product
    int max_so_far = 1;

    /* Traverse throught the array. Following values are maintained after the ith iteration:
       max_ending_here is always 1 or some positive product ending with arr[i]
       min_ending_here is always 1 or some negative product ending with arr[i] */
    for (int i = 0; i &lt; n; i++)
    {
        /* If this element is positive, update max_ending_here. Update
           min_ending_here only if min_ending_here is negative */
        if (arr[i] &gt; 0)
        {
            max_ending_here = max_ending_here*arr[i];
            min_ending_here = min (min_ending_here * arr[i], 1);
        }

        /* If this element is 0, then the maximum product cannot
           end here, make both max_ending_here and min_ending_here 0
           Assumption: Output is alway greater than or equal to 1. */
        else if (arr[i] == 0)
        {
            max_ending_here = 1;
            min_ending_here = 1;
        }

        /* If element is negative. This is tricky
           max_ending_here can either be 1 or positive. min_ending_here can either be 1 
           or negative.
           next min_ending_here will always be prev. max_ending_here * arr[i]
           next max_ending_here will be 1 if prev min_ending_here is 1, otherwise 
           next max_ending_here will be prev min_ending_here * arr[i] */
        else
        {
            int temp = max_ending_here;
            max_ending_here = max (min_ending_here * arr[i], 1);
            min_ending_here = temp * arr[i];
        }

        // update max_so_far, if needed
        if (max_so_far &lt;  max_ending_here)
          max_so_far  =  max_ending_here;
    }

    return max_so_far;
}

// Driver Program to test above function
int main()
{
    int arr[] = {1, -2, -3, 0, 7, -8, -2};
    int n = sizeof(arr)/sizeof(arr[0]);
    printf(&quot;Maximum Sub array product is %d&quot;, maxSubarrayProduct(arr, n));
    return 0;
}
</pre>
<p>Output:
<pre>Maximum Sub array product is 112</pre>
<p>Time Complexity: O(n)<br />
Auxiliary Space: O(1)</p>
<p>This article is compiled by <strong>Dheeraj Jain </strong>and reviewed by GeeksforGeeks team. Please write comments if you find anything incorrect, or you want to share more information about the topic discussed above</p>
		
&nbsp;
&nbsp;
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Big Rectangle Blog Bottom -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="4061219431"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>



&nbsp;
&nbsp;
&nbsp;
<h3>Related Topics:</h3><ul><li><a href="http://www.geeksforgeeks.org/kth-smallestlargest-element-unsorted-array-set-2-expected-linear-time/" title="K’th Smallest/Largest Element in Unsorted Array | Set 2 (Expected Linear Time)">K’th Smallest/Largest Element in Unsorted Array | Set 2 (Expected Linear Time)</a></li><li><a href="http://www.geeksforgeeks.org/kth-smallestlargest-element-unsorted-array/" title="K&#8217;th Smallest/Largest Element in Unsorted Array | Set 1">K&#8217;th Smallest/Largest Element in Unsorted Array | Set 1</a></li><li><a href="http://www.geeksforgeeks.org/time-complexity-insertion-sort-inversions/" title="Time complexity of insertion sort when there are O(n) inversions?">Time complexity of insertion sort when there are O(n) inversions?</a></li><li><a href="http://www.geeksforgeeks.org/check-two-given-sets-disjoint/" title="How to check if two given sets are disjoint?">How to check if two given sets are disjoint?</a></li><li><a href="http://www.geeksforgeeks.org/minimum-number-platforms-required-railwaybus-station/" title="Minimum Number of Platforms Required for a Railway/Bus Station">Minimum Number of Platforms Required for a Railway/Bus Station</a></li><li><a href="http://www.geeksforgeeks.org/given-two-sorted-arrays-number-x-find-pair-whose-sum-closest-x/" title="Find the closest pair from two sorted arrays">Find the closest pair from two sorted arrays</a></li><li><a href="http://www.geeksforgeeks.org/print-elements-sorted-order-row-column-wise-sorted-matrix/" title="Print all elements in sorted order from row and column wise sorted matrix">Print all elements in sorted order from row and column wise sorted matrix</a></li><li><a href="http://www.geeksforgeeks.org/length-largest-subarray-contiguous-elements-set-1/" title="Length of the largest subarray with contiguous elements | Set 1">Length of the largest subarray with contiguous elements | Set 1</a></li></ul>
<p></p> 
<div>
<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.geeksforgeeks.org%2Fmaximum-product-subarray%2F&layout=button_count&show_faces=false&width=90&action=like&colorscheme=light" scrolling="no" frameborder="0" allowTransparency="true" style="border:none; overflow:hidden; width:90px; height:20px"></iframe>
<a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.geeksforgeeks.org/maximum-product-subarray/" data-text="Maximum Product Subarray" data-count="horizontal" data-via="jakerutter">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
<g:plusone size="medium" href="http://www.geeksforgeeks.org/maximum-product-subarray/"></g:plusone>
<!-- Place this render call where appropriate -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script></div>





				</div>		  
			</div> <!-- end post main -->					
			<div class="post-meta">
				<div class="left"></div>				
				<div class="clear"></div>
			</div>			
        
			<div class="comments-main">		
 <b>Writing code in comment?</b> Please use <b><a href="http://ideone.com/">ideone.com</a></b> and share the link here.
				
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-33405">
        <div id="dsq-comment-header-33405" class="dsq-comment-header">
            <cite id="dsq-cite-33405">
                <span id="dsq-author-user-33405">Name</span>
            </cite>
        </div>
        <div id="dsq-comment-body-33405" class="dsq-comment-body">
            <div id="dsq-comment-message-33405" class="dsq-comment-message"><p>public static void LargestProductSubArray(int[] arr)</p>
<p>        {</p>
<p>            //array of running sum</p>
<p>            int[] runningSumArr = new int[arr.Length];</p>
<p>            int currRunningSum = 1;</p>
<p>            for (int i = 0; i &lt; arr.Length; i++)</p>
<p>            {</p>
<p>                if (currRunningSum == 0)</p>
<p>                {</p>
<p>                    runningSumArr[i] = arr[i];</p>
<p>                    currRunningSum = arr[i];</p>
<p>                }</p>
<p>                else</p>
<p>                {</p>
<p>                    runningSumArr[i] = currRunningSum * arr[i];</p>
<p>                    currRunningSum = runningSumArr[i];</p>
<p>                }</p>
<p>            }</p>
<p>            int lnIdx = runningSumArr[0] &lt; 0 ? 0 : -1;</p>
<p>            int start = 0;</p>
<p>            int end = 0;</p>
<p>            int tempStart = 0;</p>
<p>            int tempEnd = 0;</p>
<p>            int max = runningSumArr[0];</p>
<p>            for (int i = 1; i &lt; runningSumArr.Length; i++)</p>
<p>            {</p>
<p>                int intermediateProd = runningSumArr[i];</p>
<p>                if (runningSumArr[i &#8211; 1] == 0)</p>
<p>                {</p>
<p>                    tempStart = i;</p>
<p>                    lnIdx = runningSumArr[i] &lt; 0 ? i : -1;</p>
<p>                }</p>
<p>                else if (runningSumArr[i] &lt; 0)</p>
<p>                {</p>
<p>                    if (lnIdx == -1)</p>
<p>                    {</p>
<p>                        lnIdx = i;</p>
<p>                    }</p>
<p>                    else</p>
<p>                    {</p>
<p>                        tempStart = lnIdx + 1;</p>
<p>                        intermediateProd = runningSumArr[i] / runningSumArr[lnIdx];</p>
<p>                        if (runningSumArr[i]  runningSumArr[lnIdx])</p>
<p>                        {</p>
<p>                            lnIdx = i;</p>
<p>                        }</p>
<p>                    }</p>
<p>                }</p>
<p>                tempEnd = i;</p>
<p>                if (intermediateProd &gt; max)</p>
<p>                {</p>
<p>                    start = tempStart;</p>
<p>                    end = tempEnd;</p>
<p>                }</p>
<p>            }</p>
<p>            for (int i = start; i &lt;= end; i++)</p>
<p>            {</p>
<p>                Console.WriteLine(arr[i]);</p>
<p>            }</p>
<p>        }</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-32591">
        <div id="dsq-comment-header-32591" class="dsq-comment-header">
            <cite id="dsq-cite-32591">
                <span id="dsq-author-user-32591">SunilVA</span>
            </cite>
        </div>
        <div id="dsq-comment-body-32591" class="dsq-comment-body">
            <div id="dsq-comment-message-32591" class="dsq-comment-message"><p>Does not work for cases like {-2,0} or {0,0,0}</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-29519">
        <div id="dsq-comment-header-29519" class="dsq-comment-header">
            <cite id="dsq-cite-29519">
                <span id="dsq-author-user-29519">Chen Pang</span>
            </cite>
        </div>
        <div id="dsq-comment-body-29519" class="dsq-comment-body">
            <div id="dsq-comment-message-29519" class="dsq-comment-message"><p>All of those cases can be generalized: </p>
<p>int maxSubarrayProduct(int arr[], int n) {<br />
    int max_ending_at = arr[0];<br />
    int min_ending_at = arr[0];<br />
    int max_product = arr[0];</p>
<p>    for (int i = 1; i &lt; n; i++) {<br />
        int product_with_max = arr[i] * max_ending_at;<br />
        int product_with_min = arr[i] * min_ending_at;<br />
        max_ending_at = max(arr[i], product_with_max, product_with_min);<br />
        min_ending_at = min(arr[i], product_with_max, product_with_min);<br />
        max_product = max(max_ending_at, max_product);<br />
    }<br />
    return max_product;<br />
}</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-29939">
        <div id="dsq-comment-header-29939" class="dsq-comment-header">
            <cite id="dsq-cite-29939">
                <span id="dsq-author-user-29939">tczf1128</span>
            </cite>
        </div>
        <div id="dsq-comment-body-29939" class="dsq-comment-body">
            <div id="dsq-comment-message-29939" class="dsq-comment-message"><p>good</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even depth-2" id="dsq-comment-31616">
        <div id="dsq-comment-header-31616" class="dsq-comment-header">
            <cite id="dsq-cite-31616">
                <span id="dsq-author-user-31616">Meenal</span>
            </cite>
        </div>
        <div id="dsq-comment-body-31616" class="dsq-comment-body">
            <div id="dsq-comment-message-31616" class="dsq-comment-message"><p>Zero case is also handled in this code.. good one</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-2" id="dsq-comment-31837">
        <div id="dsq-comment-header-31837" class="dsq-comment-header">
            <cite id="dsq-cite-31837">
                <span id="dsq-author-user-31837">Shreyas</span>
            </cite>
        </div>
        <div id="dsq-comment-body-31837" class="dsq-comment-body">
            <div id="dsq-comment-message-31837" class="dsq-comment-message"><p>For this array </p>
<p>{-2, -3, 0, -2, -40}</p>
<p>ur code shows 6 as an answer.. where the expected output is 80</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-29325">
        <div id="dsq-comment-header-29325" class="dsq-comment-header">
            <cite id="dsq-cite-29325">
                <span id="dsq-author-user-29325">Ayush</span>
            </cite>
        </div>
        <div id="dsq-comment-body-29325" class="dsq-comment-body">
            <div id="dsq-comment-message-29325" class="dsq-comment-message"><p>import java.io.*;</p>
<p>public class Maxproduct {</p>
<p>	static int arr[]={-5, -2, 2, -30};</p>
<p>	public static void main(String[] args) {</p>
<p>		System.out.println(maxprod());</p>
<p>	}</p>
<p>	static long maxprod(){</p>
<p>		long result=1,tempres=1;</p>
<p>		int st=0;</p>
<p>		if(arr.length==0){</p>
<p>			return 0;</p>
<p>		}</p>
<p>		if(arr.length==1){</p>
<p>			return arr[0];</p>
<p>		}</p>
<p>		for(int i=0;i&lt;arr.length;i++){</p>
<p>			if(arr[i]==0){</p>
<p>				if(tempres&lt;0){</p>
<p>					int j = st;</p>
<p>					int k = i-1;</p>
<p>					int tmpfrnt=1;</p>
<p>					int tmplast=1;</p>
<p>					//find the -ve from the beg</p>
<p>					while(j&lt;i){</p>
<p>						tmpfrnt = tmpfrnt * arr[j];</p>
<p>						if(arr[j]=j){</p>
<p>						tmplast = tmplast * arr[k];</p>
<p>						if(arr[k]&lt;0)</p>
<p>							break;</p>
<p>						k&#8211;;</p>
<p>					}</p>
<p>					//divide the relevant</p>
<p>					if(tmpfrnt&lt;tmplast){</p>
<p>						tempres=tempres/tmplast;</p>
<p>					}else{</p>
<p>						tempres=tempres/tmpfrnt;</p>
<p>					}</p>
<p>					//assign if larger</p>
<p>					if(result&lt;tempres){</p>
<p>						result=tempres;</p>
<p>					}</p>
<p>				}else{</p>
<p>					if(resultresult){</p>
<p>			result=tempres;</p>
<p>		}</p>
<p>		if(tempres&lt;0){</p>
<p>			int j = st;</p>
<p>			int k = arr.length-1;</p>
<p>			int tmpfrnt=1;</p>
<p>			int tmplast=1;</p>
<p>			//find the -ve from the beg</p>
<p>			while(j&lt;arr.length-1){</p>
<p>				tmpfrnt = tmpfrnt * arr[j];</p>
<p>				if(arr[j]=j){</p>
<p>				tmplast = tmplast * arr[k];</p>
<p>				if(arr[k]&lt;0)</p>
<p>					break;</p>
<p>				k&#8211;;</p>
<p>			}</p>
<p>			//divide the relevant</p>
<p>			if(tmpfrnt&lt;tmplast){</p>
<p>				tempres=tempres/tmplast;</p>
<p>			}else{</p>
<p>				tempres=tempres/tmpfrnt;</p>
<p>			}</p>
<p>			//assign if larger</p>
<p>			if(result&lt;tempres){</p>
<p>				result=tempres;</p>
<p>			}</p>
<p>		}else{</p>
<p>			if(result&lt;tempres){</p>
<p>				result=tempres;</p>
<p>			}</p>
<p>		}</p>
<p>		return result;</p>
<p>	}</p>
<p>}</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-29033">
        <div id="dsq-comment-header-29033" class="dsq-comment-header">
            <cite id="dsq-cite-29033">
                <span id="dsq-author-user-29033">Guest</span>
            </cite>
        </div>
        <div id="dsq-comment-body-29033" class="dsq-comment-body">
            <div id="dsq-comment-message-29033" class="dsq-comment-message"><p>#include<br />
#include<br />
#include</p>
<p>using namespace std;</p>
<p>int maxprod(int *A, int N)<br />
{<br />
    int maxnow = A[0], maxsofar = A[0], minnow = A[0];</p>
<p>    for(int i=1; i&lt;N; i++)<br />
    {<br />
        int prev_max = maxnow, prev_min = minnow;<br />
        maxnow = max(A[i], max(A[i]*prev_max, A[i]*prev_min));<br />
        minnow = min(A[i], min(A[i]*prev_max, A[i]*prev_min));<br />
        maxsofar = max(maxsofar,maxnow);<br />
    }<br />
    return maxsofar;<br />
}</p>
<p>int main()<br />
{<br />
    srand(time(NULL));<br />
    int N = 5;<br />
    int *A = new int[N];<br />
    for(int i=0; i&lt;N; i++)<br />
    {<br />
        A[i] = -10 + rand()%20;<br />
        cout&lt;&lt;A[i]&lt;&lt;&quot;    &quot;;<br />
    }</p>
<p>    cout&lt;&lt;&quot;nMaximum product    &quot;&lt;&lt;maxprod(A,N)&lt;&lt;endl;<br />
}</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-28949">
        <div id="dsq-comment-header-28949" class="dsq-comment-header">
            <cite id="dsq-cite-28949">
                <span id="dsq-author-user-28949">Hard_liner</span>
            </cite>
        </div>
        <div id="dsq-comment-body-28949" class="dsq-comment-body">
            <div id="dsq-comment-message-28949" class="dsq-comment-message"><p>The below code works for all cases (including all 0&#8217;s ).<br />
#include</p>
<p>int max(int a,int b,int c)</p>
<p>{</p>
<p>    int d=((a&gt;b)?a:b);</p>
<p>    return ((c&gt;d)?c:d);</p>
<p>}</p>
<p>int min(int a,int b,int c)</p>
<p>{</p>
<p>    int d=((a&lt;b)?a:b);</p>
<p>    return ((c&lt;d)?c:d);</p>
<p>}</p>
<p>int maxproduct(int *a,int n)</p>
<p>{</p>
<p>    int i;</p>
<p>    int max_product=a[0];</p>
<p>    int min_product=a[0];</p>
<p>    int max_product_end=0,min_product_end=0,max_product_so_far=0;</p>
<p>    for(i=1;imax_product_so_far) max_product_so_far=max_product_end;</p>
<p>    }<br />
return max_product_so_far;</p>
<p>}</p>
<p>int main()</p>
<p>{</p>
<p>    int a[]={1, -2, -3, 0, 7, -8, -2};</p>
<p>    printf(&#8220;nMaximum product of subarray is %dn&#8221;,maxproduct(a,7));</p>
<p>}</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-27481">
        <div id="dsq-comment-header-27481" class="dsq-comment-header">
            <cite id="dsq-cite-27481">
                <span id="dsq-author-user-27481">disastrous</span>
            </cite>
        </div>
        <div id="dsq-comment-body-27481" class="dsq-comment-body">
            <div id="dsq-comment-message-27481" class="dsq-comment-message"><p>It fails the test case when all elements are 0.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-28152">
        <div id="dsq-comment-header-28152" class="dsq-comment-header">
            <cite id="dsq-cite-28152">
                <span id="dsq-author-user-28152">Anmon</span>
            </cite>
        </div>
        <div id="dsq-comment-body-28152" class="dsq-comment-body">
            <div id="dsq-comment-message-28152" class="dsq-comment-message"><p>assumption is least prod of input array is atleast 1</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-27454">
        <div id="dsq-comment-header-27454" class="dsq-comment-header">
            <cite id="dsq-cite-27454">
                <span id="dsq-author-user-27454">Somesh E</span>
            </cite>
        </div>
        <div id="dsq-comment-body-27454" class="dsq-comment-body">
            <div id="dsq-comment-message-27454" class="dsq-comment-message"><p>what about for the case -5 -3 -6 6 ?<br />
we get 15 as the output (-5*-3)<br />
whereas isn&#8217;t the correct output -3*-6*6 = 108?<br />
it is not necessary that i should start my subarray from the beginning right?<br />
it can start from any element and just has to be contiguous right?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-28153">
        <div id="dsq-comment-header-28153" class="dsq-comment-header">
            <cite id="dsq-cite-28153">
                <span id="dsq-author-user-28153">KSC</span>
            </cite>
        </div>
        <div id="dsq-comment-body-28153" class="dsq-comment-body">
            <div id="dsq-comment-message-28153" class="dsq-comment-message"><p>max_ending_here     min_ending_here     max_so_far<br />
iter1             1                                   -5                           1<br />
iter2             15                                 -3                           15<br />
iter3             18                                 -90                         18<br />
iter4             108                               -540                       108</p>
<p>product of maximum product subarray = 108</p>
<p>??</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-27414">
        <div id="dsq-comment-header-27414" class="dsq-comment-header">
            <cite id="dsq-cite-27414">
                <span id="dsq-author-user-27414">Prity Bhudolia</span>
            </cite>
        </div>
        <div id="dsq-comment-body-27414" class="dsq-comment-body">
            <div id="dsq-comment-message-27414" class="dsq-comment-message"><p>int maxSubarrayProduct(int a[], int n)<br />
{<br />
    int curprod=1,maxprod=1,prevprod=1;<br />
    for (int i = 0; i a[i]?(curprod*a[i]):a[i];<br />
            maxprod=maxprod&gt;curprod?maxprod:curprod;<br />
            maxprod=maxprod&gt;prevprod?maxprod:prevprod;<br />
        }<br />
    }<br />
    return maxprod;<br />
}</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-27498">
        <div id="dsq-comment-header-27498" class="dsq-comment-header">
            <cite id="dsq-cite-27498">
                <span id="dsq-author-user-27498">arjun</span>
            </cite>
        </div>
        <div id="dsq-comment-body-27498" class="dsq-comment-body">
            <div id="dsq-comment-message-27498" class="dsq-comment-message"><p>{1, -2, 3, -4,-3, -4, -3}  your code not working for it</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-27011">
        <div id="dsq-comment-header-27011" class="dsq-comment-header">
            <cite id="dsq-cite-27011">
                <span id="dsq-author-user-27011">Bhuvan Kumar</span>
            </cite>
        </div>
        <div id="dsq-comment-body-27011" class="dsq-comment-body">
            <div id="dsq-comment-message-27011" class="dsq-comment-message"><p>Hi guys Correct me if I am wrong but this looks good for me and even it handle the case having all entries as Zero.<br />
int maxProdSubArray(int a[],int n)<br />
{<br />
int i,prod=1,maxProd=INT_MIN;int fl=1;for(i=0;imaxProd)maxProd=prod;}}if(fl)maxProd=0;<br />
return maxProd;<br />
}</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-22763">
        <div id="dsq-comment-header-22763" class="dsq-comment-header">
            <cite id="dsq-cite-22763">
                <span id="dsq-author-user-22763">rakitic</span>
            </cite>
        </div>
        <div id="dsq-comment-body-22763" class="dsq-comment-body">
            <div id="dsq-comment-message-22763" class="dsq-comment-message"><p>Similar to max contiguous sum subarray&#8230;.</p>
<p>end_product = 1;<br />
max_product = 1;<br />
for(int i-0;i&lt;n;i++){<br />
end_product = end_product * a[i];<br />
if(end_product = 0){<br />
end_product = 1;   }<br />
if(max_product &lt; end_product){<br />
max_product = end_product;   }</p>
<p>return max_product;</p>
<p>i want opinions about it , please be kind to provide one</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-22765">
        <div id="dsq-comment-header-22765" class="dsq-comment-header">
            <cite id="dsq-cite-22765">
                <span id="dsq-author-user-22765">rakitic</span>
            </cite>
        </div>
        <div id="dsq-comment-body-22765" class="dsq-comment-body">
            <div id="dsq-comment-message-22765" class="dsq-comment-message"><p>this is shit algo..got it</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even depth-2" id="dsq-comment-27728">
        <div id="dsq-comment-header-27728" class="dsq-comment-header">
            <cite id="dsq-cite-27728">
                <span id="dsq-author-user-27728">shashi kumar</span>
            </cite>
        </div>
        <div id="dsq-comment-body-27728" class="dsq-comment-body">
            <div id="dsq-comment-message-27728" class="dsq-comment-message"><p>{1, -2, 3, -4,-3, -4, -3}</p>
<p>above algo fails for this input case,the answer should be 432, but the algo gives 288.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-abhishek08aug odd alt thread-odd thread-alt depth-1" id="dsq-comment-17719">
        <div id="dsq-comment-header-17719" class="dsq-comment-header">
            <cite id="dsq-cite-17719">
                <span id="dsq-author-user-17719">abhishek08aug</span>
            </cite>
        </div>
        <div id="dsq-comment-body-17719" class="dsq-comment-body">
            <div id="dsq-comment-message-17719" class="dsq-comment-message"><p>Intelligent <img src="http://d2o58evtke57tz.cloudfront.net/wp-includes/images/smilies/icon_biggrin.gif" alt=":D" class="wp-smiley" /></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-16540">
        <div id="dsq-comment-header-16540" class="dsq-comment-header">
            <cite id="dsq-cite-16540">
                <span id="dsq-author-user-16540">bhavneet</span>
            </cite>
        </div>
        <div id="dsq-comment-body-16540" class="dsq-comment-body">
            <div id="dsq-comment-message-16540" class="dsq-comment-message"><p>{6, -3, -10, -10, -10}</p>
<p>algo fails at above  test case</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-16941">
        <div id="dsq-comment-header-16941" class="dsq-comment-header">
            <cite id="dsq-cite-16941">
                <span id="dsq-author-user-16941">Sreenivas Doosa</span>
            </cite>
        </div>
        <div id="dsq-comment-body-16941" class="dsq-comment-body">
            <div id="dsq-comment-message-16941" class="dsq-comment-message"><p>It does not fail duuude.</p>
<p>For your example {6, -3, -10, -10, -10}</p>
<p>the maximum product is product of all the elements which is 18000</p>
<p>The algo is giving the correct output</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-16509">
        <div id="dsq-comment-header-16509" class="dsq-comment-header">
            <cite id="dsq-cite-16509">
                <span id="dsq-author-user-16509">Gautam</span>
            </cite>
        </div>
        <div id="dsq-comment-body-16509" class="dsq-comment-body">
            <div id="dsq-comment-message-16509" class="dsq-comment-message"><p>The trick here is to go through the array in both forward and backward direction</p>
<pre> <code language="C">
int MaxProduct(int * arr2, int arrLen2)
{
	int prev_max = 1;
	int curr_max = 1;
	int max_from_front = 1;
	int max_from_back = 1;

	// Start from front once
	for(int i = 0; i &lt; arrLen2; i++)
	{
		int temp = curr_max * arr2[i];

		if(temp &gt; prev_max)
			prev_max = temp;		

		if(0 != temp)
		{
			curr_max = temp;
		}
		else
		{
			// Before resetting curr_max, check if curr_max is greater than prev_max and if so update the prev_max
			if(curr_max &gt; prev_max)
				prev_max = curr_max;
			curr_max = 1;
		}
	}

	max_from_front = prev_max &gt; curr_max ? prev_max : curr_max;

	// Start from back once
	prev_max = 1;
	curr_max = 1;
	for(int i = arrLen2-1; i &gt;= 0; i--)
	{
		int temp = curr_max * arr2[i];

		if(temp &gt; prev_max)
			prev_max = temp;		

		if(0 != temp)
		{
			curr_max = temp;
		}
		else
		{
			// Before resetting curr_max, check if curr_max is greater than prev_max and if so update the prev_max
			if(curr_max &gt; prev_max)
				prev_max = curr_max;
			curr_max = 1;
		}
	}

	max_from_back = prev_max &gt; curr_max ? prev_max : curr_max;

	return max_from_front &gt; max_from_back ? max_from_front : max_from_back;
}

</code> </pre>
<p>This code works for me&#8230;<br />
input : {-6, -3, -10, 0, 2};<br />
output: 30</p>
<p>input : {-2, -3, -10, 0, -2, -40, -10};<br />
output: 400</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-15354">
        <div id="dsq-comment-header-15354" class="dsq-comment-header">
            <cite id="dsq-cite-15354">
                <span id="dsq-author-user-15354">Kartheek J</span>
            </cite>
        </div>
        <div id="dsq-comment-body-15354" class="dsq-comment-body">
            <div id="dsq-comment-message-15354" class="dsq-comment-message"><p>Logic:<br />
1)The Maximum Product of Always Consisting of either first/last index.<br />
Means MaxPrduct Sub Array Always Prefix/Suffix.<br />
2)Below i am finding which prefix/suffix having maximum product.</p>
<p>maxProductOfArray Method:<br />
  To Eliminate Zeros.<br />
nonZeroMaxProduct Method:<br />
  To Find Max Product Prefix/Suffix.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
int nonZeroMaxProduct(int array[],int start,int end)
{
	if (start &gt; end)
	{
		return -INT_MAX;
	}	
	int max = 1;int maxSofar = array[0];
	for (int i=start; i &lt;= end; i++)
	{
		max= max*array[i];
		if (max &gt; maxSofar) 
		{
			maxSofar = max;
		}
	}
	
	for (int i=start; i &lt;= end; i++)
	{
		max= max/array[i];
		if (max &gt; maxSofar) 
		{
			maxSofar = max;
		}
	}
	return maxSofar;
}

int maxProductOfArray(int array[],int start,int end)
{
	if (start &gt; end)
	{
		return -INT_MAX;
	}
	int nextZeroLocation = start;
	while (nextZeroLocation &lt;= end &amp;&amp; array[nextZeroLocation] != 0)
	{
		nextZeroLocation++;
	}
	
return nonZeroMaxProduct(array, start, nextZeroLocation-1) &gt;              maxProductOfArray(array, nextZeroLocation+1, end) ? nonZeroMaxProduct(array, start, nextZeroLocation-1) : maxProductOfArray(array, nextZeroLocation+1, end);
}
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-saurabhkher even thread-odd thread-alt depth-1" id="dsq-comment-15093">
        <div id="dsq-comment-header-15093" class="dsq-comment-header">
            <cite id="dsq-cite-15093">
                <span id="dsq-author-user-15093">saurabhkher</span>
            </cite>
        </div>
        <div id="dsq-comment-body-15093" class="dsq-comment-body">
            <div id="dsq-comment-message-15093" class="dsq-comment-message"><p>Can anyone please help me with the approach on this problem :</p>
<p>Given a 2D binary array(2D array of 0&#8217;s and 1&#8217;s) with m rows and n columns,give an efficient algorithm to find area of largest sub-array(rectangle) consisting entirely of 1&#8217;s.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-coderace odd alt thread-even depth-1" id="dsq-comment-14954">
        <div id="dsq-comment-header-14954" class="dsq-comment-header">
            <cite id="dsq-cite-14954">
                <span id="dsq-author-user-14954">coderAce</span>
            </cite>
        </div>
        <div id="dsq-comment-body-14954" class="dsq-comment-body">
            <div id="dsq-comment-message-14954" class="dsq-comment-message"><p>Can anyone tell me why we need min_ending_here? Can&#8217;t it be solved with simple Kadane&#8217;s algorithm itself?</p>
<p>Please let me know if you find any case where this might fail, except of course the base cases like {0,0} or {0.0.-20} which can be solved with a simple modification.</p>
<pre> <code language="C">int MaxPdtSubAr(int *A,int N)
{
    int phere=1;int pmax=-32767;

    for(int i=0;i&lt;N;i++)
    {
        if(A[i]!=0)
        {
            phere=phere*A[i];
            if(pmax&lt;phere)
            {
                pmax=phere;
            }
        }
        else
        {
            phere=1;
            continue;
        }
    }

    return pmax;
}

int main()
{
    int A[] = {1, -2, -3, 0, 7, -8, -2};
    cout&lt;&lt;MaxPdtSubAr(A,sizeof(A)/sizeof(A[0]))&lt;&lt;endl;
    return 0;
}

</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-17963">
        <div id="dsq-comment-header-17963" class="dsq-comment-header">
            <cite id="dsq-cite-17963">
http://kaidul.web44.net                <span id="dsq-author-user-17963">Kaidul</span>
            </cite>
        </div>
        <div id="dsq-comment-body-17963" class="dsq-comment-body">
            <div id="dsq-comment-message-17963" class="dsq-comment-message"><p>try this {-5, -2, 2, -30} case. Output should be 120, but it gives 20</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-12246">
        <div id="dsq-comment-header-12246" class="dsq-comment-header">
            <cite id="dsq-cite-12246">
                <span id="dsq-author-user-12246">dayanand</span>
            </cite>
        </div>
        <div id="dsq-comment-body-12246" class="dsq-comment-body">
            <div id="dsq-comment-message-12246" class="dsq-comment-message"><pre> <code language="C">
#include &lt;stdio.h&gt;

int max(int a , int b)
{
    return a&gt;b ? a : b;
}


void maxSubArr(int *arr,int l)
{
    int maxlocal = 1;
    int maxoverall = 1;
//    int startIndex=0;int endIndex = 0;
//    int tempStartindex =0 ;
    for (int i =0 ; i&lt;l; i++)
    {
        if (i==0) {
            maxlocal = maxoverall = arr[i];
        }else{
            if (arr[i]==0) {
                maxlocal = 0;
            }else{
                maxlocal = max(arr[i]*arr[i-1], maxlocal*arr[i]);
                if (maxlocal&gt;maxoverall) {
                    maxoverall = maxlocal;
                }
            }
        }
    }
    printf(&quot;%d&quot;,maxoverall);
}

int main()
{
    int arr[] = {1,4, -110,-120,-1,12,1,-5,4};
    int n = sizeof(arr)/sizeof(arr[0]);
    maxSubArr(arr, n);
    getchar();
    return 0;
}
Please correct my code if anything is missing.
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-12248">
        <div id="dsq-comment-header-12248" class="dsq-comment-header">
            <cite id="dsq-cite-12248">
                <span id="dsq-author-user-12248">dayanand</span>
            </cite>
        </div>
        <div id="dsq-comment-body-12248" class="dsq-comment-body">
            <div id="dsq-comment-message-12248" class="dsq-comment-message"><pre> <code language="C">
int max(int a , int b)
{
    return a&gt;b ? a : b;
}


void maxSubArr(int *arr,int l)
{
    int maxlocal = 1;
    int maxoverall = 1;
    int product = 1;
//    int startIndex=0;int endIndex = 0;
//    int tempStartindex =0 ;
    for (int i =0 ; i&lt;l; i++)
    {
        product = product * arr[i];
        if (i==0) {
            maxlocal = maxoverall = arr[i];
        }else{
            if (arr[i]==0) {
                maxlocal = 1;
            }else{
                maxlocal = max(arr[i]*arr[i-1], maxlocal*arr[i]);
                maxlocal = max(maxlocal,product);
                if (maxlocal&gt;maxoverall) {
                    maxoverall = maxlocal;
                }
            }
        }
    }
    if (maxoverall != 0) {
        printf(&quot;%d&quot;,maxoverall);
    }else{
        printf(&quot;%d&quot;,0);
    }
}

int main()
{
//    int arr[] = {10,-2,3,6,-3,7,-1,9,2};
//    int arr[] = {-2, -3, 0, -2, -40};
    int arr[] = {0, 0, 0, 0, -10};
    int n = sizeof(arr)/sizeof(arr[0]);
    maxSubArr(arr, n);
    getchar();
    return 0;
}
/* with modifications */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-3" id="dsq-comment-30091">
        <div id="dsq-comment-header-30091" class="dsq-comment-header">
            <cite id="dsq-cite-30091">
                <span id="dsq-author-user-30091">Paul</span>
            </cite>
        </div>
        <div id="dsq-comment-body-30091" class="dsq-comment-body">
            <div id="dsq-comment-message-30091" class="dsq-comment-message"><p>caso {0,9,-100,-1} =900<br />
you code 100</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-12047">
        <div id="dsq-comment-header-12047" class="dsq-comment-header">
            <cite id="dsq-cite-12047">
                <span id="dsq-author-user-12047">Himanshu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-12047" class="dsq-comment-body">
            <div id="dsq-comment-message-12047" class="dsq-comment-message"><p>Can anyone give me a counter example for my claim..</p>
<p>the claim is :<br />
given any array of integers assuming w/o 0&#8217;s the maximum sum subarray contains atleast one of the ends of the array. i.e<br />
given A[9]={1,-2,3,6,-3,7,-1,9,2} it will either contain A[0] or A[8]. in our case it contains A[0]. indirectly it can never be a subarray somewhere in the middle.<br />
We can prove this :<br />
say givn array has even number of -ve nos..then we are done.<br />
say its odd:<br />
then array looks like this<br />
{pnppnppnnppnpnnpp}where p:+ve , n: -ve<br />
in this case we will always see that the maximum subarray will be either {pn[ppnppnnppnpnnpp]} or {[pnppnppnnppnpn]npp}<br />
So the problem reduces to only finding which -ve number to drop.</p>
<p>if i am not clear please comment.<br />
thanks.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-coderace odd alt depth-2" id="dsq-comment-14955">
        <div id="dsq-comment-header-14955" class="dsq-comment-header">
            <cite id="dsq-cite-14955">
                <span id="dsq-author-user-14955">coderAce</span>
            </cite>
        </div>
        <div id="dsq-comment-body-14955" class="dsq-comment-body">
            <div id="dsq-comment-message-14955" class="dsq-comment-message"><p>I think your logic is correct. But as you mentioned, only if 0 is not there in the array.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-10177">
        <div id="dsq-comment-header-10177" class="dsq-comment-header">
            <cite id="dsq-cite-10177">
                <span id="dsq-author-user-10177">Kartk</span>
            </cite>
        </div>
        <div id="dsq-comment-body-10177" class="dsq-comment-body">
            <div id="dsq-comment-message-10177" class="dsq-comment-message"><p>I can think of a very simple way.<br />
Am I missing anything?</p>
<pre> <code language="C">
int max_product(int A[], int n)
{
    product_curr = 1;
    product_sofar = 1;

    for (i = 0; i &lt; n; i++)
    {
        product_curr = Product_curr * A[i];
        
        if (product_curr == 0)
        {
            product_curr = 1;
        }
        
        if (product_curr &gt; product_sofar)
        {
            product_sofar = product_curr;
        }
    }
    
    if (product_sofar == 1)
    {
        printf(&quot;array entries are less than 1&quot;);
    } else {
        printf(&quot;\n Product so far is&quot;,product_sofar);   
    }

}

</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-10180">
        <div id="dsq-comment-header-10180" class="dsq-comment-header">
            <cite id="dsq-cite-10180">
                <span id="dsq-author-user-10180">ms96</span>
            </cite>
        </div>
        <div id="dsq-comment-body-10180" class="dsq-comment-body">
            <div id="dsq-comment-message-10180" class="dsq-comment-message"><p>almost same as 1D kadane</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even depth-2" id="dsq-comment-10181">
        <div id="dsq-comment-header-10181" class="dsq-comment-header">
            <cite id="dsq-cite-10181">
                <span id="dsq-author-user-10181">ms96</span>
            </cite>
        </div>
        <div id="dsq-comment-body-10181" class="dsq-comment-body">
            <div id="dsq-comment-message-10181" class="dsq-comment-message"><p>1 D kadane</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-2" id="dsq-comment-10191">
        <div id="dsq-comment-header-10191" class="dsq-comment-header">
            <cite id="dsq-cite-10191">
                <span id="dsq-author-user-10191">mith</span>
            </cite>
        </div>
        <div id="dsq-comment-body-10191" class="dsq-comment-body">
            <div id="dsq-comment-message-10191" class="dsq-comment-message"><p>this code is wrong&#8230;.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-10196">
        <div id="dsq-comment-header-10196" class="dsq-comment-header">
            <cite id="dsq-cite-10196">
                <span id="dsq-author-user-10196">Kartk</span>
            </cite>
        </div>
        <div id="dsq-comment-body-10196" class="dsq-comment-body">
            <div id="dsq-comment-message-10196" class="dsq-comment-message"><p>I think this case is not covered here,</p>
<p>For eg: -6 -3 -9 0 2 5</p>
<p>This will give 18 where as the solution is 27.</p>
<p>9 * 3.</p>
<p>I think we need a recursive sol.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-4" id="dsq-comment-10217">
        <div id="dsq-comment-header-10217" class="dsq-comment-header">
            <cite id="dsq-cite-10217">
                <span id="dsq-author-user-10217">Dhaval</span>
            </cite>
        </div>
        <div id="dsq-comment-body-10217" class="dsq-comment-body">
            <div id="dsq-comment-message-10217" class="dsq-comment-message"><p>I think still it gives 27.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-5" id="dsq-comment-12306">
        <div id="dsq-comment-header-12306" class="dsq-comment-header">
            <cite id="dsq-cite-12306">
                <span id="dsq-author-user-12306">pr6989</span>
            </cite>
        </div>
        <div id="dsq-comment-body-12306" class="dsq-comment-body">
            <div id="dsq-comment-message-12306" class="dsq-comment-message"><p>The above solution is giving wrong answer for this array: {2, -3, 0, -2, -40, -10}. The output should be 400 but it&#8217;s giving 80.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt depth-2" id="dsq-comment-19561">
        <div id="dsq-comment-header-19561" class="dsq-comment-header">
            <cite id="dsq-cite-19561">
                <span id="dsq-author-user-19561">anonymous</span>
            </cite>
        </div>
        <div id="dsq-comment-body-19561" class="dsq-comment-body">
            <div id="dsq-comment-message-19561" class="dsq-comment-message"><p>i think your code will fail here {-2,6,-8,-10} answer should be 480 but your prog will give 96..</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-10167">
        <div id="dsq-comment-header-10167" class="dsq-comment-header">
            <cite id="dsq-cite-10167">
                <span id="dsq-author-user-10167">ak</span>
            </cite>
        </div>
        <div id="dsq-comment-body-10167" class="dsq-comment-body">
            <div id="dsq-comment-message-10167" class="dsq-comment-message"><p>when we hit a 0 or end of array, and if the product is negative, start removing elements from beginning until product becomes positive and then check for max product again</p>
<p>public static void MaxProductSubArray()<br />
        {<br />
            int[] arr = { 1, -2, -3, 0, -10, 5, 4, 2, -11, -9 };<br />
            int len = arr.Length;<br />
            int i = 0;<br />
            int prod = 1;<br />
            int maxProd = 0;<br />
            int start = 0;<br />
            int end = 0;<br />
            int maxstart = -1;<br />
            int maxend = -1;<br />
            while (i &lt; len)<br />
            {<br />
                if (arr[i] == 0)<br />
                {</p>
<p>                    while (prod &lt; 0 &amp;&amp; start &lt;= end)<br />
                    {<br />
                        prod /= arr[start];<br />
                        start++;<br />
                    }</p>
<p>                    if (prod &gt; maxProd)<br />
                    {<br />
                        maxProd = prod;<br />
                        maxstart = start;<br />
                        maxend = end;<br />
                    }<br />
                    prod = 1;<br />
                    start = end = i + 1;<br />
                }<br />
                else<br />
                {<br />
                    prod *= arr[i];<br />
                    end = i;<br />
                    if (prod &gt; maxProd)<br />
                    {<br />
                        maxProd = prod;<br />
                        maxstart = start;<br />
                        maxend = end;<br />
                    }</p>
<p>                }<br />
                i++;<br />
            }</p>
<p>            while (prod &lt; 0 &amp;&amp; start &lt; len)<br />
            {<br />
                prod /= arr[start];<br />
                start++;<br />
            }</p>
<p>            if (prod &gt; maxProd)<br />
            {<br />
                maxProd = prod;<br />
                maxstart = start;<br />
                maxend = end;<br />
            }</p>
<p>            for (int k = maxstart; k &lt;= maxend; k++)<br />
            {<br />
                Console.Write(arr[k] + &quot; &quot;);<br />
                Console.WriteLine(&quot;max product &quot; + maxProd);<br />
            }</p>
<p>        } </p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-10155">
        <div id="dsq-comment-header-10155" class="dsq-comment-header">
            <cite id="dsq-cite-10155">
                <span id="dsq-author-user-10155">aman</span>
            </cite>
        </div>
        <div id="dsq-comment-body-10155" class="dsq-comment-body">
            <div id="dsq-comment-message-10155" class="dsq-comment-message"><p>a code checking all the conditions i.e.  for all zeroes ,only 1 negative number,and the case solved in above geeksforgeeks solution.</p>
<p>#include&lt;iostream&gt;<br />
using namespace std;<br />
int max(int a,int b)<br />
{<br />
    return(a&gt;=b?a:b);<br />
}<br />
int max_product(int a[],int n)<br />
{<br />
    if(n==1)<br />
    return(a[0]);//if only 1 element<br />
    int s=1;<br />
    int maxp=1;<br />
    int maxn=1;<br />
    int  zeroes=0;int flag=0;// zeroes = no.of zeroes,flag is check for 1 negative<br />
    for(int i=0;i&lt;=n-1;i++)<br />
    {<br />
        if(a[i]==0)<br />
        {<br />
            maxp=1;<br />
            maxn=1;<br />
            zeroes++;<br />
        }<br />
        if(a[i]&gt;0)</p>
<p>        {<br />
                maxn*=a[i];<br />
                maxp*=a[i];<br />
        }<br />
        else if(a[i]&lt;0)<br />
        {<br />
            maxp=maxn*a[i];<br />
            maxn=maxn*a[i];<br />
            flag=1;</p>
<p>        }<br />
        if(s&lt;max(maxp,maxn))<br />
        {<br />
            s=max(maxp,maxn);<br />
        }<br />
    }<br />
    if(zeroes==n)//if all zeroes<br />
    {<br />
        return(0);<br />
    }<br />
    else if(zeroes==n-1&amp;&amp;flag==1)//if 1 -ve only<br />
    {<br />
        return(0);<br />
    }<br />
    else// the above case<br />
    return(s);</p>
<p>}<br />
int main()<br />
{<br />
    int arr[100], n;<br />
    cout&lt;&lt;&quot;enter the number of elements&quot;;<br />
    cin&gt;&gt;n;<br />
    cout&lt;&lt;&quot;enter the elements&quot;;<br />
    for(int i=0;i&lt;=n-1;i++)<br />
    {<br />
        cin&gt;&gt;arr[i];<br />
    }<br />
    cout&lt;&lt;&quot;Ans is      &quot;&lt;&lt;max_product(arr, n);<br />
    return 0;<br />
}</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-9800">
        <div id="dsq-comment-header-9800" class="dsq-comment-header">
            <cite id="dsq-cite-9800">
                <span id="dsq-author-user-9800">vishnu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9800" class="dsq-comment-body">
            <div id="dsq-comment-message-9800" class="dsq-comment-message"><p>#include &#8220;stdafx.h&#8221;<br />
int mul=1;<br />
int maxSub(int arr[],int n)<br />
{<br />
	for(int i=0;i&lt;n;i++)<br />
	{</p>
<p>if(mul!=0)<br />
		{<br />
			if(mul&lt;0&amp;&amp;arr[i]arr[i])<br />
					mul*=arr[i];<br />
				else<br />
					mul=arr[i];<br />
			}<br />
		}<br />
		else<br />
			mul=arr[i];</p>
<p>	}<br />
	return mul;</p>
<p>}</p>
<p>int _tmain(int argc, _TCHAR* argv[])<br />
{<br />
	int arr[] = {-2,-3,0,-2,-40};<br />
    int n = sizeof(arr)/sizeof(arr[0]);<br />
    printf(&#8220;Maximum Sub array product is %d&#8221;, maxSub(arr, n));<br />
    return 0;<br />
	return 0;<br />
}</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-9801">
        <div id="dsq-comment-header-9801" class="dsq-comment-header">
            <cite id="dsq-cite-9801">
                <span id="dsq-author-user-9801">vishnu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9801" class="dsq-comment-body">
            <div id="dsq-comment-message-9801" class="dsq-comment-message"><p>in main func neglect that second return 0.<br />
it was by mistake</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-9797">
        <div id="dsq-comment-header-9797" class="dsq-comment-header">
            <cite id="dsq-cite-9797">
                <span id="dsq-author-user-9797">shailendra verma</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9797" class="dsq-comment-body">
            <div id="dsq-comment-message-9797" class="dsq-comment-message"><p>\\ A product will decrease only when the no. of negative numbers are odd or there is a zero in the subarry<br />
#include<br />
#include</p>
<p>int maxpro(int a[],int size)<br />
{</p>
<p>	int i,maxpro_so_far=1,current_max_pro=1;</p>
<p>	for(i=0;i&lt;size;i++)<br />
	{<br />
		if(a[i]!=0)<br />
		{<br />
			current_max_pro=current_max_pro*a[i];<br />
			if(maxpro_so_far&lt;current_max_pro)<br />
				maxpro_so_far=current_max_pro;<br />
		}<br />
		else<br />
			{<br />
			   current_max_pro=1;<br />
			}<br />
		printf(&quot;\n%d&quot;,maxpro_so_far);<br />
	}<br />
	return maxpro_so_far;</p>
<p>}</p>
<p>int main()<br />
{</p>
<p>	int arr[]={6,-3,-10,0,2};<br />
	int max=maxpro(arr, sizeof(arr)/sizeof(arr[0]));<br />
	printf(&quot;%d&quot;,max);<br />
	return 0;<br />
}</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-9795">
        <div id="dsq-comment-header-9795" class="dsq-comment-header">
            <cite id="dsq-cite-9795">
                <span id="dsq-author-user-9795">dazer</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9795" class="dsq-comment-body">
            <div id="dsq-comment-message-9795" class="dsq-comment-message"><p>hi!!!.. i think this checks for this kind of conditions&#8230; if i am wrong &#8230;jus correct me :<br />
   {0,0,0,0,0} ,{0,0,-1,0,0}</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
#include&lt;stdio.h&gt;
#include&lt;conio.h&gt;
 
int max_product(int a[],int n){
int max_far=0,max_curr=1;
int i;
        for(i=0;i&lt;n;i++){
            max_curr*=a[i];
            if(max_curr==0) max_curr=1;
            if(max_curr&gt;max_far) max_far=max_curr;
        }
        return max_far;
}
int funcheck(int a[],int n)
{
     int i,temp,k=0,count=0;
     for(i=0;i&lt;n;i++)
      {
       if(a[i]==0)
           {
           printf(&quot;\n the cout:%d&quot;,count);
           count++;
           }
       else 
          {
          temp=i;
          k++;
          }
          }
          
      if(count==n)
         return 0;
       else  if(count+1==n)
             {
                  if(k==1)
                   {
                    if(a[temp]&gt;0)
                    {
                    return a[temp];
                    }
                    else
                    return 0;
                  }
                  }
               else 
                return 1;
                } 
                


int main(){
int a[]= {0,0,0,-2,0,0,0};
//printf(&quot;\n sizeof:%d&quot;,sizeof(a));
int n=sizeof(a)/sizeof(a[0]);
int h=funcheck(a,n);
 if(h&gt;0)
   {
         printf(&quot;%d&quot;,max_product(a,n));}
  else if(h&lt;=0)
     {
     printf(&quot;the value:%d&quot;,h);
     }
  getch();
  
    return 0;

}
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-9776">
        <div id="dsq-comment-header-9776" class="dsq-comment-header">
            <cite id="dsq-cite-9776">
                <span id="dsq-author-user-9776">Ankush</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9776" class="dsq-comment-body">
            <div id="dsq-comment-message-9776" class="dsq-comment-message"><pre> <code language="C">
#include&lt;stdio.h&gt;

int max_product(int a[],int n){
int max_far=0,max_curr=1;
int i;
		for(i=0;i&lt;n;i++){
			max_curr*=a[i];
			if(max_curr==0) max_curr=1;
			if(max_curr&gt;max_far) max_far=max_curr;
		}
		return max_far;
}

int main(){
int a[]={2, -3, 0, -2, -40};
int n=sizeof(a)/sizeof(a[0]);
	printf(&quot;%d&quot;,max_product(a,n));
	return 0;
}
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-9789">
        <div id="dsq-comment-header-9789" class="dsq-comment-header">
            <cite id="dsq-cite-9789">
                <span id="dsq-author-user-9789">Camphor</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9789" class="dsq-comment-body">
            <div id="dsq-comment-message-9789" class="dsq-comment-message"><p>I don&#8217;t think ur approach is correct.Check if it works for<br />
{2, -3, -2, -40}.I think it should return 80,but ur code returns 12.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even depth-2" id="dsq-comment-9790">
        <div id="dsq-comment-header-9790" class="dsq-comment-header">
            <cite id="dsq-cite-9790">
                <span id="dsq-author-user-9790">Camphor</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9790" class="dsq-comment-body">
            <div id="dsq-comment-message-9790" class="dsq-comment-message"><p>correct me if i am wrong.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-3" id="dsq-comment-9792">
        <div id="dsq-comment-header-9792" class="dsq-comment-header">
            <cite id="dsq-cite-9792">
                <span id="dsq-author-user-9792">atul</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9792" class="dsq-comment-body">
            <div id="dsq-comment-message-9792" class="dsq-comment-message"><p>Hi,<br />
  my code will return 80 not 12.<br />
executed and checked.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-4" id="dsq-comment-9803">
        <div id="dsq-comment-header-9803" class="dsq-comment-header">
            <cite id="dsq-cite-9803">
                <span id="dsq-author-user-9803">atul</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9803" class="dsq-comment-body">
            <div id="dsq-comment-message-9803" class="dsq-comment-message"><p>replied on wrong thread&#8230;IGNORE above comment.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt depth-2" id="dsq-comment-9978">
        <div id="dsq-comment-header-9978" class="dsq-comment-header">
            <cite id="dsq-cite-9978">
                <span id="dsq-author-user-9978">flexme</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9978" class="dsq-comment-body">
            <div id="dsq-comment-message-9978" class="dsq-comment-message"><p>Check {2, -3, 0, -2, -40, -10}, it should be 400. But your code returns 80.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-9772">
        <div id="dsq-comment-header-9772" class="dsq-comment-header">
            <cite id="dsq-cite-9772">
                <span id="dsq-author-user-9772">Ryder</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9772" class="dsq-comment-body">
            <div id="dsq-comment-message-9772" class="dsq-comment-message"><p>Can you please explain what logic you have applied ?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-9769">
        <div id="dsq-comment-header-9769" class="dsq-comment-header">
            <cite id="dsq-cite-9769">
                <span id="dsq-author-user-9769">Jason</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9769" class="dsq-comment-body">
            <div id="dsq-comment-message-9769" class="dsq-comment-message"><p>How can you keep track of the start and end indices?</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-9767">
        <div id="dsq-comment-header-9767" class="dsq-comment-header">
            <cite id="dsq-cite-9767">
                <span id="dsq-author-user-9767">Venki</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9767" class="dsq-comment-body">
            <div id="dsq-comment-message-9767" class="dsq-comment-message"><p>Good to see more contributions. Hope a curious reader would comment on the variation of similar problem,</p>
<p>&#8220;In an array, find longest length sub array with maximum average&#8221;. It is relatively simple, I am looking for more comments.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-9758">
        <div id="dsq-comment-header-9758" class="dsq-comment-header">
            <cite id="dsq-cite-9758">
                <span id="dsq-author-user-9758">atul007</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9758" class="dsq-comment-body">
            <div id="dsq-comment-message-9758" class="dsq-comment-message"><p>Here is the recursive way of finding max-product.<br />
but time complexity will be O(n^2);</p>
<pre> <code language="C">

int getMaxProduct(int arr[],int start,int end)

{

int right,left,prod,m;

if(start==end)

	return arr[start];



right=getMaxProduct(arr,start+1,end);


left=getMaxProduct(arr,start,end-1);

prod=getProd(arr,start,end);

m=max(arr[start],arr[end],prod,right,left);



return m;


}


</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-9759">
        <div id="dsq-comment-header-9759" class="dsq-comment-header">
            <cite id="dsq-cite-9759">
                <span id="dsq-author-user-9759">atul007</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9759" class="dsq-comment-body">
            <div id="dsq-comment-message-9759" class="dsq-comment-message"><p>call : getMaxProduct(arr,0,len-1);</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-2" id="dsq-comment-9761">
        <div id="dsq-comment-header-9761" class="dsq-comment-header">
            <cite id="dsq-cite-9761">
                <span id="dsq-author-user-9761">atul007</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9761" class="dsq-comment-body">
            <div id="dsq-comment-message-9761" class="dsq-comment-message"><p>call : getMaxProduct(arr,0,len-1);</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-9755">
        <div id="dsq-comment-header-9755" class="dsq-comment-header">
            <cite id="dsq-cite-9755">
                <span id="dsq-author-user-9755">Unknown</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9755" class="dsq-comment-body">
            <div id="dsq-comment-message-9755" class="dsq-comment-message"><p>how can we check for all zero&#8217;s and single negative?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-9757">
        <div id="dsq-comment-header-9757" class="dsq-comment-header">
            <cite id="dsq-cite-9757">
                <span id="dsq-author-user-9757">kartik</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9757" class="dsq-comment-body">
            <div id="dsq-comment-message-9757" class="dsq-comment-message"><p>Before doing any processing, run a preprocessing loop that will check for this particular case and if this case is true, will return 0.  Overall time complexity will still be O(n) as c1n + c2n is O(n)</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-12245">
        <div id="dsq-comment-header-12245" class="dsq-comment-header">
            <cite id="dsq-cite-12245">
                <span id="dsq-author-user-12245">dayanand</span>
            </cite>
        </div>
        <div id="dsq-comment-body-12245" class="dsq-comment-body">
            <div id="dsq-comment-message-12245" class="dsq-comment-message"><pre> <code language="C">
#include &lt;stdio.h&gt;

int max(int a , int b)
{
    return a&gt;b ? a : b;
}


void maxSubArr(int *arr,int l)
{
    int maxlocal = 1;
    int maxoverall = 1;
//    int startIndex=0;int endIndex = 0;
//    int tempStartindex =0 ;
    for (int i =0 ; i&lt;l; i++)
    {
        if (i==0) {
            maxlocal = maxoverall = arr[i];
        }else{
            if (arr[i]==0) {
                maxlocal = 0;
            }else{
                maxlocal = max(arr[i]*arr[i-1], maxlocal*arr[i]);
                if (maxlocal&gt;maxoverall) {
                    maxoverall = maxlocal;
                }
            }
        }
    }
    printf(&quot;%d&quot;,maxoverall);
}

int main()
{
    int arr[] = {1,4, -110,-120,-1,12,1,-5,4};
    int n = sizeof(arr)/sizeof(arr[0]);
    maxSubArr(arr, n);
    getchar();
    return 0;
}

please correct my code, if anything is wrong
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
var disqus_url = 'http://www.geeksforgeeks.org/maximum-product-subarray/';
var disqus_identifier = '22216 http://www.geeksforgeeks.org/?p=22216';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'geeksforgeeks';
var disqus_title = "Maximum Product Subarray";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

			</div>
	
					
			
			

		</div> <!-- end post -->	

<br></br>
	
</div> <!-- end content -->

<ul id="sidebar">
	<li id="text-19" class="widget widget_text">			<div class="textwidget"><script>
  (function() {
    var cx = '009682134359037907028:tj6eafkv_be';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

<style type="text/css">
  .gsc-control-cse {
    font-family: "Trebuchet MS", sans-serif;
    border-color: #E1F3DA;
    background-color: #E1F3DA;
  }
  input.gsc-input {
    border-color: #94CC7A;
  }
  input.gsc-search-button {
    border-color: #94CC7A;
    background-color: #AADA92;
  }
  .gsc-tabHeader.gsc-tabhInactive {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-tabHeader.gsc-tabhActive {
    border-color: #A9DA92;
    background-color: #A9DA92;
  }
  .gsc-tabsArea {
    border-color: #A9DA92;
  }
  .gsc-webResult.gsc-result {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-webResult.gsc-result:hover {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gs-webResult.gs-result a.gs-title:link,
  .gs-webResult.gs-result a.gs-title:link b {
    color: #009900;
  }
  .gs-webResult.gs-result a.gs-title:visited,
  .gs-webResult.gs-result a.gs-title:visited b {
    color: #009900;
  }
  .gs-webResult.gs-result a.gs-title:hover,
  .gs-webResult.gs-result a.gs-title:hover b {
    color: #003300;
  }
  .gs-webResult.gs-result a.gs-title:active,
  .gs-webResult.gs-result a.gs-title:active b {
    color: #009900;
  }
  .gsc-cursor-page {
    color: #009900;
  }
  a.gsc-trailing-more-results:link {
    color: #009900;
  }
  .gs-webResult.gs-result .gs-snippet {
    color: #454545;
  }
  .gs-webResult.gs-result .gs-visibleUrl {
    color: #33cc00;
  }
  .gs-webResult.gs-result .gs-visibleUrl-short {
    color: #33cc00;
  }
  .gs-webResult.gs-result .gs-visibleUrl-short {
    display: none;
  }
  .gs-webResult.gs-result .gs-visibleUrl-long {
    display: block;
  }
  .gsc-cursor-box {
    border-color: #A9DA92;
  }
  .gsc-results .gsc-cursor-page {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-results .gsc-cursor-page.gsc-cursor-current-page {
    border-color: #A9DA92;
    background-color: #A9DA92;
  }
  .gs-promotion.gs-result {
    border-color: #94CC7A;
    background-color: #CBE8B4;
  }
  .gs-promotion.gs-result a.gs-title:link {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:visited {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:hover {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:active {
    color: #0066CC;
  }
  .gs-promotion.gs-result .gs-snippet {
    color: #454545;
  }
  .gs-promotion.gs-result .gs-visibleUrl,
  .gs-promotion.gs-result .gs-visibleUrl-short {
    color: #815FA7;
  }
</style>    </div>
		</li>
<li id="text-9" class="widget widget_text">			<div class="textwidget"><div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=138031159685820";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-like-box" data-href="https://www.facebook.com/pages/GeeksforGeeks/316764689022" data-width="250" data-height="170" data-colorscheme="light" data-show-faces="true" data-header="false" data-stream="false" data-show-border="false"></div></div>
		</li>
<li id="text-18" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LargeRectangleSide -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="1884636833"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>
<li id="text-13" class="widget widget_text">			<div class="textwidget"><ul><li><a href="http://www.geeksforgeeks.org/category/interview-experiences/">Interview Experiences</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/advance-data-structures">Advanced Data Structures</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/dynamic-programming">Dynamic Programming</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/Greedy-Algorithm/">Greedy Algorithms</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/backtracking">Backtracking</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/pattern-searching">Pattern Searching</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/divide-and-conquer">Divide & Conquer</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/MathematicalAlgo">Mathematical Algorithms</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/recursion">Recursion</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/geometric-algorithms/">Geometric Algorithms</a></li>
</ul></div>
		</li>
<li id="text-17" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Big 300x600 Sidebar -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="4402736037"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>
<li id="text-14" class="widget widget_text"><h2 class="widgettitle">Popular Posts</h2>
			<div class="textwidget"><ul>
<li><a href="http://www.geeksforgeeks.org/write-a-c-program-to-print-all-permutations-of-a-given-string/">  All permutations of a given string </a></li>
<li><a href="http://www.geeksforgeeks.org/memory-layout-of-c-program/"> Memory Layout of C Programs</a> </li>
<li><a href="http://www.geeksforgeeks.org/understanding-extern-keyword-in-c/"> Understanding “extern” keyword in C</a> </li>
<li><a href="http://www.geeksforgeeks.org/median-of-two-sorted-arrays/">Median of two sorted arrays</a> </li>
<li><a href="http://www.geeksforgeeks.org/inorder-tree-traversal-without-recursion-and-without-stack/"> Tree traversal without recursion and without stack! </a></li>
<li><a href="http://www.geeksforgeeks.org/structure-member-alignment-padding-and-data-packing/"> Structure Member Alignment, Padding and Data Packing</a> </li>
<li><a href="http://www.geeksforgeeks.org/write-a-function-to-get-the-intersection-point-of-two-linked-lists/"> Intersection point of two Linked Lists</a> </li>
<li><a href="http://www.geeksforgeeks.org/lowest-common-ancestor-in-a-binary-search-tree/"> Lowest Common Ancestor in a BST.</span></a> </li>
<li><a href="http://www.geeksforgeeks.org/a-program-to-check-if-a-binary-tree-is-bst-or-not/"> Check if a binary tree is BST or not</a> </li>
<li><a href="http://www.geeksforgeeks.org/sorted-linked-list-to-balanced-bst/"> Sorted Linked List to Balanced BST</a></li>
</ul></div>
		</li>
<li id="text-3" class="widget widget_text">			<div class="textwidget"><a href="https://twitter.com/GeeksforGeeks" class="twitter-follow-button" data-show-count="false">Follow @GeeksforGeeks</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>         


<!-- GOOGLE FEEDBURNER BUTTON-->
<a href="http://feeds.feedburner.com/Geeksforgeeks" title="Subscribe to my feed" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon32x32.png" alt="" style="border:0"/></a><a href="http://feeds.feedburner.com/Geeksforgeeks" title="Subscribe to my feed" rel="alternate" type="application/rss+xml">Subscribe</a>

</div>
		</li>
<li id="text-21" class="widget widget_text"><h2 class="widgettitle">Recent Comments</h2>
			<div class="textwidget"><script type="text/javascript" src="http://geeksforgeeks.disqus.com//recent_comments_widget.js?num_items=6&hide_avatars=1&excerpt_length=50&hide_mods=0"></script></div>
		</li>
<li id="text-22" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>

</ul>					  
		<div class="clear"></div>

		<div id="footer">
		
		    <div class="xhtml">
                        @geeksforgeeks, <a href="http://creativecommons.org/licenses/by-nc-nd/2.5/in/deed.en_US" title="Valid XHTML Strict 1.0">Some rights reserved</a>  <a href="http://www.geeksforgeeks.org/about/contact-us/"> &nbsp; &nbsp; &nbsp; &nbsp;Contact Us!</a>

		    </div>
		    
		    <div class="credits">
			  Powered by <a href="http://wordpress.org">WordPress </a> &amp; <a href="http://mootools.net/" title="Mootools JavaScript Framework">MooTools</a>, customized by geeksforgeeks team </div>
			  
		   <div class="clear"></div>						                            
		   
		</div> <!--end footer-->  
        
		        <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'geeksforgeeks';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); 
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
        <script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCpp.js?ver=3.0.9'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/js/editor.js?ver=2.5.4-5380'></script>
				  
		</div> <!--end wrapper-->
        <div id="ajaxSpinner"></div> <!--For AJAX spinner holder-->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12148232-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
	</body>

</html>
<!-- Dynamic page generated in 0.222 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2014-11-27 23:30:59 -->

<!-- Compression = gzip -->
<!-- super cache -->