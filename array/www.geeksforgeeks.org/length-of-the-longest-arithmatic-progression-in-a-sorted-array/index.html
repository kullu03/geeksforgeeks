<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
       <title>Dynamic Programming | Set 35 (Longest Arithmetic Progression) - GeeksforGeeks</title>
       <style type="text/css" media="screen">
          @import url('http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/style.css');
    </style>
      <link href="http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/favicon.ico" rel="shortcut icon" />    
    
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.7.1 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://www.geeksforgeeks.org/length-of-the-longest-arithmatic-progression-in-a-sorted-array/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Dynamic Programming | Set 35 (Longest Arithmetic Progression) - GeeksforGeeks" />
<meta property="og:description" content="Given a set of numbers, find the Length of the Longest Arithmetic Progression (LLAP) in it. Examples: set[] = {1, 7, 10, 15, 27, 29} output = 3 The longest arithmetic progression is {1, 15, 29} set[] = {5, 10, 15, 20, 25, 30} output = 6 The whole set is in AP For simplicity, &hellip;" />
<meta property="og:url" content="http://www.geeksforgeeks.org/length-of-the-longest-arithmatic-progression-in-a-sorted-array/" />
<meta property="og:site_name" content="GeeksforGeeks" />
<meta property="article:tag" content="Dynamic Programming" />
<meta property="article:section" content="Misc" />
<meta property="article:published_time" content="2013-07-08T18:10:43+00:00" />
<meta property="article:modified_time" content="2013-07-08T19:45:10+00:00" />
<meta property="og:updated_time" content="2013-07-08T19:45:10+00:00" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel='stylesheet' id='wp-quicklatex-format-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/css/quicklatex-format.css?ver=4.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='bbp-default-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/css/bbpress.css?ver=2.5.4-5380' type='text/css' media='screen' />
<link rel='stylesheet' id='wp-pagenavi-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-pagenavi/pagenavi-css.css?ver=2.70' type='text/css' media='all' />
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery.js?ver=1.11.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/js/wp-quicklatex-frontend.js?ver=1.0'></script>

<!-- Bad Behavior 2.2.16 run time: 1.505 ms -->
<script type="text/javascript">
<!--
function bb2_addLoadEvent(func) {
	var oldonload = window.onload;
	if (typeof window.onload != 'function') {
		window.onload = func;
	} else {
		window.onload = function() {
			oldonload();
			func();
		}
	}
}

bb2_addLoadEvent(function() {
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1417112955 210.212.53.139 172.19.11.169';
			document.forms[i].appendChild(myElement);
		}
	}
});
// --></script>
		<style type="text/css" id="syntaxhighlighteranchor"></style>
   <meta name="google-site-verification" content="rHK2v8_zzuAZQY8JHAzbllDN8u-aQxcn2Kqnp67Old0" />
</head>

<body>
<!-- o4dI0sCXUgoSONabbd8mbZ4SA3E -->    
    <div id="wrapper">
        <div class="blog-info">
                <h1 class="blog-title">
                <a href="http://www.geeksforgeeks.org" title="GeeksforGeeks">GeeksforGeeks</a>
            </h1>
       
            <div class="blog-description">
                A computer science portal for geeks            </div>
        </div>
        <b><p>  <h2 align="right"> <a href="http://geeksquiz.com/">GeeksQuiz</a></h2> 
   <a href="http://www.geeksforgeeks.org/wp-login.php">Login</a> 
         </p></b>  
         
         <div class="clear"></div>         
              
                     
            <div id="menu">   
                 <ul>
 <li><a href="http://www.geeksforgeeks.org">Home</a></li>
  <li><a href="http://www.geeksforgeeks.org/fundamentals-of-algorithms/">Algorithms</a></li>
 <li><a href="http://www.geeksforgeeks.org/data-structures/">DS</a></li>
  <li><a href="http://www.geeksforgeeks.org/gate-corner/">GATE</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/interview-corner/">Interview Corner</a></li>
  <li><a href="http://www.geeksforgeeks.org/forums/">Q&A</a></li>
  <li><a href="http://www.geeksforgeeks.org/c/">C</a></li>
  <li><a href="http://www.geeksforgeeks.org/c-plus-plus/">C++</a></li>
  <li><a href="http://www.geeksforgeeks.org/java/">Java</a></li>
  <li><a href="http://www.geeksforgeeks.org/books/">Books</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/">Contribute</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/ask-a-question/">Ask a Q</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/">About</a></li>
            </ul>

               
            <div class="clear"></div>     
        </div>
             <div id="navmenu">
				<ul id="menu" style="padding:0; margin:0;">
						<li class="cat-item cat-item-3"><a href="http://www.geeksforgeeks.org/category/c-arrays/" title="Questions regarding Arrays">Array</a>
</li>	

	<li class="cat-item cat-item-17"><a href="http://www.geeksforgeeks.org/category/bit-magic/" title="View all posts filed under Bit Magic">Bit Magic</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://www.geeksforgeeks.org/category/c-puzzles/" title="View all posts filed under C/C++ Puzzles">C/C++</a>
</li>

<li class="cat-item cat-item-18"><a href="http://www.geeksforgeeks.org/category/articles/" title="View all posts filed under Articles">Articles</a>
</li>

	<li class="cat-item cat-item-67"><a href="http://www.geeksforgeeks.org/category/gfact/" title="View all posts filed under GFacts">GFacts</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://www.geeksforgeeks.org/category/linked-list/" title="Linked List problems">Linked List</a>
</li>
	<li class="cat-item cat-item-66"><a href="http://www.geeksforgeeks.org/category/multiple-choice-question/" title="View all posts filed under MCQ">MCQ</a>

</li>
	<li class="cat-item cat-item-4"><a href="http://www.geeksforgeeks.org/category/c-programs/" title="Miscellaneous">Misc</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.geeksforgeeks.org/category/program-output/" title="View all posts filed under Output">Output</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://www.geeksforgeeks.org/category/c-strings/" title="Questions related to strings">String</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.geeksforgeeks.org/category/tree/" title="View all posts filed under Trees">Tree</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.geeksforgeeks.org/category/graph/" title="View all posts filed under Graph">Graph</a>
</li>
</ul>
        </div>
             <div id="content">	   	
	<div class="post" id="post">
							<div class="post-info">			
					<div class="post-title-info">
						<h2 class="post-title">Dynamic Programming | Set 35 (Longest Arithmetic Progression)</h2>
					</div>			
					<div class="clear"></div>				  
				<div class="post-content" id="post-content">
					<p>Given a set of numbers, find the <strong>L</strong>ength of the <strong>L</strong>ongest <strong>A</strong>rithmetic <strong>P</strong>rogression (<strong>LLAP</strong>) in it.  <span id="more-120380"></span></p>
<p>Examples:</p>
<pre>
set[] = {1, 7, 10, 15, 27, 29}
output = 3
The longest arithmetic progression is {1, 15, 29}

set[] = {5, 10, 15, 20, 25, 30}
output = 6
The whole set is in AP
</pre>
<p>For simplicity, we have assumed that the given set is sorted.  We can always add a pre-processing step to first sort the set and then apply the below algorithms.</p>
<p>A <strong>simple solution</strong> is to one by one consider every pair as first two elements of AP and check for the remaining elements in sorted set.  To consider all pairs as first two elements, we need to run a O(n^2) nested loop. Inside the nested loops, we need a third loop which linearly looks for the more elements in <strong>A</strong>rithmetic <strong>P</strong>rogression (<strong>AP</strong>). This process takes O(n<sup>3</sup>) time. </p>
<p>We can solve this problem in O(n<sup>2</sup>) time <strong>using Dynamic Programming</strong>.   To get idea of the DP solution, let us first discuss solution of following simpler problem.</p>
<p><strong><em>Given a sorted set, find if there exist three elements in Arithmetic Progression or not</em></strong><br />
Please note that, the answer is true if there are 3 or more elements in AP, otherwise false.<br />
To find the three elements, we first fix an element as middle element and search for other two (one smaller and one greater). We start from the second element and fix every element as middle element. For an element set[j] to be middle of AP, there must exist elements &#8216;set[i]&#8217; and &#8216;set[k]&#8217; such that set[i] + set[k] = 2*set[j] where 0 <= i < j and j < k <=n-1.<br />
<em>How to efficiently find i and k for a given j?</em> We can find i and k in linear time using following simple algorithm.<br />
<strong>1) </strong>Initialize i as j-1 and k as j+1<br />
<strong>2) </strong>Do following while i >= 0 and j <= n-1<br />
..........<strong>a)</strong> If set[i] + set[k] is equal to 2*set[j], then we are done.<br />
&#8230;&#8230;..<strong>b)</strong> If set[i] + set[k] > 2*set[j], then decrement i (do i–-).<br />
&#8230;&#8230;..<strong>c)</strong> Else if set[i] + set[k] < 2*set[j], then increment k (do k++).</p>
<p>Following is C++ implementation of the above algorithm for the simpler problem.</p>
<pre class="brush: cpp; highlight: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]; title: ; notranslate" title="">
// The function returns true if there exist three elements in AP
// Assumption: set[0..n-1] is sorted. 
// The code strictly implements the algorithm provided in the reference.
bool arithmeticThree(int set[], int n)
{
    // One by fix every element as middle element
    for (int j=1; j&lt;n-1; j++)
    {
        // Initialize i and k for the current j
        int i = j-1, k = j+1;

        // Find if there exist i and k that form AP
        // with j as middle element
        while (i &gt;= 0 &amp;&amp; k &lt;= n-1)
        {
            if (set[i] + set[k] == 2*set[j])
                return true;
            (set[i] + set[k] &lt; 2*set[j])? k++ : i&#8211;;
        }
    }

    return false;
}
</pre>
<p>See <a href="http://ideone.com/yL6r76">this </a>for a complete running program.</p>
<p><em><strong>How to extend the above solution for the original problem?</strong></em><br />
The above function returns a boolean value.  The required output of original problem is   <strong>L</strong>ength of the <strong>L</strong>ongest <strong>A</strong>rithmetic <strong>P</strong>rogression (<strong>LLAP</strong>) which is an integer value. If the given set has two or more elements, then the value of LLAP is at least 2 (Why?).<br />
The idea is to create a 2D table L[n][n].  An entry L[i][j] in this table stores LLAP with set[i] and set[j] as first two elements of AP and j > i. The last column of the table is always 2 (Why &#8211; see the meaning of L[i][j]).  Rest of the table is filled from bottom right to top left.  To fill rest of the table, j (second element in AP) is first fixed.  i and k are searched for a fixed j.  If i and k are found such that i, j, k form an AP, then the value of L[i][j] is set as L[j][k] + 1.  Note that the value of L[j][k] must have been filled before as the loop traverses from right to left columns.</p>
<p>Following is C++ implementation of the Dynamic Programming algorithm.</p>
<pre class="brush: cpp; highlight: [6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63]; title: ; notranslate" title="">
// C++ program to find Length of the Longest AP (llap) in a given sorted set.
// The code strictly implements the algorithm provided in the reference.
#include &lt;iostream&gt;
using namespace std;

// Returns length of the longest AP subset in a given set
int lenghtOfLongestAP(int set[], int n)
{
    if (n &lt;= 2)  return n;

    // Create a table and initialize all values as 2. The value of
    // L[i][j] stores LLAP with set[i] and set[j] as first two
    // elements of AP. Only valid entries are the entries where j&gt;i
    int L[n][n];
    int llap = 2;  // Initialize the result

    // Fill entries in last column as 2. There will always be
    // two elements in AP with last number of set as second
    // element in AP
    for (int i = 0; i &lt; n; i++)
        L[i][n-1] = 2;

    // Consider every element as second element of AP
    for (int j=n-2; j&gt;=1; j--)
    {
        // Search for i and k for j
        int i = j-1, k = j+1;
        while (i &gt;= 0 &amp;&amp; k &lt;= n-1)
        {
           if (set[i] + set[k] &lt; 2*set[j])
               k++;

           // Before changing i, set L[i][j] as 2
           else if (set[i] + set[k] &gt; 2*set[j])
           {   L[i][j] = 2, i--;   }

           else
           {
               // Found i and k for j, LLAP with i and j as first two
               // elements is equal to LLAP with j and k as first two
               // elements plus 1. L[j][k] must have been filled
               // before as we run the loop from right side
               L[i][j] = L[j][k] + 1;

               // Update overall LLAP, if needed
               llap = max(llap, L[i][j]);

               // Change i and k to fill more L[i][j] values for
               // current j
               i--; k++;
           }
        }

        // If the loop was stopped due to k becoming more than
        // n-1, set the remaining entties in column j as 2
        while (i &gt;= 0)
        {
            L[i][j] = 2;
            i--;
        }
    }
    return llap;
}

/* Drier program to test above function*/
int main()
{
    int set1[] = {1, 7, 10, 13, 14, 19};
    int n1 = sizeof(set1)/sizeof(set1[0]);
    cout &lt;&lt;   lenghtOfLongestAP(set1, n1) &lt;&lt; endl;

    int set2[] = {1, 7, 10, 15, 27, 29};
    int n2 = sizeof(set2)/sizeof(set2[0]);
    cout &lt;&lt;   lenghtOfLongestAP(set2, n2) &lt;&lt; endl;

    int set3[] = {2, 4, 6, 8, 10};
    int n3 = sizeof(set3)/sizeof(set3[0]);
    cout &lt;&lt;   lenghtOfLongestAP(set3, n3) &lt;&lt; endl;

    return 0;
}
</pre>
<p>Output:
<pre>4
3
5</pre>
<p><strong>Time Complexity:</strong> O(n<sup>2</sup>)<br />
<strong>Auxiliary Space:</strong> O(n<sup>2</sup>)</p>
<p><strong>References:</strong><br />
<a href="http://www.cs.uiuc.edu/~jeffe/pubs/pdf/arith.pdf" target="_blank">http://www.cs.uiuc.edu/~jeffe/pubs/pdf/arith.pdf</a></p>
<p>Please write comments if you find anything incorrect, or you want to share more information about the topic discussed above</p>
		
&nbsp;
&nbsp;
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Big Rectangle Blog Bottom -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="4061219431"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>



&nbsp;
&nbsp;
&nbsp;
<h3>Related Topics:</h3><ul><li><a href="http://www.geeksforgeeks.org/job-sequencing-problem-set-1-greedy-algorithm/" title="Job Sequencing Problem | Set 1 (Greedy Algorithm)">Job Sequencing Problem | Set 1 (Greedy Algorithm)</a></li><li><a href="http://www.geeksforgeeks.org/multiply-two-polynomials-2/" title="Multiply two polynomials">Multiply two polynomials</a></li><li><a href="http://www.geeksforgeeks.org/algorithm-practice-question-beginners-set-1/" title="Algorithm Practice Question for Beginners | Set 1">Algorithm Practice Question for Beginners | Set 1</a></li><li><a href="http://www.geeksforgeeks.org/count-distinct-non-negative-pairs-x-y-satisfy-inequality-xx-yy-n-2/" title="Count Distinct Non-Negative Integer Pairs (x, y) that Satisfy the Inequality x*x + y*y &lt; n">Count Distinct Non-Negative Integer Pairs (x, y) that Satisfy the Inequality x*x + y*y < n</a></li><li><a href="http://www.geeksforgeeks.org/binomial-heap-2/" title="Binomial Heap">Binomial Heap</a></li><li><a href="http://www.geeksforgeeks.org/print-increasing-sequences-length-k-first-n-natural-numbers/" title="Print all increasing sequences of length k from first n natural numbers">Print all increasing sequences of length k from first n natural numbers</a></li><li><a href="http://www.geeksforgeeks.org/find-nth-number-number-system-3-4/" title="Find n&#8217;th number in a number system with only 3 and 4">Find n&#8217;th number in a number system with only 3 and 4</a></li><li><a href="http://www.geeksforgeeks.org/minimum-cost-polygon-triangulation/" title="Minimum Cost Polygon Triangulation">Minimum Cost Polygon Triangulation</a></li></ul>
<p>Tags: <a href="http://www.geeksforgeeks.org/tag/dynamic-programming/" rel="tag">Dynamic Programming</a></p> 
<div>
<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.geeksforgeeks.org%2Flength-of-the-longest-arithmatic-progression-in-a-sorted-array%2F&layout=button_count&show_faces=false&width=90&action=like&colorscheme=light" scrolling="no" frameborder="0" allowTransparency="true" style="border:none; overflow:hidden; width:90px; height:20px"></iframe>
<a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.geeksforgeeks.org/length-of-the-longest-arithmatic-progression-in-a-sorted-array/" data-text="Dynamic Programming | Set 35 (Longest Arithmetic Progression)" data-count="horizontal" data-via="jakerutter">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
<g:plusone size="medium" href="http://www.geeksforgeeks.org/length-of-the-longest-arithmatic-progression-in-a-sorted-array/"></g:plusone>
<!-- Place this render call where appropriate -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script></div>





				</div>		  
			</div> <!-- end post main -->					
			<div class="post-meta">
				<div class="left"></div>				
				<div class="clear"></div>
			</div>			
        
			<div class="comments-main">		
 <b>Writing code in comment?</b> Please use <b><a href="http://ideone.com/">ideone.com</a></b> and share the link here.
				
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-32991">
        <div id="dsq-comment-header-32991" class="dsq-comment-header">
            <cite id="dsq-cite-32991">
                <span id="dsq-author-user-32991">learner</span>
            </cite>
        </div>
        <div id="dsq-comment-body-32991" class="dsq-comment-body">
            <div id="dsq-comment-message-32991" class="dsq-comment-message"><p>1]<br />
For a input<br />
int set1[] = {5,10,15,20,25};</p>
<p>when I print  L[n][n] , I get below output.</p>
<p>0  5  3  2  2<br />
0  0  4  2  2<br />
0  0  0  3  2<br />
0  0  0  0  2<br />
0  0  0  0  2</p>
<p>I did not understand what does 3 , 4 , 5  values in the matrix signify? Can somebody explain ? Can somebody provide better explanation on how ALGORITHM works.</p>
<p>secondly<br />
The entire matrix must be initialized with 2 not only the last column, as a pair of numbers in set1( which is assumed to be sorted) will always be in AP. Please correct me if I am wrong</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-30920">
        <div id="dsq-comment-header-30920" class="dsq-comment-header">
            <cite id="dsq-cite-30920">
                <span id="dsq-author-user-30920">Roxanne</span>
            </cite>
        </div>
        <div id="dsq-comment-body-30920" class="dsq-comment-body">
            <div id="dsq-comment-message-30920" class="dsq-comment-message"><p>I found a very simple solution-<br />
First &#8211; Create a 2d matrix such that array[i][j] is set[j] &#8211; set[i]. eg:<br />
    1   4  5 10 15<br />
1  0   3  4  9  14<br />
4  -3  0  1  6  11<br />
5  -4  -1 0  5  10<br />
10 -9 -6 -6 0  5<br />
15 &#8230;.             0</p>
<p>Now each element a[i][j] represents the difference(d) of AP from set[j] to set[i].<br />
eg array[3][2] = 5 , is the AP of d= 5 between set[3] = 10 and set[2] = 5.</p>
<p>Now make another pass over this 2d array, neglect all negative numbers, and create a hashmap with size -&gt; number i.e hashmap( key &#8211; a[i][j], value &#8211; list of all values for this size)<br />
eg<br />
5 -&gt; 10, 15<br />
3 -&gt; 4<br />
10-&gt; 15<br />
11 -&gt; 15<br />
&#8230;..</p>
<p>The one size with maximum number of elements in list is the answer.<br />
in this case 5 -&gt; 10, 15<br />
answer is 10-5 = 5 , 10, 15.</p>
<p>Let me know if this has any issues!</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-30955">
        <div id="dsq-comment-header-30955" class="dsq-comment-header">
            <cite id="dsq-cite-30955">
                <span id="dsq-author-user-30955">anonymous</span>
            </cite>
        </div>
        <div id="dsq-comment-body-30955" class="dsq-comment-body">
            <div id="dsq-comment-message-30955" class="dsq-comment-message"><p>After seeing the problem, this exact solution came to my mind. </p>
<p>To optimize it a little, instead of filling the 2d with -ve elements, just put a check while filling, that if(j&gt;i), only then perform set[j]-set[i], this can be done by modifying the inner for loop: for j from i+1 to n-1</p>
<p>And my way of storing the numbers was instead of using a hashmap, I was using an array of integers with space as much as the range of numbers(say MAX) and the particular position in the array denotes number of occurrences in the 2d array created.</p>
<p>But the auxiliary space turns out to be O(n^2+MAX), where MAX is the range of numbers.<br />
For some test cases, this might turn out to be worse than the dp soln.<br />
So using a hash table turns out to be better.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-3" id="dsq-comment-30982">
        <div id="dsq-comment-header-30982" class="dsq-comment-header">
            <cite id="dsq-cite-30982">
                <span id="dsq-author-user-30982">Roxanne</span>
            </cite>
        </div>
        <div id="dsq-comment-body-30982" class="dsq-comment-body">
            <div id="dsq-comment-message-30982" class="dsq-comment-message"><p>Any idea what would we gain in dp solution over this one?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-4" id="dsq-comment-30985">
        <div id="dsq-comment-header-30985" class="dsq-comment-header">
            <cite id="dsq-cite-30985">
                <span id="dsq-author-user-30985">anonymous</span>
            </cite>
        </div>
        <div id="dsq-comment-body-30985" class="dsq-comment-body">
            <div id="dsq-comment-message-30985" class="dsq-comment-message"><p>Just seems more complicated..</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-30429">
        <div id="dsq-comment-header-30429" class="dsq-comment-header">
            <cite id="dsq-cite-30429">
                <span id="dsq-author-user-30429">Guest</span>
            </cite>
        </div>
        <div id="dsq-comment-body-30429" class="dsq-comment-body">
            <div id="dsq-comment-message-30429" class="dsq-comment-message"><p><code> function a(){ System.out.println("a"); } </code></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-29041">
        <div id="dsq-comment-header-29041" class="dsq-comment-header">
            <cite id="dsq-cite-29041">
                <span id="dsq-author-user-29041">its_dark</span>
            </cite>
        </div>
        <div id="dsq-comment-body-29041" class="dsq-comment-body">
            <div id="dsq-comment-message-29041" class="dsq-comment-message"><p>Here is a recursive function that solves this problem.how can we convert this recursion into a dp (OR memoize it), using the same  logic ?? :</p>
<p><code></p>
<p>int recur(int a[], int index, int check[], int count, int size){<br />
    if(index==size)<br />
        return count;<br />
    if(count = 2){<br />
        if( (a[index] - check[count-1]) == (check[count-1] - check[count-2]) ){<br />
           check[count++] = a[index];<br />
            return recur2(a,index+1,check,count,size);<br />
        }<br />
        else{<br />
            return recur2(a,index+1,check,count,size);<br />
        }<br />
    }<br />
}</p>
<p>int main(int argc, char const *argv[])<br />
{<br />
    int a[11] = {1, 7, 10, 13, 15, 29, 43, 45, 57, 60, 71};<br />
    int check[100];<br />
    int ans  = recur2(a,0, check, 0, 11);<br />
    printf("%dn",ans);<br />
    return 0;<br />
}</p>
<p></code></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-27747">
        <div id="dsq-comment-header-27747" class="dsq-comment-header">
            <cite id="dsq-cite-27747">
                <span id="dsq-author-user-27747">Hiral</span>
            </cite>
        </div>
        <div id="dsq-comment-body-27747" class="dsq-comment-body">
            <div id="dsq-comment-message-27747" class="dsq-comment-message"><p>This solution is incorrect. You need to save in the 2*2 matrix, the corresponding difference for a particular L[i][j]. Consider below example:<br />
10 15 20 21 27<br />
You program will output 4 where in the correct answer is 3. This input contains two APs and both of them involve 15.<br />
so one AP is 10 15 20<br />
second one is 15 21 27</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-27900">
        <div id="dsq-comment-header-27900" class="dsq-comment-header">
            <cite id="dsq-cite-27900">
                <span id="dsq-author-user-27900">Mahdi Belbasi</span>
            </cite>
        </div>
        <div id="dsq-comment-body-27900" class="dsq-comment-body">
            <div id="dsq-comment-message-27900" class="dsq-comment-message"><p>it&#8217;s ok, the table would be like this :<br />
1     3     2     2     2<br />
0     1     2     3     2<br />
0     0     1     2     2<br />
0     0     0     1     2<br />
0     0     0     0     1</p>
<p>as you see, the answre is 3 <img src="http://d2o58evtke57tz.cloudfront.net/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /><br />
where is the mistake?</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-27612">
        <div id="dsq-comment-header-27612" class="dsq-comment-header">
            <cite id="dsq-cite-27612">
                <span id="dsq-author-user-27612">Somebody</span>
            </cite>
        </div>
        <div id="dsq-comment-body-27612" class="dsq-comment-body">
            <div id="dsq-comment-message-27612" class="dsq-comment-message"><p>What would be the time and space complexity, if the numbers are given in a sequence instead of a set? Which implies numbers are not in increasing order.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-26744">
        <div id="dsq-comment-header-26744" class="dsq-comment-header">
            <cite id="dsq-cite-26744">
                <span id="dsq-author-user-26744">Sudipto</span>
            </cite>
        </div>
        <div id="dsq-comment-body-26744" class="dsq-comment-body">
            <div id="dsq-comment-message-26744" class="dsq-comment-message"><p>How can we find the LLAP if the array is not sorted?<br />
For e.g. if there are 3 elements in the array in the following order : {7, 13, 10}, then sorting would make this {7, 10, 13} and the LLAP will be 3 for the sorted array and not the original array.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-25048">
        <div id="dsq-comment-header-25048" class="dsq-comment-header">
            <cite id="dsq-cite-25048">
                <span id="dsq-author-user-25048">piki</span>
            </cite>
        </div>
        <div id="dsq-comment-body-25048" class="dsq-comment-body">
            <div id="dsq-comment-message-25048" class="dsq-comment-message"><p>can we solve this problem using O(n) space &#8230;.please reply fast</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code)#include&lt;stdio.h&gt;
#include&lt;iostream&gt;
#include&lt;limits.h&gt;

using namespace std;

int main()
{
  int N,i,j;
  cin&gt;&gt;N;
  int A[N],LAP[N],diff[N];
  for(i=0;i&lt;N;i++)
     cin&gt;&gt;A[i];
  for(i=0;i&lt;N;i++)
  { 
      LAP[i]=1;
      diff[i]=INT_MAX;
  } 
  //main logic  
  for(i=1;i&lt;N;i++)
  {
     for(j=0;j&lt;i;j++)
     {
        if(LAP[i]==1)
         {
            LAP[i]=2;
            diff[i]=A[i]-A[j];
         }
        else if(A[i]-A[j]==diff[j] &amp;&amp; LAP[j]+1&gt;LAP[i])
        {
           LAP[i]=LAP[j]+1;
           diff[i]=A[i]-A[j];
        }
     }
  }
  int max1=0;
  for(i=1;i&lt;N;i++)
  {
     if(max1&lt;LAP[i])
       max1=LAP[i];
  }
  cout&lt;&lt;&quot;max1 is &quot;&lt;&lt;max1&lt;&lt;endl;
  return 0;
} */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-27905">
        <div id="dsq-comment-header-27905" class="dsq-comment-header">
            <cite id="dsq-cite-27905">
                <span id="dsq-author-user-27905">Mahdi Belbasi</span>
            </cite>
        </div>
        <div id="dsq-comment-body-27905" class="dsq-comment-body">
            <div id="dsq-comment-message-27905" class="dsq-comment-message"><p>your soloution is also same as this and is O(n^2)</p>
<p>because of 2 fors nested :</p>
<p> for(i=1;i&lt;N;i++)<br />
  {<br />
     for(j=0;j<i>LAP[i])<br />
        {<br />
           LAP[i]=LAP[j]+1;<br />
           diff[i]=A[i]-A[j];<br />
        }<br />
     }<br />
  }</p>
<p>this is also O(n^2)</i></p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-24815">
        <div id="dsq-comment-header-24815" class="dsq-comment-header">
            <cite id="dsq-cite-24815">
                <span id="dsq-author-user-24815">geek</span>
            </cite>
        </div>
        <div id="dsq-comment-body-24815" class="dsq-comment-body">
            <div id="dsq-comment-message-24815" class="dsq-comment-message"><p>Do we really need a 2D matrix to store the result. As we are filling the matrix only when we are able to find AP.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-23106">
        <div id="dsq-comment-header-23106" class="dsq-comment-header">
            <cite id="dsq-cite-23106">
                <span id="dsq-author-user-23106">hh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-23106" class="dsq-comment-body">
            <div id="dsq-comment-message-23106" class="dsq-comment-message"><p>Acc to your code L[n-1][n-1] = 2..please correct it.<br />
It should be 1.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-22734">
        <div id="dsq-comment-header-22734" class="dsq-comment-header">
            <cite id="dsq-cite-22734">
                <span id="dsq-author-user-22734">prabhu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-22734" class="dsq-comment-body">
            <div id="dsq-comment-message-22734" class="dsq-comment-message"><p>here is a solution with O(n^2) time complexity and O(n) space complexity.</p>
<p>int lenghtOfLongestAP(int *arr, int n)<br />
{<br />
    int aux1[n], aux2[n];</p>
<p>    aux1[0] = 1;<br />
    memset(aux2, 0xff, sizeof(int)*n);</p>
<p>    for(int i=1; i &lt; n; ++i)<br />
    {<br />
        int longind = -1;<br />
        aux1[i] = 1;<br />
        for(int j = 0; j <i> arr[j])<br />
            {<br />
                if (aux2[j] == -1 || arr[i] == (arr[j] + aux2[j]))<br />
                {<br />
                    if (aux1[i] &lt; (aux1[j] + 1))<br />
                    {<br />
                        aux1[i] = (aux1[j] + 1);<br />
                        longind = j;<br />
                    }<br />
                }<br />
            }<br />
        }<br />
        aux2[i] = (longind == -1)?-1:(arr[i] &#8211; arr[longind]);<br />
    }</p>
<p>    return aux1[n-1];<br />
}</p>
<p>/* Paste your code here (You may delete these lines if not writing code) */<br />
 </i></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-22305">
        <div id="dsq-comment-header-22305" class="dsq-comment-header">
            <cite id="dsq-cite-22305">
                <span id="dsq-author-user-22305">Dave</span>
            </cite>
        </div>
        <div id="dsq-comment-body-22305" class="dsq-comment-body">
            <div id="dsq-comment-message-22305" class="dsq-comment-message"><p>A more generic solution. Please reply in case of errors.</p>
<pre> <code language="C">

#include &lt;iostream&gt;
using namespace std;
//
int LLAP(int a[], int n)
{
    int diff_max = a[n-1] - a[0];
    int max_Len=1;
    // Len[i][j] is length of AP with last element is i and diff betn adj elements is j
    int Len[n][diff_max+1];
    for (int i=0; i&lt;n; i++)
    {
        for (int j=0; j&lt;=diff_max; j++)
            Len[i][j] = 1;
    }
    for (int i=1; i&lt;n; i++)
    {
        for (int k=0; k&lt;i; k++)
        {
            int diff=a[i]-a[k];
            Len[i]=Len[k] + 1;
            max_Len=max(max_Len, Len[i]);
        }
    }
    return max_Len;
}

//Driver code to test above function
int main ()
{
    int set[] = {1, 4, 8, 10, 11, 12, 15, 16, 23, 33};
    int n=sizeof(set)/sizeof(set[0]);
    cout &lt;&lt; &quot;Max Length AP: &quot; &lt;&lt; LLAP(set,n);
    return 0;
}

</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-24997">
        <div id="dsq-comment-header-24997" class="dsq-comment-header">
            <cite id="dsq-cite-24997">
                <span id="dsq-author-user-24997">parbays</span>
            </cite>
        </div>
        <div id="dsq-comment-body-24997" class="dsq-comment-body">
            <div id="dsq-comment-message-24997" class="dsq-comment-message"><p>Your max_diff can go pretty huge, storing such large table will not be prudent.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-22304">
        <div id="dsq-comment-header-22304" class="dsq-comment-header">
            <cite id="dsq-cite-22304">
                <span id="dsq-author-user-22304">Dave</span>
            </cite>
        </div>
        <div id="dsq-comment-body-22304" class="dsq-comment-body">
            <div id="dsq-comment-message-22304" class="dsq-comment-message"><pre> <code language="C">

#include &lt;stdio.h&gt;
//
int LLAP(int a[], int n)
{
    int diff_max = a[n-1] - a[0];
    int max_Len=1;
    // Len[i][j] is length of AP with last element is i and diff between adj elements is j
    int Len[n][diff_max+1];
    for (int i=0; i&lt;n; i++)
    {
        for (int j=0; j&lt;=diff_max; j++)
            Len[i][j] = 1;
    }
    for (int i=1; i&lt;n; i++)
    {
        for (int k=0; k&lt;i; k++)
        {
            int diff=a[i]-a[k];
            Len[i]=Len[k] + 1;
            max_Len=max(max_Len, Len[i]);
        }
    }
    return max_Len;
}

//Driver code to test above function
int main ()
{
    int set[] = {1, 4, 8, 10, 11, 12, 15, 16, 23, 33};
    int n=sizeof(set)/sizeof(set[0]);
    printf(&quot;Max Length AP: %d&quot;, LLAP(set,n));
    return 0;
}
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-22287">
        <div id="dsq-comment-header-22287" class="dsq-comment-header">
            <cite id="dsq-cite-22287">
                <span id="dsq-author-user-22287">Dhiren</span>
            </cite>
        </div>
        <div id="dsq-comment-body-22287" class="dsq-comment-body">
            <div id="dsq-comment-message-22287" class="dsq-comment-message"><p>As I always try to draw the recursion tree for a problem before applying dynamic programming concepts to it. So I tried for this problem too. Here is my solution, but I don’t think there is overlapping sub problem property in here, but may be the optimal substructure property is there, not sure?? If someone?? Reviews it then please point out. Though I don’t like to copy the whole bunch of code in here instead I like to write the logic but in this case as I am not able to copy the recursion tree in this comment so copying the code sample. May be there is some mistake, but I have tasted with different inputs, results is correct. If someone?? Can point out??</p>
<pre> <code language="C">

#include &quot;stdafx.h&quot;

namespace longest_arithmatic_progression
{
	int lap(int a[], int n, int prev_index, int diff)
	{
		if(n==1 || n==2)
			return n;
		int lap_count = 0, max_lap_count =0;
		for(int i=0; i&lt;n; i++)
		{
			if(i &gt; prev_index)
			{
				//For all the first element of the sequence
				if(prev_index == -1)
					lap_count = 1+lap(a,n,i,-1);
				//For the second element of the sequence where we send the diff to other calls
				else if(diff == -1)
					lap_count = 1+lap(a,n,i,a[i]-a[prev_index]);
				//For all the elements in the sequence which has a constant diff
				else if((a[i]-a[prev_index]) == diff)
					lap_count = 1 + lap(a,n,i,diff);

				if(lap_count &gt; max_lap_count)
					max_lap_count = lap_count;
			}
		}
		return max_lap_count;
	}

	void lap_driver()
	{
		int a[] = {1,7,10,15,13,16,27,29};
		int n = sizeof(a)/sizeof(a[0]);

		int lap_ = lap(a,n,-1,-1);
		printf(&quot;Longest arithmatic progression length = %d\n&quot;, lap_);
	}
}

</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-23037">
        <div id="dsq-comment-header-23037" class="dsq-comment-header">
            <cite id="dsq-cite-23037">
                <span id="dsq-author-user-23037">Mohan</span>
            </cite>
        </div>
        <div id="dsq-comment-body-23037" class="dsq-comment-body">
            <div id="dsq-comment-message-23037" class="dsq-comment-message"><p>Your solution runs at O(maxdiff*n^2). Even if you use binary search to find the next index of the AP, the complexity is unaffected.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-22274">
        <div id="dsq-comment-header-22274" class="dsq-comment-header">
            <cite id="dsq-cite-22274">
                <span id="dsq-author-user-22274">RiTZ</span>
            </cite>
        </div>
        <div id="dsq-comment-body-22274" class="dsq-comment-body">
            <div id="dsq-comment-message-22274" class="dsq-comment-message"><p>You can also point out a &#8220;n^2 log n&#8221; solution if you use 2 loops with a binary search instead of a linear search.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-22098">
        <div id="dsq-comment-header-22098" class="dsq-comment-header">
            <cite id="dsq-cite-22098">
                <span id="dsq-author-user-22098">hh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-22098" class="dsq-comment-body">
            <div id="dsq-comment-message-22098" class="dsq-comment-message"><p>@geeksforgeeks:In the portion of your article :&#8221;Given a sorted set, find if there exist three elements in Arithmetic Progression or not&#8221;, how your complexity is linear??I think it is O(n^2).<br />
Say you have 2 3 5 6 10.Then one such triplet is 2 6 10.So clearly outer loop runs n-2 times and inner loop n-2 times.<br />
So it should be O(n^2 &#8211; 2*n  + 4) i.e. O(n^2).Please take a look.Thanks.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-22134">
        <div id="dsq-comment-header-22134" class="dsq-comment-header">
            <cite id="dsq-cite-22134">
                <span id="dsq-author-user-22134">csj</span>
            </cite>
        </div>
        <div id="dsq-comment-body-22134" class="dsq-comment-body">
            <div id="dsq-comment-message-22134" class="dsq-comment-message"><p>how to efficiently find i and k for a &#8216;given j&#8217; ? We can find i and k in linear time using following simple algorithm. (For given j)</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-21979">
        <div id="dsq-comment-header-21979" class="dsq-comment-header">
            <cite id="dsq-cite-21979">
                <span id="dsq-author-user-21979">Silent</span>
            </cite>
        </div>
        <div id="dsq-comment-body-21979" class="dsq-comment-body">
            <div id="dsq-comment-message-21979" class="dsq-comment-message"><p>Without auxillary space..</p>
<p>int FindAP(int *a,int size)<br />
{<br />
      int i,j,fix;<br />
      int len,max_len,diff,left,right;</p>
<p>      len = max_len = 0;</p>
<p>      for(fix=1;fix=0 &amp;&amp; j 2*a[fix])<br />
                 i&#8211;;<br />
              else if(a[i]+a[j] =0)<br />
           {<br />
              if(left-a[i] == diff)<br />
              {<br />
                  left = a[i];<br />
                  len++;<br />
              }<br />
           }</p>
<p>           while(++j&lt;size)<br />
           {<br />
              if(a[j]-right == diff)<br />
              {<br />
                  right = a[j];<br />
                  len++;<br />
              }<br />
           }<br />
           if(max_len &lt; len)<br />
             max_len = len;<br />
      }<br />
      return max_len;<br />
}</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-csj odd alt thread-odd thread-alt depth-1" id="dsq-comment-21976">
        <div id="dsq-comment-header-21976" class="dsq-comment-header">
            <cite id="dsq-cite-21976">
                <span id="dsq-author-user-21976">csj</span>
            </cite>
        </div>
        <div id="dsq-comment-body-21976" class="dsq-comment-body">
            <div id="dsq-comment-message-21976" class="dsq-comment-message"><p>Given code doesn&#8217;t work correctly when given set has duplicates. following edit resolves the issue.</p>
<pre> <code language="C">
.
.
.
// Change i and k to fill more L[i][j] values for
// current j
int temp = s[i];
i--;
while(i &gt;= 0 &amp;&amp; s[i] == temp) {
L[i][j] = L[j][k] + 1;
i--;
}
k++;
.
.
.
</code> </pre>
<p>Thanks for the problem!</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-21962">
        <div id="dsq-comment-header-21962" class="dsq-comment-header">
            <cite id="dsq-cite-21962">
                <span id="dsq-author-user-21962">Savan Popat</span>
            </cite>
        </div>
        <div id="dsq-comment-body-21962" class="dsq-comment-body">
            <div id="dsq-comment-message-21962" class="dsq-comment-message"><p>Thank you very much,</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-asitdhal odd alt thread-odd thread-alt depth-1" id="dsq-comment-21829">
        <div id="dsq-comment-header-21829" class="dsq-comment-header">
            <cite id="dsq-cite-21829">
                <span id="dsq-author-user-21829">asitdhal</span>
            </cite>
        </div>
        <div id="dsq-comment-body-21829" class="dsq-comment-body">
            <div id="dsq-comment-message-21829" class="dsq-comment-message"><p>I have a small doubt here</p>
<pre> <code language="C">

else if (set[i] + set[k] &gt; 2*set[j])
           {   L[i][j] = 2, i--;   }

</code> </pre>
<p>Why are we assigning 2 when set[i]+set[k] is greater ?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-hitesh-dholaria even thread-even depth-1" id="dsq-comment-21761">
        <div id="dsq-comment-header-21761" class="dsq-comment-header">
            <cite id="dsq-cite-21761">
http://in.linkedin.com/in/hiteshdholaria                <span id="dsq-author-user-21761">Hitesh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-21761" class="dsq-comment-body">
            <div id="dsq-comment-message-21761" class="dsq-comment-message"><p>It could have been better explained ( in terms of how to reuse overlapping subproblems and underlying optimal substructure ). By the way, thanks for updating ourselves by such a fresh problem!</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-22254">
        <div id="dsq-comment-header-22254" class="dsq-comment-header">
            <cite id="dsq-cite-22254">
                <span id="dsq-author-user-22254">Dhiren</span>
            </cite>
        </div>
        <div id="dsq-comment-body-22254" class="dsq-comment-body">
            <div id="dsq-comment-message-22254" class="dsq-comment-message"><p>I agree with Hitesh. As you cant think the solution of a problem directly in line of dynamic programming. You always try to do it with recursion and then make the solution efficient by applying dynamic programming paradigm to it.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-21708">
        <div id="dsq-comment-header-21708" class="dsq-comment-header">
            <cite id="dsq-cite-21708">
                <span id="dsq-author-user-21708">sourabh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-21708" class="dsq-comment-body">
            <div id="dsq-comment-message-21708" class="dsq-comment-message"><p>Another solution would be:-<br />
1.) Find the minimum and maximum in the sorted set.<br />
2.) Let L(i, j, d) be the length of the sequence starting at a[i] and ending at a[j] with a common difference of d<br />
3.) The maximum value in the table L(I, J, d) gives the maximum subsequence length for common difference d.<br />
4.) Construct the tables for a common difference of 0 to (max- min) found in the first step<br />
5.) Choose the maximum from all the tables<br />
6.) Complexity is O((max &#8211; min) * n * n) or O(n*n) since max- min is constant</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-31026">
        <div id="dsq-comment-header-31026" class="dsq-comment-header">
            <cite id="dsq-cite-31026">
                <span id="dsq-author-user-31026">Vu Duc Minh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-31026" class="dsq-comment-body">
            <div id="dsq-comment-message-31026" class="dsq-comment-message"><p>6) It is not correct. For example max-min = 10^9 while n=100.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-21697">
        <div id="dsq-comment-header-21697" class="dsq-comment-header">
            <cite id="dsq-cite-21697">
                <span id="dsq-author-user-21697">Vikrant</span>
            </cite>
        </div>
        <div id="dsq-comment-body-21697" class="dsq-comment-body">
            <div id="dsq-comment-message-21697" class="dsq-comment-message"><p>Edit this</p>
<p>……b) If set[i] + set[k] &gt; 2*set[j], then decrement i (do i–-).<br />
……c) else if set[i] + set[k] &lt; 2*set[j], then increment k (do k++).</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-geeksforgeeks bypostauthor odd alt depth-2" id="dsq-comment-21700">
        <div id="dsq-comment-header-21700" class="dsq-comment-header">
            <cite id="dsq-cite-21700">
                <span id="dsq-author-user-21700">GeeksforGeeks</span>
            </cite>
        </div>
        <div id="dsq-comment-body-21700" class="dsq-comment-body">
            <div id="dsq-comment-message-21700" class="dsq-comment-message"><p>@vikrant: Thanks for pointing this out.  We have updated the algorithm.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-27972">
        <div id="dsq-comment-header-27972" class="dsq-comment-header">
            <cite id="dsq-cite-27972">
                <span id="dsq-author-user-27972">Tux Ansari</span>
            </cite>
        </div>
        <div id="dsq-comment-body-27972" class="dsq-comment-body">
            <div id="dsq-comment-message-27972" class="dsq-comment-message"><p>(set[i] + set[k] &lt; 2*set[j])? k++ : i–;</p>
<p>should be i&#8211;;</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
var disqus_url = 'http://www.geeksforgeeks.org/length-of-the-longest-arithmatic-progression-in-a-sorted-array/';
var disqus_identifier = '120380 http://www.geeksforgeeks.org/?p=120380';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'geeksforgeeks';
var disqus_title = "Dynamic Programming | Set 35 (Longest Arithmetic Progression)";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

			</div>
	
					
			
			

		</div> <!-- end post -->	

<br></br>
	
</div> <!-- end content -->

<ul id="sidebar">
	<li id="text-19" class="widget widget_text">			<div class="textwidget"><script>
  (function() {
    var cx = '009682134359037907028:tj6eafkv_be';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

<style type="text/css">
  .gsc-control-cse {
    font-family: "Trebuchet MS", sans-serif;
    border-color: #E1F3DA;
    background-color: #E1F3DA;
  }
  input.gsc-input {
    border-color: #94CC7A;
  }
  input.gsc-search-button {
    border-color: #94CC7A;
    background-color: #AADA92;
  }
  .gsc-tabHeader.gsc-tabhInactive {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-tabHeader.gsc-tabhActive {
    border-color: #A9DA92;
    background-color: #A9DA92;
  }
  .gsc-tabsArea {
    border-color: #A9DA92;
  }
  .gsc-webResult.gsc-result {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-webResult.gsc-result:hover {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gs-webResult.gs-result a.gs-title:link,
  .gs-webResult.gs-result a.gs-title:link b {
    color: #009900;
  }
  .gs-webResult.gs-result a.gs-title:visited,
  .gs-webResult.gs-result a.gs-title:visited b {
    color: #009900;
  }
  .gs-webResult.gs-result a.gs-title:hover,
  .gs-webResult.gs-result a.gs-title:hover b {
    color: #003300;
  }
  .gs-webResult.gs-result a.gs-title:active,
  .gs-webResult.gs-result a.gs-title:active b {
    color: #009900;
  }
  .gsc-cursor-page {
    color: #009900;
  }
  a.gsc-trailing-more-results:link {
    color: #009900;
  }
  .gs-webResult.gs-result .gs-snippet {
    color: #454545;
  }
  .gs-webResult.gs-result .gs-visibleUrl {
    color: #33cc00;
  }
  .gs-webResult.gs-result .gs-visibleUrl-short {
    color: #33cc00;
  }
  .gs-webResult.gs-result .gs-visibleUrl-short {
    display: none;
  }
  .gs-webResult.gs-result .gs-visibleUrl-long {
    display: block;
  }
  .gsc-cursor-box {
    border-color: #A9DA92;
  }
  .gsc-results .gsc-cursor-page {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-results .gsc-cursor-page.gsc-cursor-current-page {
    border-color: #A9DA92;
    background-color: #A9DA92;
  }
  .gs-promotion.gs-result {
    border-color: #94CC7A;
    background-color: #CBE8B4;
  }
  .gs-promotion.gs-result a.gs-title:link {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:visited {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:hover {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:active {
    color: #0066CC;
  }
  .gs-promotion.gs-result .gs-snippet {
    color: #454545;
  }
  .gs-promotion.gs-result .gs-visibleUrl,
  .gs-promotion.gs-result .gs-visibleUrl-short {
    color: #815FA7;
  }
</style>    </div>
		</li>
<li id="text-9" class="widget widget_text">			<div class="textwidget"><div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=138031159685820";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-like-box" data-href="https://www.facebook.com/pages/GeeksforGeeks/316764689022" data-width="250" data-height="170" data-colorscheme="light" data-show-faces="true" data-header="false" data-stream="false" data-show-border="false"></div></div>
		</li>
<li id="text-18" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LargeRectangleSide -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="1884636833"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>
<li id="text-13" class="widget widget_text">			<div class="textwidget"><ul><li><a href="http://www.geeksforgeeks.org/category/interview-experiences/">Interview Experiences</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/advance-data-structures">Advanced Data Structures</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/dynamic-programming">Dynamic Programming</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/Greedy-Algorithm/">Greedy Algorithms</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/backtracking">Backtracking</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/pattern-searching">Pattern Searching</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/divide-and-conquer">Divide & Conquer</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/MathematicalAlgo">Mathematical Algorithms</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/recursion">Recursion</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/geometric-algorithms/">Geometric Algorithms</a></li>
</ul></div>
		</li>
<li id="text-17" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Big 300x600 Sidebar -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="4402736037"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>
<li id="text-14" class="widget widget_text"><h2 class="widgettitle">Popular Posts</h2>
			<div class="textwidget"><ul>
<li><a href="http://www.geeksforgeeks.org/write-a-c-program-to-print-all-permutations-of-a-given-string/">  All permutations of a given string </a></li>
<li><a href="http://www.geeksforgeeks.org/memory-layout-of-c-program/"> Memory Layout of C Programs</a> </li>
<li><a href="http://www.geeksforgeeks.org/understanding-extern-keyword-in-c/"> Understanding “extern” keyword in C</a> </li>
<li><a href="http://www.geeksforgeeks.org/median-of-two-sorted-arrays/">Median of two sorted arrays</a> </li>
<li><a href="http://www.geeksforgeeks.org/inorder-tree-traversal-without-recursion-and-without-stack/"> Tree traversal without recursion and without stack! </a></li>
<li><a href="http://www.geeksforgeeks.org/structure-member-alignment-padding-and-data-packing/"> Structure Member Alignment, Padding and Data Packing</a> </li>
<li><a href="http://www.geeksforgeeks.org/write-a-function-to-get-the-intersection-point-of-two-linked-lists/"> Intersection point of two Linked Lists</a> </li>
<li><a href="http://www.geeksforgeeks.org/lowest-common-ancestor-in-a-binary-search-tree/"> Lowest Common Ancestor in a BST.</span></a> </li>
<li><a href="http://www.geeksforgeeks.org/a-program-to-check-if-a-binary-tree-is-bst-or-not/"> Check if a binary tree is BST or not</a> </li>
<li><a href="http://www.geeksforgeeks.org/sorted-linked-list-to-balanced-bst/"> Sorted Linked List to Balanced BST</a></li>
</ul></div>
		</li>
<li id="text-3" class="widget widget_text">			<div class="textwidget"><a href="https://twitter.com/GeeksforGeeks" class="twitter-follow-button" data-show-count="false">Follow @GeeksforGeeks</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>         


<!-- GOOGLE FEEDBURNER BUTTON-->
<a href="http://feeds.feedburner.com/Geeksforgeeks" title="Subscribe to my feed" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon32x32.png" alt="" style="border:0"/></a><a href="http://feeds.feedburner.com/Geeksforgeeks" title="Subscribe to my feed" rel="alternate" type="application/rss+xml">Subscribe</a>

</div>
		</li>
<li id="text-21" class="widget widget_text"><h2 class="widgettitle">Recent Comments</h2>
			<div class="textwidget"><script type="text/javascript" src="http://geeksforgeeks.disqus.com//recent_comments_widget.js?num_items=6&hide_avatars=1&excerpt_length=50&hide_mods=0"></script></div>
		</li>
<li id="text-22" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>

</ul>					  
		<div class="clear"></div>

		<div id="footer">
		
		    <div class="xhtml">
                        @geeksforgeeks, <a href="http://creativecommons.org/licenses/by-nc-nd/2.5/in/deed.en_US" title="Valid XHTML Strict 1.0">Some rights reserved</a>  <a href="http://www.geeksforgeeks.org/about/contact-us/"> &nbsp; &nbsp; &nbsp; &nbsp;Contact Us!</a>

		    </div>
		    
		    <div class="credits">
			  Powered by <a href="http://wordpress.org">WordPress </a> &amp; <a href="http://mootools.net/" title="Mootools JavaScript Framework">MooTools</a>, customized by geeksforgeeks team </div>
			  
		   <div class="clear"></div>						                            
		   
		</div> <!--end footer-->  
        
		        <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'geeksforgeeks';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); 
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
        <script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCpp.js?ver=3.0.9'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/js/editor.js?ver=2.5.4-5380'></script>
				  
		</div> <!--end wrapper-->
        <div id="ajaxSpinner"></div> <!--For AJAX spinner holder-->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12148232-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
	</body>

</html>
<!-- Dynamic page generated in 0.208 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2014-11-27 23:59:15 -->

<!-- Compression = gzip -->
<!-- super cache -->