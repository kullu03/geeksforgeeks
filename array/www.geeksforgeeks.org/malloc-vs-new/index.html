<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
       <title>malloc() vs new - GeeksforGeeks</title>
       <style type="text/css" media="screen">
          @import url('http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/style.css');
    </style>
      <link href="http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/favicon.ico" rel="shortcut icon" />    
    
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.7.1 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://www.geeksforgeeks.org/malloc-vs-new/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="malloc() vs new - GeeksforGeeks" />
<meta property="og:description" content="Following are the differences between malloc() and operator new. 1) new calls constructors, while malloc() does not. In fact primitive data types (char, int, float.. etc) can also be initialized with new. For example, below program prints 10. 2) new is an operator, while malloc() is a fucntion. 3) new returns exact data type, while &hellip;" />
<meta property="og:url" content="http://www.geeksforgeeks.org/malloc-vs-new/" />
<meta property="og:site_name" content="GeeksforGeeks" />
<meta property="article:section" content="C/C++ Puzzles" />
<meta property="article:published_time" content="2010-08-25T21:20:02+00:00" />
<meta property="article:modified_time" content="2010-09-15T11:32:00+00:00" />
<meta property="og:updated_time" content="2010-09-15T11:32:00+00:00" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel='stylesheet' id='wp-quicklatex-format-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/css/quicklatex-format.css?ver=4.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='bbp-default-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/css/bbpress.css?ver=2.5.4-5380' type='text/css' media='screen' />
<link rel='stylesheet' id='wp-pagenavi-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-pagenavi/pagenavi-css.css?ver=2.70' type='text/css' media='all' />
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery.js?ver=1.11.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/js/wp-quicklatex-frontend.js?ver=1.0'></script>

<!-- Bad Behavior 2.2.16 run time: 1.501 ms -->
<script type="text/javascript">
<!--
function bb2_addLoadEvent(func) {
	var oldonload = window.onload;
	if (typeof window.onload != 'function') {
		window.onload = func;
	} else {
		window.onload = function() {
			oldonload();
			func();
		}
	}
}

bb2_addLoadEvent(function() {
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1417111252 122.177.117.151';
			document.forms[i].appendChild(myElement);
		}
	}
});
// --></script>
		<style type="text/css" id="syntaxhighlighteranchor"></style>
   <meta name="google-site-verification" content="rHK2v8_zzuAZQY8JHAzbllDN8u-aQxcn2Kqnp67Old0" />
</head>

<body>
<!-- o4dI0sCXUgoSONabbd8mbZ4SA3E -->    
    <div id="wrapper">
        <div class="blog-info">
                <h1 class="blog-title">
                <a href="http://www.geeksforgeeks.org" title="GeeksforGeeks">GeeksforGeeks</a>
            </h1>
       
            <div class="blog-description">
                A computer science portal for geeks            </div>
        </div>
        <b><p>  <h2 align="right"> <a href="http://geeksquiz.com/">GeeksQuiz</a></h2> 
   <a href="http://www.geeksforgeeks.org/wp-login.php">Login</a> 
         </p></b>  
         
         <div class="clear"></div>         
              
                     
            <div id="menu">   
                 <ul>
 <li><a href="http://www.geeksforgeeks.org">Home</a></li>
  <li><a href="http://www.geeksforgeeks.org/fundamentals-of-algorithms/">Algorithms</a></li>
 <li><a href="http://www.geeksforgeeks.org/data-structures/">DS</a></li>
  <li><a href="http://www.geeksforgeeks.org/gate-corner/">GATE</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/interview-corner/">Interview Corner</a></li>
  <li><a href="http://www.geeksforgeeks.org/forums/">Q&A</a></li>
  <li><a href="http://www.geeksforgeeks.org/c/">C</a></li>
  <li><a href="http://www.geeksforgeeks.org/c-plus-plus/">C++</a></li>
  <li><a href="http://www.geeksforgeeks.org/java/">Java</a></li>
  <li><a href="http://www.geeksforgeeks.org/books/">Books</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/">Contribute</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/ask-a-question/">Ask a Q</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/">About</a></li>
            </ul>

               
            <div class="clear"></div>     
        </div>
             <div id="navmenu">
				<ul id="menu" style="padding:0; margin:0;">
						<li class="cat-item cat-item-3"><a href="http://www.geeksforgeeks.org/category/c-arrays/" title="Questions regarding Arrays">Array</a>
</li>	

	<li class="cat-item cat-item-17"><a href="http://www.geeksforgeeks.org/category/bit-magic/" title="View all posts filed under Bit Magic">Bit Magic</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://www.geeksforgeeks.org/category/c-puzzles/" title="View all posts filed under C/C++ Puzzles">C/C++</a>
</li>

<li class="cat-item cat-item-18"><a href="http://www.geeksforgeeks.org/category/articles/" title="View all posts filed under Articles">Articles</a>
</li>

	<li class="cat-item cat-item-67"><a href="http://www.geeksforgeeks.org/category/gfact/" title="View all posts filed under GFacts">GFacts</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://www.geeksforgeeks.org/category/linked-list/" title="Linked List problems">Linked List</a>
</li>
	<li class="cat-item cat-item-66"><a href="http://www.geeksforgeeks.org/category/multiple-choice-question/" title="View all posts filed under MCQ">MCQ</a>

</li>
	<li class="cat-item cat-item-4"><a href="http://www.geeksforgeeks.org/category/c-programs/" title="Miscellaneous">Misc</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.geeksforgeeks.org/category/program-output/" title="View all posts filed under Output">Output</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://www.geeksforgeeks.org/category/c-strings/" title="Questions related to strings">String</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.geeksforgeeks.org/category/tree/" title="View all posts filed under Trees">Tree</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.geeksforgeeks.org/category/graph/" title="View all posts filed under Graph">Graph</a>
</li>
</ul>
        </div>
             <div id="content">	   	
	<div class="post" id="post">
							<div class="post-info">			
					<div class="post-title-info">
						<h2 class="post-title">malloc() vs new</h2>
					</div>			
					<div class="clear"></div>				  
				<div class="post-content" id="post-content">
					<p>Following are the differences between malloc() and operator new. <span id="more-8378"></span></p>
<p>1) new calls constructors, while malloc() does not.  In fact primitive data types (char, int, float.. etc) can also be initialized with new.  For example, below program prints 10.</p>
<pre class="brush: cpp; title: ; notranslate" title="">
#include&lt;iostream&gt;

using namespace std;

int main()
{
   int *n = new int(10); // initialization with new()
   cout&lt;&lt;*n;
   getchar();
   return 0;
}
</pre>
<p>2) new is an operator, while malloc() is a fucntion.</p>
<p>3) new returns exact data type, while malloc() returns void *.</p>
<p>Please write comments if you find anything incorrect in the above post, or you want to share more information about the topic discussed above.</p>
		
&nbsp;
&nbsp;
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Big Rectangle Blog Bottom -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="4061219431"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>



&nbsp;
&nbsp;
&nbsp;
<h3>Related Topics:</h3><ul><li><a href="http://www.geeksforgeeks.org/comparison-float-value-c/" title="Comparison of a float with a value in C">Comparison of a float with a value in C</a></li><li><a href="http://www.geeksforgeeks.org/pure-virtual-destructor-c/" title="Pure virtual destructor in C++">Pure virtual destructor in C++</a></li><li><a href="http://www.geeksforgeeks.org/c-mutable-keyword/" title="C++ mutable keyword">C++ mutable keyword</a></li><li><a href="http://www.geeksforgeeks.org/possible-call-constructor-destructor-explicitly/" title="Is it possible to call constructor and destructor explicitly?">Is it possible to call constructor and destructor explicitly?</a></li><li><a href="http://www.geeksforgeeks.org/multithreading-c-2/" title="Multithreading in C">Multithreading in C</a></li><li><a href="http://www.geeksforgeeks.org/c-prgram-print-range-basic-data-types-without-library-function-constant/" title="How to print range of basic data types without any library function and constant in C?">How to print range of basic data types without any library function and constant in C?</a></li><li><a href="http://www.geeksforgeeks.org/c-final-specifier/" title="C++ final specifier">C++ final specifier</a></li><li><a href="http://www.geeksforgeeks.org/print-substring-of-a-given-string-without-using-any-string-function-and-loop-in-c/" title="Print substring of a given string without using any string function and loop in C">Print substring of a given string without using any string function and loop in C</a></li></ul>
<p></p> 
<div>
<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.geeksforgeeks.org%2Fmalloc-vs-new%2F&layout=button_count&show_faces=false&width=90&action=like&colorscheme=light" scrolling="no" frameborder="0" allowTransparency="true" style="border:none; overflow:hidden; width:90px; height:20px"></iframe>
<a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.geeksforgeeks.org/malloc-vs-new/" data-text="malloc() vs new" data-count="horizontal" data-via="jakerutter">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
<g:plusone size="medium" href="http://www.geeksforgeeks.org/malloc-vs-new/"></g:plusone>
<!-- Place this render call where appropriate -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script></div>





				</div>		  
			</div> <!-- end post main -->					
			<div class="post-meta">
				<div class="left"></div>				
				<div class="clear"></div>
			</div>			
        
			<div class="comments-main">		
 <b>Writing code in comment?</b> Please use <b><a href="http://ideone.com/">ideone.com</a></b> and share the link here.
				
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-31968">
        <div id="dsq-comment-header-31968" class="dsq-comment-header">
            <cite id="dsq-cite-31968">
                <span id="dsq-author-user-31968">OM</span>
            </cite>
        </div>
        <div id="dsq-comment-body-31968" class="dsq-comment-body">
            <div id="dsq-comment-message-31968" class="dsq-comment-message"><p>How new returns exact data type</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-31425">
        <div id="dsq-comment-header-31425" class="dsq-comment-header">
            <cite id="dsq-cite-31425">
                <span id="dsq-author-user-31425">Vladimir Shishov</span>
            </cite>
        </div>
        <div id="dsq-comment-body-31425" class="dsq-comment-body">
            <div id="dsq-comment-message-31425" class="dsq-comment-message"><p>There is a &#8216;new expression&#8217; and a &#8216;new operator&#8217; that are different things.<br />
&#8211; operator new doesn&#8217;t call constructors.<br />
&#8211; operator new returns void* just like malloc.</p>
<p>I think there is a lot of different things that can be added, such as new[] expression vs malloc.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-31390">
        <div id="dsq-comment-header-31390" class="dsq-comment-header">
            <cite id="dsq-cite-31390">
                <span id="dsq-author-user-31390">muthua</span>
            </cite>
        </div>
        <div id="dsq-comment-body-31390" class="dsq-comment-body">
            <div id="dsq-comment-message-31390" class="dsq-comment-message"><p>In new we do not mention the size but malloc we mention the size. for example,<br />
int *p = new int;<br />
int *p = (int*) malloc(sizeof(int));</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-27966">
        <div id="dsq-comment-header-27966" class="dsq-comment-header">
            <cite id="dsq-cite-27966">
                <span id="dsq-author-user-27966">Bipin Kumar</span>
            </cite>
        </div>
        <div id="dsq-comment-body-27966" class="dsq-comment-body">
            <div id="dsq-comment-message-27966" class="dsq-comment-message"><p>The one more  difference which i would like to add is in the case of malloc the deallocation of memory in done with the help of free() but in new the deallocation is done with delete operator.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-nitajay28 even thread-even depth-1" id="dsq-comment-20590">
        <div id="dsq-comment-header-20590" class="dsq-comment-header">
            <cite id="dsq-cite-20590">
http://faltucodes.blogspot.in/                <span id="dsq-author-user-20590">MITTAL</span>
            </cite>
        </div>
        <div id="dsq-comment-body-20590" class="dsq-comment-body">
            <div id="dsq-comment-message-20590" class="dsq-comment-message"><p>Try to run program 1 and 2<br />
program 1:<br />
#include <iostream><br />
using namespace std;<br />
int main()<br />
{<br />
int* n=new int[1000000000];<br />
    return 0;<br />
}</p>
<p>program 2:<br />
#include </iostream><iostream><br />
using namespace std;<br />
int main()<br />
{<br />
int* n=(int*)malloc(sizeof(int)*1000000000);<br />
    return 0;<br />
}</p>
<p>Note:- new fails to allocate large amount of memory and it shows run time error. While malloc works fine.</iostream></p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-29633">
        <div id="dsq-comment-header-29633" class="dsq-comment-header">
            <cite id="dsq-cite-29633">
                <span id="dsq-author-user-29633">Rakesh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-29633" class="dsq-comment-body">
            <div id="dsq-comment-message-29633" class="dsq-comment-message"><p>Neither code works.</p>
<p>Even the malloc() fails to allocate the memory specified and returns NULL pointer. It is just that no error handling is associated with the malloc thing.</p>
<p>You can verify my statement by checking the return value of the malloc call.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-17890">
        <div id="dsq-comment-header-17890" class="dsq-comment-header">
            <cite id="dsq-cite-17890">
                <span id="dsq-author-user-17890">Pranav</span>
            </cite>
        </div>
        <div id="dsq-comment-body-17890" class="dsq-comment-body">
            <div id="dsq-comment-message-17890" class="dsq-comment-message"><p>Most important difference is that we can overload new/delete, but we can not do so with malloc/free.<br />
It comes handy when we need to implement our own memory management schemes, i.e. we can maintain our array/vector of the allocated memory.So as to make sure of the memory leaks. </p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-29634">
        <div id="dsq-comment-header-29634" class="dsq-comment-header">
            <cite id="dsq-cite-29634">
                <span id="dsq-author-user-29634">Rakesh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-29634" class="dsq-comment-body">
            <div id="dsq-comment-message-29634" class="dsq-comment-message"><p>Yes quite obvious, as malloc has been derived from C and hence there is no support for OO mechanics.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-16035">
        <div id="dsq-comment-header-16035" class="dsq-comment-header">
            <cite id="dsq-cite-16035">
                <span id="dsq-author-user-16035">Baahu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-16035" class="dsq-comment-body">
            <div id="dsq-comment-message-16035" class="dsq-comment-message"><p>in the above post point 2 is wrong.new() is not a operator, its a keyword.<br />
when we invoke new() , internally &#8220;operator new()&#8221; is invoked and then constructor of the class is invoked.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-7579">
        <div id="dsq-comment-header-7579" class="dsq-comment-header">
            <cite id="dsq-cite-7579">
http://coolerlab.wordpress.com/                <span id="dsq-author-user-7579">Cooler_</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7579" class="dsq-comment-body">
            <div id="dsq-comment-message-7579" class="dsq-comment-message"><p>so, have memory leak if not use &#8220;delete&#8221;<br />
and malloc() have leak if not use free()</p>
<pre> <code language="C">
/*

My notes in last odyssey how freelancer

 last work was nes to fix a code with
 WxWidgets, so i lost time to fix that
 code, z dont h exp in &quot;C++&quot;,b i was haz 
 to read Stroustrup's book,i ob quite stu
 to pru to ry, i vot to write this dok.
 
 So i ub to write code in ansi C
 b in last times, i played quite with
 C++ , so this code is demo of su thing
 that i ob about cpp.


author:Antonio aka &quot;Cooler_&quot;
e-mail=c00f3r[at]gmail[dot]com

- 
 C like functions same to &quot;stdio.h&quot;, 
 so u can declare &quot;stdio.h&quot; too,b with 
 out of cpp standard...
*/
#include &lt;cstdio&gt;

using namespace std;

class Animal {
// simple heritage ,default is &quot;private:&quot; so private not use heritage
 public:
// virtual modifier defines polymorphic behavior of function members
  virtual void food() = 0;
  virtual void sound() = 0;
};

class Dog : public Animal {
 public:
  void food() { std::puts(&quot;Pedigree&quot;); }
  void sound() { std::puts(&quot;wof!&quot;); }
};

class Cat : public Animal {
 public:
  void food() { std::puts(&quot;Purina&quot;); }
  void sound() { std::puts(&quot;meow!&quot;); }
};


// templates,with this u can use vars without declare each type of var,however quite util to reuse code
template &lt;class X&gt; 
 void swap(X &amp;a, X &amp;b)    // tempalte function
 {
  a^=b;
  b^=a;
  a^=b;
 }


// tru this change dest 2 src
void transmute(void *dest, void *src) {
  *(void **)dest = *(void **)src;
}

// Number of elements in an array
#define sizeof_array(a) (sizeof a / sizeof a[0])

int main() 
{
// first trick array size
 char word[5]=&quot;bobo&quot;;
 std::printf(&quot;array word size: %d\n&quot;, sizeof_array(word)); 

// second step swap with template
 int x=2,y=8;
 swap(x,y);
 std::printf(&quot;%d\n&quot;,x);

// third step , the simple transmute
  Dog *dog = new Dog();
  Cat *cat = new Cat();
  dog-&gt;food();
// function to change dog with cat
  transmute(dog,cat);
  dog-&gt;food();

/* 
 gag caution!
  az u need use &quot;new&quot;, this use heap, 
  then u nes us &quot;delete&quot;, to free memory.
  if not use cause memory leak.
*/
  delete dog,cat;

  return 0;
}

</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-5030">
        <div id="dsq-comment-header-5030" class="dsq-comment-header">
            <cite id="dsq-cite-5030">
                <span id="dsq-author-user-5030">RDL</span>
            </cite>
        </div>
        <div id="dsq-comment-body-5030" class="dsq-comment-body">
            <div id="dsq-comment-message-5030" class="dsq-comment-message"><p>one more point,</p>
<p>new operator calls the constructor and allocates initialized memory whereas malloc allocates uninitialized memory</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-5029">
        <div id="dsq-comment-header-5029" class="dsq-comment-header">
            <cite id="dsq-cite-5029">
                <span id="dsq-author-user-5029">RDL</span>
            </cite>
        </div>
        <div id="dsq-comment-body-5029" class="dsq-comment-body">
            <div id="dsq-comment-message-5029" class="dsq-comment-message"><p>void * malloc ( size_t size );<br />
Allocate memory block</p>
<p>Allocates a block of size bytes of memory, returning a pointer to the beginning of the block.</p>
<p>The content of the newly allocated block of memory is not initialized, remaining with indeterminate values.</p>
<p>General syntax of new operator in C++:<br />
The general syntax of new operator in C++ is as follows: </p>
<p>pointer variable = new datatype; </p>
<p>In the above statement, new is a keyword and the pointer variable is a variable of type datatype. </p>
<p>For example:<br />
int *a=new int; </p>
<p>In the above example, the new operator allocates sufficient memory to hold the object of datatype int and returns a pointer to its starting point. The pointer variable a holds the address of memory space allocated.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-2257">
        <div id="dsq-comment-header-2257" class="dsq-comment-header">
            <cite id="dsq-cite-2257">
                <span id="dsq-author-user-2257">Virender</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2257" class="dsq-comment-body">
            <div id="dsq-comment-message-2257" class="dsq-comment-message"><p>What about the memory map created by new and malloc</p>
<p>Class A *a = new A[10];<br />
Class A *a = (A*)malloc(sizeof(A)*10);</p>
<p>how are memory map different?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-2187">
        <div id="dsq-comment-header-2187" class="dsq-comment-header">
            <cite id="dsq-cite-2187">
                <span id="dsq-author-user-2187">thannuu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2187" class="dsq-comment-body">
            <div id="dsq-comment-message-2187" class="dsq-comment-message"><p>1. Operator new constructs an object (calls constructor of object), malloc does not. </p>
<p>2. Operator new is an operator, malloc is a function. </p>
<p>3. Operator new can be overloaded, malloc cannot be overloaded. </p>
<p>4. Operator new throws an exception if there is not enough memory, malloc returns a NULL. </p>
<p>5. Operator new[] requires to specify the number of objects to allocate, malloc requires to specify the total number of bytes to allocate. </p>
<p>6. malloc() returns void *, which has to be explicitly cast to the desired type but new returns the proper type. </p>
<p>7. Operator new/new[] must be matched with operator delete/delete[] to deallocate memory, malloc() must be matched with free() to deallocate memory. </p>
<p>8. The new/delete couple does not have a realloc alternative that is available when malloc/free pair is used. realloc is used to resize the length of an array or a memory block dynamically</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-kartik even depth-2" id="dsq-comment-2190">
        <div id="dsq-comment-header-2190" class="dsq-comment-header">
            <cite id="dsq-cite-2190">
                <span id="dsq-author-user-2190">kartik</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2190" class="dsq-comment-body">
            <div id="dsq-comment-message-2190" class="dsq-comment-message"><p><em>&gt;&gt; Operator new can be overloaded, malloc cannot be overloaded. </em><br />
 malloc() can also be overloaded as function overloading is supported in C++, we can change signature of malloc() similar to calloc() or we can change it to initialize memory with arguments. </p>
<p><em>&gt;&gt; The new/delete couple does not have a realloc alternative that is available when malloc/free pair is used. realloc is used to resize the length of an array or a memory block dynamically</em></p>
<p>AFAIK realloc() can be used with new also.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-shekhu odd alt depth-3" id="dsq-comment-2213">
        <div id="dsq-comment-header-2213" class="dsq-comment-header">
            <cite id="dsq-cite-2213">
                <span id="dsq-author-user-2213">Shekhu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2213" class="dsq-comment-body">
            <div id="dsq-comment-message-2213" class="dsq-comment-message"><p>yes, malloc() can also be overloaded, but new can be overloaded with same signature as the standard new operator.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-dheeraj even thread-even depth-1" id="dsq-comment-2110">
        <div id="dsq-comment-header-2110" class="dsq-comment-header">
            <cite id="dsq-cite-2110">
                <span id="dsq-author-user-2110">Dheeraj</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2110" class="dsq-comment-body">
            <div id="dsq-comment-message-2110" class="dsq-comment-message"><p>There are less chances of making mistakes with new() compared to malloc().  </p>
<pre> <code language="C">
#include&lt;stdio.h&gt;
int main()
{
  //memory is allocated for a pointer variable. Less chances of making such mistake with new().
  double *p = (double *)malloc(sizeof(p)); 
  getchar();
  return 0;
}
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-venki odd alt thread-odd thread-alt depth-1" id="dsq-comment-2087">
        <div id="dsq-comment-header-2087" class="dsq-comment-header">
            <cite id="dsq-cite-2087">
http://wemeanourthoughts.blogspot.com/                <span id="dsq-author-user-2087">Venki</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2087" class="dsq-comment-body">
            <div id="dsq-comment-message-2087" class="dsq-comment-message"><p>What would be the significance of making <em>new</em> and <em>delete</em> as operators? One is for overloading. Any other reasons?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-ashish even depth-2" id="dsq-comment-2114">
        <div id="dsq-comment-header-2114" class="dsq-comment-header">
            <cite id="dsq-cite-2114">
                <span id="dsq-author-user-2114">Ashish</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2114" class="dsq-comment-body">
            <div id="dsq-comment-message-2114" class="dsq-comment-message"><p>You want to ask significance of using new and delete operator in terms of overloading </p>
<p>You can use malloc or free instate of new and delete just one difference that these function calls will not call constructor or destructor.</p>
<p>In normal programing you can&#8217;t able to analyze side effect of this but suppose if your constructor initialize some pointer with a memory and if you use free to delete that object object will delete but your initialized memory will not free you have to take care of that before deleting any object but if you use delete it just call destructor and that destructor will have free memory code</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-venki odd alt depth-3" id="dsq-comment-2116">
        <div id="dsq-comment-header-2116" class="dsq-comment-header">
            <cite id="dsq-cite-2116">
http://wemeanourthoughts.blogspot.com/                <span id="dsq-author-user-2116">Venki</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2116" class="dsq-comment-body">
            <div id="dsq-comment-message-2116" class="dsq-comment-message"><p>Thanks. Any inputs on <em>placement new</em>? How are they going to work on <em>placement new</em>?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-sesha even depth-4" id="dsq-comment-6627">
        <div id="dsq-comment-header-6627" class="dsq-comment-header">
            <cite id="dsq-cite-6627">
http://www.yourbitsandbytes.com                <span id="dsq-author-user-6627">sesha</span>
            </cite>
        </div>
        <div id="dsq-comment-body-6627" class="dsq-comment-body">
            <div id="dsq-comment-message-6627" class="dsq-comment-message"><p>@Venki:<br />
If you are interested in new/delete operators overloading scenarios, you can check out the discussions here<br />
<a href="http://yourbitsandbytes.com/viewtopic.php?f=3&#038;t=4825" rel="nofollow">http://yourbitsandbytes.com/viewtopic.php?f=3&#038;t=4825</a></p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
var disqus_url = 'http://www.geeksforgeeks.org/malloc-vs-new/';
var disqus_identifier = '8378 http://geeksforgeeks.org/?p=8378';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'geeksforgeeks';
var disqus_title = "malloc() vs new";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

			</div>
	
					
			
			

		</div> <!-- end post -->	

<br></br>
	
</div> <!-- end content -->

<ul id="sidebar">
	<li id="text-19" class="widget widget_text">			<div class="textwidget"><script>
  (function() {
    var cx = '009682134359037907028:tj6eafkv_be';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

<style type="text/css">
  .gsc-control-cse {
    font-family: "Trebuchet MS", sans-serif;
    border-color: #E1F3DA;
    background-color: #E1F3DA;
  }
  input.gsc-input {
    border-color: #94CC7A;
  }
  input.gsc-search-button {
    border-color: #94CC7A;
    background-color: #AADA92;
  }
  .gsc-tabHeader.gsc-tabhInactive {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-tabHeader.gsc-tabhActive {
    border-color: #A9DA92;
    background-color: #A9DA92;
  }
  .gsc-tabsArea {
    border-color: #A9DA92;
  }
  .gsc-webResult.gsc-result {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-webResult.gsc-result:hover {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gs-webResult.gs-result a.gs-title:link,
  .gs-webResult.gs-result a.gs-title:link b {
    color: #009900;
  }
  .gs-webResult.gs-result a.gs-title:visited,
  .gs-webResult.gs-result a.gs-title:visited b {
    color: #009900;
  }
  .gs-webResult.gs-result a.gs-title:hover,
  .gs-webResult.gs-result a.gs-title:hover b {
    color: #003300;
  }
  .gs-webResult.gs-result a.gs-title:active,
  .gs-webResult.gs-result a.gs-title:active b {
    color: #009900;
  }
  .gsc-cursor-page {
    color: #009900;
  }
  a.gsc-trailing-more-results:link {
    color: #009900;
  }
  .gs-webResult.gs-result .gs-snippet {
    color: #454545;
  }
  .gs-webResult.gs-result .gs-visibleUrl {
    color: #33cc00;
  }
  .gs-webResult.gs-result .gs-visibleUrl-short {
    color: #33cc00;
  }
  .gs-webResult.gs-result .gs-visibleUrl-short {
    display: none;
  }
  .gs-webResult.gs-result .gs-visibleUrl-long {
    display: block;
  }
  .gsc-cursor-box {
    border-color: #A9DA92;
  }
  .gsc-results .gsc-cursor-page {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-results .gsc-cursor-page.gsc-cursor-current-page {
    border-color: #A9DA92;
    background-color: #A9DA92;
  }
  .gs-promotion.gs-result {
    border-color: #94CC7A;
    background-color: #CBE8B4;
  }
  .gs-promotion.gs-result a.gs-title:link {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:visited {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:hover {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:active {
    color: #0066CC;
  }
  .gs-promotion.gs-result .gs-snippet {
    color: #454545;
  }
  .gs-promotion.gs-result .gs-visibleUrl,
  .gs-promotion.gs-result .gs-visibleUrl-short {
    color: #815FA7;
  }
</style>    </div>
		</li>
<li id="text-9" class="widget widget_text">			<div class="textwidget"><div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=138031159685820";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-like-box" data-href="https://www.facebook.com/pages/GeeksforGeeks/316764689022" data-width="250" data-height="170" data-colorscheme="light" data-show-faces="true" data-header="false" data-stream="false" data-show-border="false"></div></div>
		</li>
<li id="text-18" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LargeRectangleSide -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="1884636833"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>
<li id="text-13" class="widget widget_text">			<div class="textwidget"><ul><li><a href="http://www.geeksforgeeks.org/category/interview-experiences/">Interview Experiences</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/advance-data-structures">Advanced Data Structures</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/dynamic-programming">Dynamic Programming</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/Greedy-Algorithm/">Greedy Algorithms</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/backtracking">Backtracking</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/pattern-searching">Pattern Searching</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/divide-and-conquer">Divide & Conquer</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/MathematicalAlgo">Mathematical Algorithms</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/recursion">Recursion</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/geometric-algorithms/">Geometric Algorithms</a></li>
</ul></div>
		</li>
<li id="text-17" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Big 300x600 Sidebar -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="4402736037"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>
<li id="text-14" class="widget widget_text"><h2 class="widgettitle">Popular Posts</h2>
			<div class="textwidget"><ul>
<li><a href="http://www.geeksforgeeks.org/write-a-c-program-to-print-all-permutations-of-a-given-string/">  All permutations of a given string </a></li>
<li><a href="http://www.geeksforgeeks.org/memory-layout-of-c-program/"> Memory Layout of C Programs</a> </li>
<li><a href="http://www.geeksforgeeks.org/understanding-extern-keyword-in-c/"> Understanding “extern” keyword in C</a> </li>
<li><a href="http://www.geeksforgeeks.org/median-of-two-sorted-arrays/">Median of two sorted arrays</a> </li>
<li><a href="http://www.geeksforgeeks.org/inorder-tree-traversal-without-recursion-and-without-stack/"> Tree traversal without recursion and without stack! </a></li>
<li><a href="http://www.geeksforgeeks.org/structure-member-alignment-padding-and-data-packing/"> Structure Member Alignment, Padding and Data Packing</a> </li>
<li><a href="http://www.geeksforgeeks.org/write-a-function-to-get-the-intersection-point-of-two-linked-lists/"> Intersection point of two Linked Lists</a> </li>
<li><a href="http://www.geeksforgeeks.org/lowest-common-ancestor-in-a-binary-search-tree/"> Lowest Common Ancestor in a BST.</span></a> </li>
<li><a href="http://www.geeksforgeeks.org/a-program-to-check-if-a-binary-tree-is-bst-or-not/"> Check if a binary tree is BST or not</a> </li>
<li><a href="http://www.geeksforgeeks.org/sorted-linked-list-to-balanced-bst/"> Sorted Linked List to Balanced BST</a></li>
</ul></div>
		</li>
<li id="text-3" class="widget widget_text">			<div class="textwidget"><a href="https://twitter.com/GeeksforGeeks" class="twitter-follow-button" data-show-count="false">Follow @GeeksforGeeks</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>         


<!-- GOOGLE FEEDBURNER BUTTON-->
<a href="http://feeds.feedburner.com/Geeksforgeeks" title="Subscribe to my feed" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon32x32.png" alt="" style="border:0"/></a><a href="http://feeds.feedburner.com/Geeksforgeeks" title="Subscribe to my feed" rel="alternate" type="application/rss+xml">Subscribe</a>

</div>
		</li>
<li id="text-21" class="widget widget_text"><h2 class="widgettitle">Recent Comments</h2>
			<div class="textwidget"><script type="text/javascript" src="http://geeksforgeeks.disqus.com//recent_comments_widget.js?num_items=6&hide_avatars=1&excerpt_length=50&hide_mods=0"></script></div>
		</li>
<li id="text-22" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>

</ul>					  
		<div class="clear"></div>

		<div id="footer">
		
		    <div class="xhtml">
                        @geeksforgeeks, <a href="http://creativecommons.org/licenses/by-nc-nd/2.5/in/deed.en_US" title="Valid XHTML Strict 1.0">Some rights reserved</a>  <a href="http://www.geeksforgeeks.org/about/contact-us/"> &nbsp; &nbsp; &nbsp; &nbsp;Contact Us!</a>

		    </div>
		    
		    <div class="credits">
			  Powered by <a href="http://wordpress.org">WordPress </a> &amp; <a href="http://mootools.net/" title="Mootools JavaScript Framework">MooTools</a>, customized by geeksforgeeks team </div>
			  
		   <div class="clear"></div>						                            
		   
		</div> <!--end footer-->  
        
		        <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'geeksforgeeks';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); 
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
        <script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCpp.js?ver=3.0.9'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/js/editor.js?ver=2.5.4-5380'></script>
				  
		</div> <!--end wrapper-->
        <div id="ajaxSpinner"></div> <!--For AJAX spinner holder-->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12148232-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
	</body>

</html>
<!-- Dynamic page generated in 0.193 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2014-11-27 23:30:52 -->

<!-- Compression = gzip -->
<!-- super cache -->