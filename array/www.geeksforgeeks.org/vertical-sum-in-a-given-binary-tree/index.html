<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
       <title>Vertical Sum in a given Binary Tree - GeeksforGeeks</title>
       <style type="text/css" media="screen">
          @import url('http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/style.css');
    </style>
      <link href="http://d2o58evtke57tz.cloudfront.net/wp-content/themes/minimoo/favicon.ico" rel="shortcut icon" />    
    
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.7.1 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://www.geeksforgeeks.org/vertical-sum-in-a-given-binary-tree/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Vertical Sum in a given Binary Tree - GeeksforGeeks" />
<meta property="og:description" content="Given a Binary Tree, find vertical sum of the nodes that are in same vertical line. Print all sums through different vertical lines. Examples: 1 / \ 2 3 / \ / \ 4 5 6 7 The tree has 5 vertical lines Vertical-Line-1 has only one node 4 =&gt; vertical sum is 4 Vertical-Line-2: &hellip;" />
<meta property="og:url" content="http://www.geeksforgeeks.org/vertical-sum-in-a-given-binary-tree/" />
<meta property="og:site_name" content="GeeksforGeeks" />
<meta property="article:section" content="Trees" />
<meta property="article:published_time" content="2012-02-29T21:20:50+00:00" />
<meta property="article:modified_time" content="2012-03-01T10:59:30+00:00" />
<meta property="og:updated_time" content="2012-03-01T10:59:30+00:00" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel='stylesheet' id='wp-quicklatex-format-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/css/quicklatex-format.css?ver=4.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='bbp-default-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/css/bbpress.css?ver=2.5.4-5380' type='text/css' media='screen' />
<link rel='stylesheet' id='wp-pagenavi-css'  href='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-pagenavi/pagenavi-css.css?ver=2.70' type='text/css' media='all' />
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery.js?ver=1.11.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/wp-quicklatex/js/wp-quicklatex-frontend.js?ver=1.0'></script>

<!-- Bad Behavior 2.2.16 run time: 1.486 ms -->
<script type="text/javascript">
<!--
function bb2_addLoadEvent(func) {
	var oldonload = window.onload;
	if (typeof window.onload != 'function') {
		window.onload = func;
	} else {
		window.onload = function() {
			oldonload();
			func();
		}
	}
}

bb2_addLoadEvent(function() {
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1417111077 138.246.2.10';
			document.forms[i].appendChild(myElement);
		}
	}
});
// --></script>
		<style type="text/css" id="syntaxhighlighteranchor"></style>
   <meta name="google-site-verification" content="rHK2v8_zzuAZQY8JHAzbllDN8u-aQxcn2Kqnp67Old0" />
</head>

<body>
<!-- o4dI0sCXUgoSONabbd8mbZ4SA3E -->    
    <div id="wrapper">
        <div class="blog-info">
                <h1 class="blog-title">
                <a href="http://www.geeksforgeeks.org" title="GeeksforGeeks">GeeksforGeeks</a>
            </h1>
       
            <div class="blog-description">
                A computer science portal for geeks            </div>
        </div>
        <b><p>  <h2 align="right"> <a href="http://geeksquiz.com/">GeeksQuiz</a></h2> 
   <a href="http://www.geeksforgeeks.org/wp-login.php">Login</a> 
         </p></b>  
         
         <div class="clear"></div>         
              
                     
            <div id="menu">   
                 <ul>
 <li><a href="http://www.geeksforgeeks.org">Home</a></li>
  <li><a href="http://www.geeksforgeeks.org/fundamentals-of-algorithms/">Algorithms</a></li>
 <li><a href="http://www.geeksforgeeks.org/data-structures/">DS</a></li>
  <li><a href="http://www.geeksforgeeks.org/gate-corner/">GATE</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/interview-corner/">Interview Corner</a></li>
  <li><a href="http://www.geeksforgeeks.org/forums/">Q&A</a></li>
  <li><a href="http://www.geeksforgeeks.org/c/">C</a></li>
  <li><a href="http://www.geeksforgeeks.org/c-plus-plus/">C++</a></li>
  <li><a href="http://www.geeksforgeeks.org/java/">Java</a></li>
  <li><a href="http://www.geeksforgeeks.org/books/">Books</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/">Contribute</a></li>
  <li><a href="http://www.geeksforgeeks.org/contribute/ask-a-question/">Ask a Q</a></li>
  <li><a href="http://www.geeksforgeeks.org/about/">About</a></li>
            </ul>

               
            <div class="clear"></div>     
        </div>
             <div id="navmenu">
				<ul id="menu" style="padding:0; margin:0;">
						<li class="cat-item cat-item-3"><a href="http://www.geeksforgeeks.org/category/c-arrays/" title="Questions regarding Arrays">Array</a>
</li>	

	<li class="cat-item cat-item-17"><a href="http://www.geeksforgeeks.org/category/bit-magic/" title="View all posts filed under Bit Magic">Bit Magic</a>
</li>
	<li class="cat-item cat-item-14"><a href="http://www.geeksforgeeks.org/category/c-puzzles/" title="View all posts filed under C/C++ Puzzles">C/C++</a>
</li>

<li class="cat-item cat-item-18"><a href="http://www.geeksforgeeks.org/category/articles/" title="View all posts filed under Articles">Articles</a>
</li>

	<li class="cat-item cat-item-67"><a href="http://www.geeksforgeeks.org/category/gfact/" title="View all posts filed under GFacts">GFacts</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://www.geeksforgeeks.org/category/linked-list/" title="Linked List problems">Linked List</a>
</li>
	<li class="cat-item cat-item-66"><a href="http://www.geeksforgeeks.org/category/multiple-choice-question/" title="View all posts filed under MCQ">MCQ</a>

</li>
	<li class="cat-item cat-item-4"><a href="http://www.geeksforgeeks.org/category/c-programs/" title="Miscellaneous">Misc</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.geeksforgeeks.org/category/program-output/" title="View all posts filed under Output">Output</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://www.geeksforgeeks.org/category/c-strings/" title="Questions related to strings">String</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.geeksforgeeks.org/category/tree/" title="View all posts filed under Trees">Tree</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://www.geeksforgeeks.org/category/graph/" title="View all posts filed under Graph">Graph</a>
</li>
</ul>
        </div>
             <div id="content">	   	
	<div class="post" id="post">
							<div class="post-info">			
					<div class="post-title-info">
						<h2 class="post-title">Vertical Sum in a given Binary Tree</h2>
					</div>			
					<div class="clear"></div>				  
				<div class="post-content" id="post-content">
					<p>Given a Binary Tree, find vertical sum of the nodes that are in same vertical line.  Print all sums through different vertical lines.<span id="more-18215"></span></p>
<p>Examples:</p>
<pre>
      1
    /   \
  2      3
 / \    / \
4   5  6   7
</pre>
<p>The tree has 5 vertical lines</p>
<p>Vertical-Line-1 has only one node 4 => vertical sum is 4<br />
Vertical-Line-2: has only one node 2=> vertical sum is 2<br />
Vertical-Line-3: has three nodes: 1,5,6 => vertical sum is 1+5+6 = 12<br />
Vertical-Line-4: has only one node 3 => vertical sum is 3<br />
Vertical-Line-5: has only one node 7 => vertical sum is 7</p>
<p>So expected output is 4, 2, 12, 3 and 7</p>
<p><strong>Solution:</strong><br />
We need to check the Horizontal Distances from root for all nodes. If two nodes have the same Horizontal Distance (HD), then they are on same vertical line. The idea of HD is simple. HD for root is 0, a right edge (edge connecting to right subtree) is considered as +1 horizontal distance and a left edge is considered as -1 horizontal distance. For example, in the above tree, HD for Node 4 is at -2, HD for Node 2 is -1, HD for 5 and 6 is 0 and HD for node 7 is +2.<br />
We can do inorder traversal of the given Binary Tree.  While traversing the tree, we can recursively calculate HDs.  We initially pass the horizontal distance as 0 for root.  For left subtree, we pass the Horizontal Distance as Horizontal distance of root minus 1.  For right subtree, we pass the Horizontal Distance as Horizontal Distance of root plus 1.</p>
<p>Following is Java implementation for the same. HashMap is used to store the vertical sums for different horizontal distances. Thanks to <a href="http://geeksforgeeks.org/forum/topic/amazon-interview-question-for-software-engineerdeveloper-about-trees-4#post-36516">Nages</a> for suggesting this method.</p>
<pre class="brush: java; highlight: [36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71]; title: ; notranslate" title="">
import java.util.HashMap;
 
// Class for a tree node
class TreeNode {
 
    // data members
    private int key;
    private TreeNode left;
    private TreeNode right;
 
    // Accessor methods
    public int key()        { return key; }
    public TreeNode left()  { return left; }
    public TreeNode right() { return right; }
 
    // Constructor
    public TreeNode(int key) { this.key = key; left = null; right = null; }
 
    // Methods to set left and right subtrees
    public void setLeft(TreeNode left)   { this.left = left; }
    public void setRight(TreeNode right) { this.right = right; }
}
 
// Class for a Binary Tree
class Tree {
 
    private TreeNode root;
 
    // Constructors
    public Tree() { root = null; }
    public Tree(TreeNode n) { root = n; }
 
    // Method to be called by the consumer classes like Main class
    public void VerticalSumMain() { VerticalSum(root); }
 
    // A wrapper over VerticalSumUtil()
    private void VerticalSum(TreeNode root) {
 
        // base case
        if (root == null) { return; }
 
        // Creates an empty hashMap hM
        HashMap&lt;Integer, Integer&gt; hM = new HashMap&lt;Integer, Integer&gt;();
 
        // Calls the VerticalSumUtil() to store the vertical sum values in hM
        VerticalSumUtil(root, 0, hM);
 
        // Prints the values stored by VerticalSumUtil()
        if (hM != null) {
            System.out.println(hM.entrySet());
        }
    }
 
    // Traverses the tree in Inoorder form and builds a hashMap hM that
    // contains the vertical sum
    private void VerticalSumUtil(TreeNode root, int hD,
                                          HashMap&lt;Integer, Integer&gt; hM) {
 
        // base case
        if (root == null) {  return; }
 
        // Store the values in hM for left subtree
        VerticalSumUtil(root.left(), hD - 1, hM);
 
        // Update vertical sum for hD of this node
        int prevSum = (hM.get(hD) == null) ? 0 : hM.get(hD);
        hM.put(hD, prevSum + root.key());
 
        // Store the values in hM for right subtree
        VerticalSumUtil(root.right(), hD + 1, hM);
    }
}
 
// Driver class to test the verticalSum methods
public class Main {
 
    public static void main(String[] args) {
        /* Create following Binary Tree
              1
            /    \
          2        3
         / \      / \
        4   5    6   7
 
        */
        TreeNode root = new TreeNode(1);
        root.setLeft(new TreeNode(2));
        root.setRight(new TreeNode(3));
        root.left().setLeft(new TreeNode(4));
        root.left().setRight(new TreeNode(5));
        root.right().setLeft(new TreeNode(6));
        root.right().setRight(new TreeNode(7));
        Tree t = new Tree(root);
 
        System.out.println(&quot;Following are the values of vertical sums with &quot;
                + &quot;the positions of the columns with respect to root &quot;);
        t.VerticalSumMain();
    }
}
</pre>
<p>See <a href="http://ideone.com/nP2T6">this</a> for a sample run.</p>
<p>Time Complexity: O(n)</p>
<p>Please write comments if you find anything incorrect, or you want to share more information about the topic discussed above.</p>
		
&nbsp;
&nbsp;
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Big Rectangle Blog Bottom -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="4061219431"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>



&nbsp;
&nbsp;
&nbsp;
<h3>Related Topics:</h3><ul><li><a href="http://www.geeksforgeeks.org/perfect-binary-tree-specific-level-order-traversal/" title="Perfect Binary Tree Specific Level Order Traversal">Perfect Binary Tree Specific Level Order Traversal</a></li><li><a href="http://www.geeksforgeeks.org/print-nodes-top-view-binary-tree/" title="Print Nodes in Top View of Binary Tree">Print Nodes in Top View of Binary Tree</a></li><li><a href="http://www.geeksforgeeks.org/k-dimensional-tree/" title="K Dimensional Tree">K Dimensional Tree</a></li><li><a href="http://www.geeksforgeeks.org/convert-binary-tree-threaded-binary-tree/" title="Convert a Binary Tree to Threaded binary tree">Convert a Binary Tree to Threaded binary tree</a></li><li><a href="http://www.geeksforgeeks.org/serialize-deserialize-n-ary-tree/" title="Serialize and Deserialize an N-ary Tree">Serialize and Deserialize an N-ary Tree</a></li><li><a href="http://www.geeksforgeeks.org/serialize-deserialize-binary-tree/" title="Serialize and Deserialize a Binary Tree">Serialize and Deserialize a Binary Tree</a></li><li><a href="http://www.geeksforgeeks.org/given-binary-tree-print-nodes-two-given-level-numbers/" title="Print nodes between two given level numbers of a binary tree">Print nodes between two given level numbers of a binary tree</a></li><li><a href="http://www.geeksforgeeks.org/find-height-binary-tree-represented-parent-array/" title="Find Height of Binary Tree represented by Parent array">Find Height of Binary Tree represented by Parent array</a></li></ul>
<p></p> 
<div>
<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.geeksforgeeks.org%2Fvertical-sum-in-a-given-binary-tree%2F&layout=button_count&show_faces=false&width=90&action=like&colorscheme=light" scrolling="no" frameborder="0" allowTransparency="true" style="border:none; overflow:hidden; width:90px; height:20px"></iframe>
<a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.geeksforgeeks.org/vertical-sum-in-a-given-binary-tree/" data-text="Vertical Sum in a given Binary Tree" data-count="horizontal" data-via="jakerutter">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
<g:plusone size="medium" href="http://www.geeksforgeeks.org/vertical-sum-in-a-given-binary-tree/"></g:plusone>
<!-- Place this render call where appropriate -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script></div>





				</div>		  
			</div> <!-- end post main -->					
			<div class="post-meta">
				<div class="left"></div>				
				<div class="clear"></div>
			</div>			
        
			<div class="comments-main">		
 <b>Writing code in comment?</b> Please use <b><a href="http://ideone.com/">ideone.com</a></b> and share the link here.
				
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-32825">
        <div id="dsq-comment-header-32825" class="dsq-comment-header">
            <cite id="dsq-cite-32825">
                <span id="dsq-author-user-32825">Archit</span>
            </cite>
        </div>
        <div id="dsq-comment-body-32825" class="dsq-comment-body">
            <div id="dsq-comment-message-32825" class="dsq-comment-message"><p>This is a C++ code using map<br />
<a href="http://ideone.com/fbcs2v" rel="nofollow">http://ideone.com/fbcs2v</a></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-31373">
        <div id="dsq-comment-header-31373" class="dsq-comment-header">
            <cite id="dsq-cite-31373">
                <span id="dsq-author-user-31373">smith</span>
            </cite>
        </div>
        <div id="dsq-comment-body-31373" class="dsq-comment-body">
            <div id="dsq-comment-message-31373" class="dsq-comment-message"><p>#include</p>
<p>#include</p>
<p>struct node</p>
<p>{</p>
<p> int data;</p>
<p> struct node *left;</p>
<p> struct node *right;	</p>
<p>};</p>
<p>struct node *newnode(int);</p>
<p>void find(struct node *root,int d,int hd,int *);</p>
<p>int main()</p>
<p>{</p>
<p>	struct node *root=NULL;</p>
<p>	root=newnode(1);</p>
<p>	root-&gt;left=newnode(2);</p>
<p>	root-&gt;right=newnode(3);</p>
<p>	root-&gt;left-&gt;left=newnode(4);</p>
<p>	root-&gt;left-&gt;right=newnode(5);</p>
<p>	root-&gt;right-&gt;left=newnode(6);</p>
<p>	root-&gt;right-&gt;right=newnode(7);</p>
<p>	int arr[5]={0};int k=0;</p>
<p>		for(int i=-2;i&lt;=2;i++)</p>
<p>		{</p>
<p>			find(root,0,i,&amp;arr[k]);k++;</p>
<p>		}</p>
<p>		for(int i=0;idata;</p>
<p>	}</p>
<p>	find(root-&gt;left,d-1,hd,k);</p>
<p>	find(root-&gt;right,d+1,hd,k);	</p>
<p>}</p>
<p>struct node *newnode(int data)</p>
<p>{</p>
<p>	struct node *newnod=(struct node *)malloc(sizeof(struct node));</p>
<p>	newnod-&gt;data=data;</p>
<p>	newnod-&gt;left=NULL;</p>
<p>	newnod-&gt;right=NULL;</p>
<p>	return newnod;</p>
<p>}</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-29778">
        <div id="dsq-comment-header-29778" class="dsq-comment-header">
            <cite id="dsq-cite-29778">
                <span id="dsq-author-user-29778">pavansrinivas</span>
            </cite>
        </div>
        <div id="dsq-comment-body-29778" class="dsq-comment-body">
            <div id="dsq-comment-message-29778" class="dsq-comment-message"><p>Using levelOrder Traversal:</p>
<p><code><br />
void horizontalDistancefromRoot(){<br />
        Queue q = new LinkedList();<br />
        Hashtable h  =new Hashtable();<br />
        Node temp = root;<br />
        int distance = 0;<br />
        q.add(temp);<br />
        q.add(distance);<br />
        while(!q.isEmpty()){<br />
            temp = (Node)q.poll();<br />
            distance =(Integer)q.poll();<br />
            System.out.println(temp.iData+"="+distance);<br />
            if(!h.containsKey(distance)){<br />
                h.put(distance, temp.iData);<br />
            }else{<br />
                int sum = h.get(distance);<br />
                h.put(distance, sum+temp.iData);<br />
            }<br />
            if(temp.left!=null){<br />
                int leftD = distance-1;<br />
                q.add(temp.left);<br />
                q.add(leftD);<br />
            }<br />
            if(temp.right!=null){<br />
                int rightD = distance+1;<br />
                q.add(temp.right);<br />
                q.add(rightD);<br />
            }<br />
        }<br />
        System.out.print(h);<br />
    }<br />
</code></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-ultimate_coder odd alt thread-odd thread-alt depth-1" id="dsq-comment-19826">
        <div id="dsq-comment-header-19826" class="dsq-comment-header">
            <cite id="dsq-cite-19826">
                <span id="dsq-author-user-19826">ultimate_coder</span>
            </cite>
        </div>
        <div id="dsq-comment-body-19826" class="dsq-comment-body">
            <div id="dsq-comment-message-19826" class="dsq-comment-message"><pre> <code language="C">
void vertical_line(int base,int hd,struct node * node)
{
    if(!node) return;
    vertical_line(base-1,hd,node-&gt;left);
    if(base==hd) cout&lt;&lt;node-&gt;data&lt;&lt;&quot; &quot;;
    vertical_line(base+1,hd,node-&gt;right);
}
void vertical_sum(struct node * node)
{
    int l=0,r=0;
    struct node * temp=node;
    while(temp-&gt;left){
        --l;temp=temp-&gt;left;
    }
    temp=node;
    while(temp-&gt;right){
    ++r;temp=temp-&gt;right;
    }
    for(int i=l;i&lt;=r;i++)
    {
        cout&lt;&lt;endl&lt;&lt;&quot;VERTICAL LINE &quot;&lt;&lt;i-l+1&lt;&lt;&quot; : &quot;;
        vertical_line(0,i,node);
    }
}

// CORRECTIONS AND OPTIMIZATIONS WELCOME
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-23049">
        <div id="dsq-comment-header-23049" class="dsq-comment-header">
            <cite id="dsq-cite-23049">
                <span id="dsq-author-user-23049">Pavan</span>
            </cite>
        </div>
        <div id="dsq-comment-body-23049" class="dsq-comment-body">
            <div id="dsq-comment-message-23049" class="dsq-comment-message"><pre> <code language="C">
/* check your code for this tree , according to your code there are 5 vertical lines , i think in this tree there are 6 vertical lines (-3 to 2) , correct me if i am wrong */ 
#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;string.h&gt;
#include&lt;iostream&gt;
using namespace std;
struct node
{
    int data;
    struct node *left;
    struct node *right;
};
  
struct node* newNode (int data)
{
    struct node* temp = (struct node *) malloc( sizeof(struct node) );
 
    temp-&gt;data = data;
    temp-&gt;left = temp-&gt;right = NULL;
 
    return temp;
}
void vertical_line(int base,int hd,struct node * node)
{
    if(!node) return;
    vertical_line(base-1,hd,node-&gt;left);
    if(base==hd) cout&lt;&lt;node-&gt;data&lt;&lt;&quot; &quot;;
    vertical_line(base+1,hd,node-&gt;right);
}
void vertical_sum(struct node * node)
{
    int l=0,r=0;
    struct node * temp=node;
    while(temp-&gt;left){
        --l;temp=temp-&gt;left;
    }
    temp=node;
    while(temp-&gt;right){
    ++r;temp=temp-&gt;right;
    }
    for(int i=l;i&lt;=r;i++)
    {
        cout&lt;&lt;endl&lt;&lt;&quot;VERTICAL LINE &quot;&lt;&lt;i-l+1&lt;&lt;&quot; : &quot;;
        vertical_line(0,i,node);
    }
}int main()
{
   
    struct node *root=newNode(2);
    root-&gt;left=newNode(1);
    (root-&gt;left)-&gt;left=newNode(6);
    (root-&gt;left)-&gt;right=newNode(7);
    root-&gt;right=newNode(3);
    (root-&gt;right)-&gt;left=newNode(4);
    root-&gt;right-&gt;left-&gt;left=newNode(3);
    root-&gt;right-&gt;left-&gt;left-&gt;left=newNode(20);
    root-&gt;right-&gt;left-&gt;left-&gt;left-&gt;left=newNode(14);
    (root-&gt;right)-&gt;right=newNode(5);
    root-&gt;right-&gt;right-&gt;left=newNode(10);
    vertical_sum(root);
    return 0;
}
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-19243">
        <div id="dsq-comment-header-19243" class="dsq-comment-header">
            <cite id="dsq-cite-19243">
                <span id="dsq-author-user-19243">NoFear207</span>
            </cite>
        </div>
        <div id="dsq-comment-body-19243" class="dsq-comment-body">
            <div id="dsq-comment-message-19243" class="dsq-comment-message"><p>A o(n) time complexity solution using Doubly linked list for this Question.</p>
<pre> <code language="C">
#include&lt;iostream.h&gt;
#include&lt;conio.h&gt;
#include&lt;stdio.h&gt;

struct tree{
   int data;
   tree *l;
   tree *r;

};
struct tree* newnode(int d)
{               struct tree *r=new tree;
		r-&gt;data=d;
		r-&gt;l=NULL;
		r-&gt;r=NULL;
		return r;

}

struct tree* ct(struct tree* node,int id)
{
struct tree *nn=new tree;
nn-&gt;data=0;
if(id)
{
	nn-&gt;l=NULL;
	nn-&gt;r=node;
}

if(!id)
{
	nn-&gt;r=NULL;
	nn-&gt;l=node;

}

return nn;


}

void findvsum(struct tree *root,struct tree **dl)
{

	if(root==NULL)
	{
	return;
	}
	(*dl)-&gt;data=((*dl)-&gt;data)+root-&gt;data;
  printf(&quot;%d\n&quot;,root-&gt;data);
	if(!(*dl)-&gt;l &amp;&amp; root-&gt;l)
	(*dl)-&gt;l=ct(*dl,1);
	if(!(*dl)-&gt;r &amp;&amp; root-&gt;r)
	(*dl)-&gt;r=ct(*dl,0);
	findvsum(root-&gt;l,&amp;(*dl)-&gt;l);
	findvsum(root-&gt;r,&amp;(*dl)-&gt;r);

}
void main()
{

clrscr();

struct tree *root;
root=newnode(2);

(root-&gt;l)=newnode(7);
(root-&gt;r)=newnode(8);
(root-&gt;l)-&gt;r=newnode(9);
(root-&gt;r)-&gt;l=newnode(9);
(root-&gt;l)-&gt;l=newnode(4);
(root-&gt;r)-&gt;r=newnode(6);


//printf(&quot;%d&quot;,(root-&gt;l)-&gt;data);

struct tree *dl = new tree;
dl-&gt;data=0;
dl-&gt;l=NULL;
dl-&gt;r=NULL;

findvsum(root,&amp;dl);
//printf(&quot;%d&quot;,dl-&gt;data);

while(dl-&gt;l)
{
 dl=dl-&gt;l;

}
int cnt=0;
while(dl)
{  cnt++;
   printf(&quot;\n\n\n %d vertical line sum is %d&quot;,cnt,dl-&gt;data);
    dl=dl-&gt;r;
}

printf(&quot;\n\n\n\n totalnumber of lines = %d&quot;,cnt);
getch();
}
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-19262">
        <div id="dsq-comment-header-19262" class="dsq-comment-header">
            <cite id="dsq-cite-19262">
                <span id="dsq-author-user-19262">NoFear207</span>
            </cite>
        </div>
        <div id="dsq-comment-body-19262" class="dsq-comment-body">
            <div id="dsq-comment-message-19262" class="dsq-comment-message"><p>Space complexity also o(n). Let me know if anywhere code can be optimized.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-19242">
        <div id="dsq-comment-header-19242" class="dsq-comment-header">
            <cite id="dsq-cite-19242">
                <span id="dsq-author-user-19242">NoFear207</span>
            </cite>
        </div>
        <div id="dsq-comment-body-19242" class="dsq-comment-body">
            <div id="dsq-comment-message-19242" class="dsq-comment-message"><p>A o(n) time complexity solution using Doubly linked list for this Question is bellow please let me know if anything needs to be corrected.</p>
<pre> <code language="C">
/*#include&lt;iostream.h&gt;
#include&lt;conio.h&gt;
#include&lt;stdio.h&gt;

struct tree{
   int data;
   tree *l;
   tree *r;

};
struct tree* newnode(int d)
{               struct tree *r=new tree;
		r-&gt;data=d;
		r-&gt;l=NULL;
		r-&gt;r=NULL;
		return r;

}

struct tree* ct(struct tree* node,int id)
{
struct tree *nn=new tree;
nn-&gt;data=0;
if(id)
{
	nn-&gt;l=NULL;
	nn-&gt;r=node;
}

if(!id)
{
	nn-&gt;r=NULL;
	nn-&gt;l=node;

}

return nn;


}

void findvsum(struct tree *root,struct tree **dl)
{

	if(root==NULL)
	{
	return;
	}
	(*dl)-&gt;data=((*dl)-&gt;data)+root-&gt;data;
  printf(&quot;%d\n&quot;,root-&gt;data);
	if(!(*dl)-&gt;l &amp;&amp; root-&gt;l)
	(*dl)-&gt;l=ct(*dl,1);
	if(!(*dl)-&gt;r &amp;&amp; root-&gt;r)
	(*dl)-&gt;r=ct(*dl,0);
	findvsum(root-&gt;l,&amp;(*dl)-&gt;l);
	findvsum(root-&gt;r,&amp;(*dl)-&gt;r);

}
void main()
{

clrscr();

struct tree *root;
root=newnode(2);

(root-&gt;l)=newnode(7);
(root-&gt;r)=newnode(8);
(root-&gt;l)-&gt;r=newnode(9);
(root-&gt;r)-&gt;l=newnode(9);
(root-&gt;l)-&gt;l=newnode(4);
(root-&gt;r)-&gt;r=newnode(6);


//printf(&quot;%d&quot;,(root-&gt;l)-&gt;data);

struct tree *dl = new tree;
dl-&gt;data=0;
dl-&gt;l=NULL;
dl-&gt;r=NULL;

findvsum(root,&amp;dl);
//printf(&quot;%d&quot;,dl-&gt;data);

while(dl-&gt;l)
{
 dl=dl-&gt;l;

}
int cnt=0;
while(dl)
{  cnt++;
   printf(&quot;\n\n\n %d vertical line sum is %d&quot;,cnt,dl-&gt;data);
    dl=dl-&gt;r;
}

printf(&quot;\n\n\n\n totalnumber of lines = %d&quot;,cnt);
getch();
} */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-abhishek08aug even thread-even depth-1" id="dsq-comment-18385">
        <div id="dsq-comment-header-18385" class="dsq-comment-header">
            <cite id="dsq-cite-18385">
                <span id="dsq-author-user-18385">abhishek08aug</span>
            </cite>
        </div>
        <div id="dsq-comment-body-18385" class="dsq-comment-body">
            <div id="dsq-comment-message-18385" class="dsq-comment-message"><p>Intelligent <img src="http://d2o58evtke57tz.cloudfront.net/wp-includes/images/smilies/icon_biggrin.gif" alt=":D" class="wp-smiley" /></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-15583">
        <div id="dsq-comment-header-15583" class="dsq-comment-header">
            <cite id="dsq-cite-15583">
                <span id="dsq-author-user-15583">mrn</span>
            </cite>
        </div>
        <div id="dsq-comment-body-15583" class="dsq-comment-body">
            <div id="dsq-comment-message-15583" class="dsq-comment-message"><pre> <code language="C">
struct node{
	int v;
	struct node *l,*r;
	};

typedef struct node* Node;


Node root=NULL;

void insert(int v)
{
	Node n=(Node)calloc(1,sizeof(struct node ));
	n-&gt;v=v;
	if(root==NULL)
	{root=n;return;	}
	struct node *y,*x=root;
	while(x!=NULL)
	{
		y=x;
		if(x-&gt;v &lt; v)x=x-&gt;r;
		else	x=x-&gt;l;
	}
	
	if(y-&gt;v &lt; v) y-&gt;r=n;
	else y-&gt;l=n;
}
void vertical_sum(Node n,int *a,int p)
{
	if(n==NULL) return;
	vertical_sum(n-&gt;l,a,p-1);
	a[p]=a[p]+n-&gt;v;
	vertical_sum(n-&gt;r,a,p+1);
}

int calc_pl(Node n,int pivot)
{
	if(n==NULL) return pivot;
	int a=calc_pl(n-&gt;l,pivot+1);
	int b=calc_pl(n-&gt;r,pivot-1);
	return a&gt;b?a:b;
}

int calc_pr(Node n,int pivot)
{
	if(n==NULL) return pivot;
	int a=calc_pr(n-&gt;r,pivot+1);
	int b=calc_pr(n-&gt;l,pivot-1);
	return a&gt;b?a:b;
}
int main()
{
	int n,t;
	cin&gt;&gt;n;
	for(int i=0;i&lt;n;i++)
		{
			cin&gt;&gt;t;
			insert(t);
		}
	struct node *ndnew=NULL;
	int d,pivot_l=0,pivot_r=0;
	pivot_l=calc_pl(root,pivot_l);
	pivot_r=calc_pr(root,pivot_r);
	d=pivot_l+pivot_r-1;
	int *a=new int[d];
	memset(a,0,d*sizeof(int));
	vertical_sum(root,a,pivot_l-1);
	for(int i=0;i&lt;d;i++)
		cout&lt;&lt;a[i]&lt;&lt;&quot; &quot;;
	cout&lt;&lt;endl;
return 0;
}
		
	
	
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-9622">
        <div id="dsq-comment-header-9622" class="dsq-comment-header">
            <cite id="dsq-cite-9622">
                <span id="dsq-author-user-9622">nandu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9622" class="dsq-comment-body">
            <div id="dsq-comment-message-9622" class="dsq-comment-message"><pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
/* A binary tree node has data, pointer to left child
   and a pointer to right child */
struct node
{
    int data;
    struct node* left;
    struct node* right;
};
/* Helper function that allocates a new node with the
   given data and NULL left and right pointers. */
struct node* newNode(int data)
{
    struct node* node = (struct node*)malloc(sizeof(struct node));
    node-&gt;data = data;
    node-&gt;left = NULL;
    node-&gt;right = NULL;
    return(node);
}

void maxLeftRight(struct node * node,int curHD,int *left,int *right)
{
    if(node==NULL) return;
    if(curHD &lt; *left) *left=curHD;
    else if(curHD &gt; *right) *right=curHD;
    maxLeftRight(node-&gt;left,curHD-1,left,right);
    maxLeftRight(node-&gt;right,curHD+1,left,right);
}


void findVerticalSumRec(struct node *root,int HD,int *arr,int leftMargin) //HD:horizonal distance from root
{
    if(root)
    {
        printf(&quot;Data : %d, HD: %d\n&quot;,root-&gt;data,HD);
        arr[leftMargin+HD] += root-&gt;data;

        findVerticalSumRec(root-&gt;left,HD-1,arr,leftMargin); // preorder traversal on left recursion
        findVerticalSumRec(root-&gt;right,HD+1,arr,leftMargin); // preorder traversal on right recursion
    }
}

int *findVerticalSum(struct node *root,int *len)
{
    int SpanCount,leftSpan,rightSpan;
    leftSpan=rightSpan=SpanCount=0;
    maxLeftRight(root,0,&amp;leftSpan,&amp;rightSpan);
    //printf(&quot;\nleft : %d\t right : %d\n&quot;,leftSpan,rightSpan);

    SpanCount = rightSpan-leftSpan + 1;

    int *arr = (int *)calloc(SpanCount,sizeof(int));

    findVerticalSumRec(root,0,arr,-leftSpan); // preorder traversal recursion
    *len = SpanCount;
    return arr;
}

/* Driver program to test above functions*/
int main()
{
    struct node *root = newNode(1);
    root-&gt;left        = newNode(2);
    root-&gt;right       = newNode(3);
    root-&gt;left-&gt;left  = newNode(4);
    root-&gt;left-&gt;right = newNode(5);
    root-&gt;right-&gt;left = newNode(6);
    root-&gt;right-&gt;right  = newNode(7);

    /*
       Constructed bunary tree is:
            1
          /  \
         2    3
       /  \  /  \
       4   56    7
     */


    int *vsum_arr,i,len=0;
    vsum_arr = findVerticalSum(root,&amp;len);

    for(i=0;i&lt;len;i++)
    {

        printf(&quot;Vertical Line %d, Sum : [%d] \n&quot;,i+1,vsum_arr[i]);
    }
    getchar();
    return 0;
}

</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-11471">
        <div id="dsq-comment-header-11471" class="dsq-comment-header">
            <cite id="dsq-cite-11471">
http://a                <span id="dsq-author-user-11471">kaur</span>
            </cite>
        </div>
        <div id="dsq-comment-body-11471" class="dsq-comment-body">
            <div id="dsq-comment-message-11471" class="dsq-comment-message"><p>vei nyc code.. <img src="http://d2o58evtke57tz.cloudfront.net/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /></p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-9161">
        <div id="dsq-comment-header-9161" class="dsq-comment-header">
            <cite id="dsq-cite-9161">
                <span id="dsq-author-user-9161">amitp49</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9161" class="dsq-comment-body">
            <div id="dsq-comment-message-9161" class="dsq-comment-message"><p>I tried to allocate memory as much as required by counting max left and right span of tree. <img src="http://d2o58evtke57tz.cloudfront.net/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /><br />
Let me know if any error&#8230;</p>
<pre> <code language="C">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
/* A binary tree node has data, pointer to left child
   and a pointer to right child */
struct node
{
	int data;
	struct node* left;
	struct node* right;
};
/* Helper function that allocates a new node with the
   given data and NULL left and right pointers. */
struct node* newNode(int data)
{
	struct node* node = (struct node*)
		malloc(sizeof(struct node));
	node-&gt;data = data;
	node-&gt;left = NULL;
	node-&gt;right = NULL;
	return(node);
}

int maxLeft(struct node * node)
{
	int leftcount=0;
	while(node-&gt;left || node-&gt;right)
	{
		leftcount++;
		node = node-&gt;left?node-&gt;left:node-&gt;right;
	}
	return leftcount;
}

int maxRight(struct node *node)
{
	int rightcount=0;
	while(node-&gt;right || node-&gt;left)
	{
		rightcount++;
		node = node-&gt;right?node-&gt;right:node-&gt;left;
	}
	return rightcount;
}
void findVerticalSumRec(struct node *root,int HD,int *arr,int leftMargin) //HD:horizonal distance from root
{
	if(root)
	{
		printf(&quot;Data : %d, HD: %d\n&quot;,root-&gt;data,HD);
		arr[leftMargin+HD] += root-&gt;data;
		
		findVerticalSumRec(root-&gt;left,HD-1,arr,leftMargin); // preorder traversal on left recursion
		findVerticalSumRec(root-&gt;right,HD+1,arr,leftMargin); // preorder traversal on right recursion	
	}
}

int *findVerticalSum(struct node *root,int *len)
{	
	int SpanCount=0;
	int leftSpan = maxLeft(root);
	int rightSpan = maxRight(root);
	
	SpanCount = leftSpan + rightSpan + 1;

	int *arr = (int *)calloc(SpanCount,sizeof(int));

	findVerticalSumRec(root,0,arr,leftSpan); // preorder traversal recursion
	*len = SpanCount;
	return arr;
}

/* Driver program to test above functions*/
int main()
{
	struct node *root = newNode(1);
	root-&gt;left        = newNode(2);
	root-&gt;right       = newNode(3);
	root-&gt;left-&gt;left  = newNode(4);
	root-&gt;left-&gt;right = newNode(5);
	root-&gt;right-&gt;left = newNode(6);
	root-&gt;right-&gt;right  = newNode(7);

	/*
	   Constructed bunary tree is:
	        1
	      /  \
	     2    3
	   /  \  /  \
	   4   56    7
	 */
	
	
	int *vsum_arr,i,len=0;
	vsum_arr = findVerticalSum(root,&amp;len);

	for(i=0;i&lt;len;i++)
	{

		printf(&quot;Vertical Line %d, Sum : [%d] \n&quot;,i+1,vsum_arr[i]);
	}
	getchar();
	return 0;
}
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-8734">
        <div id="dsq-comment-header-8734" class="dsq-comment-header">
            <cite id="dsq-cite-8734">
                <span id="dsq-author-user-8734">bob</span>
            </cite>
        </div>
        <div id="dsq-comment-body-8734" class="dsq-comment-body">
            <div id="dsq-comment-message-8734" class="dsq-comment-message"><p>How your code works for a tree with more depth???Can u elaborate the question for that scenario.What will be the result???</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-8345">
        <div id="dsq-comment-header-8345" class="dsq-comment-header">
            <cite id="dsq-cite-8345">
                <span id="dsq-author-user-8345">Varadharajan</span>
            </cite>
        </div>
        <div id="dsq-comment-body-8345" class="dsq-comment-body">
            <div id="dsq-comment-message-8345" class="dsq-comment-message"><pre> <code language="Java">
void printAllpaths(Node root, int[] a, int i){
	If(node == null)
		return;
A[i] = node.data;
printAllpaths(root.left, a,i+1);
printAllpaths(root.right,a,i+1);
printTheArray(a,i);
}

</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-8346">
        <div id="dsq-comment-header-8346" class="dsq-comment-header">
            <cite id="dsq-cite-8346">
                <span id="dsq-author-user-8346">Varadharajan</span>
            </cite>
        </div>
        <div id="dsq-comment-body-8346" class="dsq-comment-body">
            <div id="dsq-comment-message-8346" class="dsq-comment-message"><p>Sorry it was a wrongly posted&#8230;<br />
My bad..</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even depth-2" id="dsq-comment-8348">
        <div id="dsq-comment-header-8348" class="dsq-comment-header">
            <cite id="dsq-cite-8348">
                <span id="dsq-author-user-8348">Varadharajan</span>
            </cite>
        </div>
        <div id="dsq-comment-body-8348" class="dsq-comment-body">
            <div id="dsq-comment-message-8348" class="dsq-comment-message"><p>Sorry it was a wrongly posted&#8230;<br />
My bad..</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-nofear207 odd alt thread-even depth-1" id="dsq-comment-7855">
        <div id="dsq-comment-header-7855" class="dsq-comment-header">
            <cite id="dsq-cite-7855">
                <span id="dsq-author-user-7855">NoFear207</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7855" class="dsq-comment-body">
            <div id="dsq-comment-message-7855" class="dsq-comment-message"><pre> <code language="C">
/* 
#include&lt;conio.h&gt;
#include&lt;stdio.h&gt;
#include&lt;iostream.h&gt;
struct tree{

	int data;
	tree *left;
	tree *right;

};


struct tree *createnode(int d)
{
	struct tree *node=new tree;
	node-&gt;data=d;
	node-&gt;left=NULL;
	node-&gt;right=NULL;
	return node;

}

/*int max(int a,int b)
{

	return a&lt;b?b:a;
}*/

int findnodes(struct tree *root)
{
	if(root==NULL)
	return 0;

	else
	return 1+findnodes(root-&gt;left)+findnodes(root-&gt;right);
}

void findvsum(struct tree *root,int *vsum,int mid)
{

	if(root==NULL)
	return;


	printf(&quot;Mid =%d&quot;,mid);
	vsum[mid]=root-&gt;data;
	findvsum(root-&gt;left,vsum,mid-1);
	findvsum(root-&gt;right,vsum,mid+1);

}


void main()
{
	int vsum[100];

	clrscr();
	struct tree *root=createnode(2);
	root-&gt;left=createnode(1);
	(root-&gt;left)-&gt;left=createnode(6);
	(root-&gt;left)-&gt;right=createnode(7);
	root-&gt;right=createnode(3);
	(root-&gt;right)-&gt;left=createnode(4);
	(root-&gt;right)-&gt;right=createnode(5);

	int n=findnodes(root);
	printf(&quot;Number of nodes=%d\n&quot;,n);

	for(int i=0;i&lt;n;i++)
	{
		vsum[i]=-1;

	}


	findvsum(root,vsum,(n/2)-1);

	int cnt=0;
	for(int j=0;j&lt;n;j++)
	{
		if(vsum[j]!=-1)
		{
		cnt++;
		printf(&quot;%d&quot;,vsum[j]);
		}
	}

	printf(&quot;Number of vertical sum is=%d\n&quot;,cnt);
getch();
} */
</code> </pre>
<p>the above one was the very easy solution but space complexity is o(n) . time complexity is also o(n).</p>
<p>Please correct me if i&#8217;m wrong.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-nofear207 even thread-odd thread-alt depth-1" id="dsq-comment-7854">
        <div id="dsq-comment-header-7854" class="dsq-comment-header">
            <cite id="dsq-cite-7854">
                <span id="dsq-author-user-7854">NoFear207</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7854" class="dsq-comment-body">
            <div id="dsq-comment-message-7854" class="dsq-comment-message"><pre> <code language="C">

#include&lt;conio.h&gt;
#include&lt;stdio.h&gt;
#include&lt;iostream.h&gt;
struct tree{

	int data;
	tree *left;
	tree *right;

};


struct tree *createnode(int d)
{
	struct tree *node=new tree;
	node-&gt;data=d;
	node-&gt;left=NULL;
	node-&gt;right=NULL;
	return node;

}

/*int max(int a,int b)
{

	return a&lt;b?b:a;
}*/

int findnodes(struct tree *root)
{
	if(root==NULL)
	return 0;

	else
	return 1+findnodes(root-&gt;left)+findnodes(root-&gt;right);
}

void findvsum(struct tree *root,int *vsum,int mid)
{

	if(root==NULL)
	return;


	printf(&quot;Mid =%d&quot;,mid);
	vsum[mid]=root-&gt;data;
	findvsum(root-&gt;left,vsum,mid-1);
	findvsum(root-&gt;right,vsum,mid+1);

}


void main()
{
	int vsum[100];

	clrscr();
	struct tree *root=createnode(2);
	root-&gt;left=createnode(1);
	(root-&gt;left)-&gt;left=createnode(6);
	(root-&gt;left)-&gt;right=createnode(7);
	root-&gt;right=createnode(3);
	(root-&gt;right)-&gt;left=createnode(4);
	(root-&gt;right)-&gt;right=createnode(5);

	int n=findnodes(root);
	printf(&quot;Number of nodes=%d\n&quot;,n);

	for(int i=0;i&lt;n;i++)
	{
		vsum[i]=-1;

	}


	findvsum(root,vsum,(n/2)-1);

	int cnt=0;
	for(int j=0;j&lt;n;j++)
	{
		if(vsum[j]!=-1)
		{
		cnt++;
		printf(&quot;%d&quot;,vsum[j]);
		}
	}

	printf(&quot;Number of vertical sum is=%d\n&quot;,cnt);
getch();
}
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-9149">
        <div id="dsq-comment-header-9149" class="dsq-comment-header">
            <cite id="dsq-cite-9149">
                <span id="dsq-author-user-9149">Mady</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9149" class="dsq-comment-body">
            <div id="dsq-comment-message-9149" class="dsq-comment-message"><p>your program to find the sum is correct but number of verticals lines are incorrect. </p>
<p>Number of lines grows like this. (calling root level 1)<br />
Level 1 : Lines = 1<br />
Level 2 : Lines = 3<br />
Level 3 : Lines = 5<br />
Level 4 : Lines = 7</p>
<p>It is forming a A.P series.<br />
If max level = n then<br />
Total num of vertical lines =  a + (n-1)d<br />
For level 3 vertical lines = 1 + (3-1)2 = 5</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-15631">
        <div id="dsq-comment-header-15631" class="dsq-comment-header">
            <cite id="dsq-cite-15631">
                <span id="dsq-author-user-15631">NoFear207</span>
            </cite>
        </div>
        <div id="dsq-comment-body-15631" class="dsq-comment-body">
            <div id="dsq-comment-message-15631" class="dsq-comment-message"><p>Hey Friend,</p>
<p>You are correct man!<br />
I misunderstood the question!<br />
but i can still give you the solution by altering my above code !<br />
It is simple! </p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-3" id="dsq-comment-15632">
        <div id="dsq-comment-header-15632" class="dsq-comment-header">
            <cite id="dsq-cite-15632">
                <span id="dsq-author-user-15632">NoFear207</span>
            </cite>
        </div>
        <div id="dsq-comment-body-15632" class="dsq-comment-body">
            <div id="dsq-comment-message-15632" class="dsq-comment-message"><p>Here is the correct answer buddy !<br />
let me know if you need any clarifications!<br />
/*<br />
#include<br />
#include<br />
#include<br />
struct tree{</p>
<p>	int data;<br />
	tree *left;<br />
	tree *right;</p>
<p>};</p>
<p>struct tree *createnode(int d)<br />
{<br />
	struct tree *node=new tree;<br />
	node-&gt;data=d;<br />
	node-&gt;left=NULL;<br />
	node-&gt;right=NULL;<br />
	return node;</p>
<p>}</p>
<p>int findnodes(struct tree *root)<br />
{<br />
	if(root==NULL)<br />
	return 0;</p>
<p>	else<br />
	return 1+findnodes(root-&gt;left)+findnodes(root-&gt;right);<br />
}</p>
<p>void findvsum(struct tree *root,int *vsum,int mid)<br />
{</p>
<p>	if(root==NULL)<br />
	return;</p>
<p>       //	printf(&#8220;\nMid =%d&#8221;,mid);</p>
<p>	vsum[mid]=(root-&gt;data)+vsum[mid];<br />
	findvsum(root-&gt;left,vsum,mid-1);<br />
	findvsum(root-&gt;right,vsum,mid+1);</p>
<p>}</p>
<p>void main()<br />
{<br />
	int vsum[100];</p>
<p>	clrscr();<br />
	struct tree *root=createnode(2);<br />
	root-&gt;left=createnode(1);<br />
	(root-&gt;left)-&gt;left=createnode(6);<br />
	(root-&gt;left)-&gt;right=createnode(7);<br />
	root-&gt;right=createnode(3);<br />
	(root-&gt;right)-&gt;left=createnode(4);<br />
	(root-&gt;right)-&gt;right=createnode(5);</p>
<p>	int n=findnodes(root);<br />
	printf(&#8220;\nNumber of nodes=%d\n&#8221;,n);</p>
<p>	for(int i=0;i&lt;n;i++)<br />
	{<br />
		vsum[i]=-1;</p>
<p>	}</p>
<p>	findvsum(root,vsum,(n/2));</p>
<p>	int cnt=0,vl=1;<br />
	for(int j=0;j&lt;n;j++)<br />
	{</p>
<p>		while(vsum[j]!=-1)<br />
		{</p>
<p>		cnt++;<br />
		printf(&quot;\nLine Number :%d sum of the respective vertical line : %d&quot;,vl++,(vsum[j]+1));<br />
		j++;<br />
		}<br />
	}</p>
<p>	printf(&quot;\nNumber of vertical lines is=%d\n&quot;,cnt);<br />
getch();<br />
}</p>
<p>*/</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even depth-3" id="dsq-comment-15633">
        <div id="dsq-comment-header-15633" class="dsq-comment-header">
            <cite id="dsq-cite-15633">
                <span id="dsq-author-user-15633">NoFear207</span>
            </cite>
        </div>
        <div id="dsq-comment-body-15633" class="dsq-comment-body">
            <div id="dsq-comment-message-15633" class="dsq-comment-message"><p>Correct answer is in bellow!</p>
<pre> <code language="CPP">
/* 
#include&lt;conio.h&gt;
#include&lt;stdio.h&gt;
#include&lt;iostream.h&gt;
struct tree{

	int data;
	tree *left;
	tree *right;

};


struct tree *createnode(int d)
{
	struct tree *node=new tree;
	node-&gt;data=d;
	node-&gt;left=NULL;
	node-&gt;right=NULL;
	return node;

}

/*int max(int a,int b)
{

	return a&lt;b?b:a;
}*/

int findnodes(struct tree *root)
{
	if(root==NULL)
	return 0;

	else
	return 1+findnodes(root-&gt;left)+findnodes(root-&gt;right);
}

void findvsum(struct tree *root,int *vsum,int mid)
{

	if(root==NULL)
	return;


       //	printf(&quot;\nMid =%d&quot;,mid);

	vsum[mid]=(root-&gt;data)+vsum[mid];
	findvsum(root-&gt;left,vsum,mid-1);
	findvsum(root-&gt;right,vsum,mid+1);

}


void main()
{
	int vsum[100];

	clrscr();
	struct tree *root=createnode(2);
	root-&gt;left=createnode(1);
	(root-&gt;left)-&gt;left=createnode(6);
	(root-&gt;left)-&gt;right=createnode(7);
	root-&gt;right=createnode(3);
	(root-&gt;right)-&gt;left=createnode(4);
	(root-&gt;right)-&gt;right=createnode(5);

	int n=findnodes(root);
	printf(&quot;\nNumber of nodes=%d\n&quot;,n);

	for(int i=0;i&lt;n;i++)
	{
		vsum[i]=-1;

	}


	findvsum(root,vsum,(n/2));

	int cnt=0,vl=1;
	for(int j=0;j&lt;n;j++)
	{

		while(vsum[j]!=-1)
		{

		cnt++;
		printf(&quot;\nLine Number :%d sum of the respective vertical line : %d&quot;,vl++,(vsum[j]+1));
		j++;
		}
	}

	printf(&quot;\nNumber of vertical lines is=%d\n&quot;,cnt);
getch();
} */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-4" id="dsq-comment-15894">
        <div id="dsq-comment-header-15894" class="dsq-comment-header">
            <cite id="dsq-cite-15894">
                <span id="dsq-author-user-15894">ARK</span>
            </cite>
        </div>
        <div id="dsq-comment-body-15894" class="dsq-comment-body">
            <div id="dsq-comment-message-15894" class="dsq-comment-message"><p>ur code works super cool .great<br />
can u explain the logic u followed and time complexity of ur code</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-5" id="dsq-comment-15899">
        <div id="dsq-comment-header-15899" class="dsq-comment-header">
            <cite id="dsq-cite-15899">
                <span id="dsq-author-user-15899">NoFear207</span>
            </cite>
        </div>
        <div id="dsq-comment-body-15899" class="dsq-comment-body">
            <div id="dsq-comment-message-15899" class="dsq-comment-message"><p>Hi,<br />
The time complexity is o(n) but the space complexity is o(n). </p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-5" id="dsq-comment-15905">
        <div id="dsq-comment-header-15905" class="dsq-comment-header">
            <cite id="dsq-cite-15905">
                <span id="dsq-author-user-15905">NoFear207</span>
            </cite>
        </div>
        <div id="dsq-comment-body-15905" class="dsq-comment-body">
            <div id="dsq-comment-message-15905" class="dsq-comment-message"><p>Logic is bellow!<br />
void findvsum(struct tree *root,int *vsum,int mid)<br />
{</p>
<p>    if(root==NULL)<br />
    return;</p>
<p>       //   printf(&#8220;\nMid =%d&#8221;,mid);</p>
<p>    vsum[mid]=(root-&gt;data)+vsum[mid];<br />
    findvsum(root-&gt;left,vsum,mid-1);<br />
    findvsum(root-&gt;right,vsum,mid+1);</p>
<p>}</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-rax even depth-4" id="dsq-comment-17754">
        <div id="dsq-comment-header-17754" class="dsq-comment-header">
            <cite id="dsq-cite-17754">
                <span id="dsq-author-user-17754">Rax</span>
            </cite>
        </div>
        <div id="dsq-comment-body-17754" class="dsq-comment-body">
            <div id="dsq-comment-message-17754" class="dsq-comment-message"><p>Would this code work if the binary tree is skewed? I think you cannot use n/2 in the function findvsum unless you are sure that it is a balanced tree. and in that can you solution will not be generic. Correct me if I am missing on anything information here.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-5" id="dsq-comment-18394">
        <div id="dsq-comment-header-18394" class="dsq-comment-header">
            <cite id="dsq-cite-18394">
                <span id="dsq-author-user-18394">NoFear207</span>
            </cite>
        </div>
        <div id="dsq-comment-body-18394" class="dsq-comment-body">
            <div id="dsq-comment-message-18394" class="dsq-comment-message"><p>Yes You are correct! It will not So we need to have 2n space to make this code work for skewed tree.It is worst occupying 2n space.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-icodes even thread-even depth-1" id="dsq-comment-7838">
        <div id="dsq-comment-header-7838" class="dsq-comment-header">
            <cite id="dsq-cite-7838">
                <span id="dsq-author-user-7838">iCodeS</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7838" class="dsq-comment-body">
            <div id="dsq-comment-message-7838" class="dsq-comment-message"><p>What will be the total vertical lines of this tree ?? </p>
<pre>
                    5
                3       6  
            2         7    8  
               4        5
            1               9
        2                       2
    8                               3
</pre>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-camster odd alt depth-2" id="dsq-comment-7843">
        <div id="dsq-comment-header-7843" class="dsq-comment-header">
            <cite id="dsq-cite-7843">
                <span id="dsq-author-user-7843">camster</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7843" class="dsq-comment-body">
            <div id="dsq-comment-message-7843" class="dsq-comment-message"><p>iCode3 , Please write a program that builds this tree. If you can do that, then I can try to tell you the total vertical lines and their sums.Thank you,camster.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-7755">
        <div id="dsq-comment-header-7755" class="dsq-comment-header">
            <cite id="dsq-cite-7755">
http://www.groupme.in                <span id="dsq-author-user-7755">Nikin Kumar Jain</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7755" class="dsq-comment-body">
            <div id="dsq-comment-message-7755" class="dsq-comment-message"><p>Check out this Simple Code.</p>
<pre> <code language="C">
void btree::getVerticalSum(int a[], node *sr, int num)
{
	if(sr==NULL)
		return;
	a[num]+= sr-&gt;data;
	getVerticalSum(a, sr-&gt;left, num-1);
	getVerticalSum(a, sr-&gt;right, num+1);
}
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-camster odd alt depth-2" id="dsq-comment-7762">
        <div id="dsq-comment-header-7762" class="dsq-comment-header">
            <cite id="dsq-cite-7762">
                <span id="dsq-author-user-7762">camster</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7762" class="dsq-comment-body">
            <div id="dsq-comment-message-7762" class="dsq-comment-message"><p>Nikin Kumar Jain, Your program does not give the right answer for the test case below. Thank you camster.</p>
<pre> <code language="C">
  struct node* node20X;
   struct node* node60;
   struct node* node120;
   struct node* node160;
   struct node* node40;
   struct node* node140;
   struct node* node100;
   struct node* node10;
   struct node* node30;
   struct node* node50;
   struct node* node70;
   struct node* node110;
   struct node* node130;
   struct node* node150;
   struct node* node170;

   node10 = new node;
   node10-&gt;data = 10;
   node10-&gt;left = NULL;
   node10-&gt;right = NULL;

   node30 = new node;
   node30-&gt;data = 30;
   node30-&gt;left = NULL;
   node30-&gt;right = NULL;

   node50 = new node;
   node50-&gt;data = 50;
   node50-&gt;left = NULL;
   node50-&gt;right = NULL;

   node70 = new node;
   node70-&gt;data = 70;
   node70-&gt;left = NULL;
   node70-&gt;right = NULL;

   node110 = new node;
   node110-&gt;data = 110;
   node110-&gt;left = NULL;
   node110-&gt;right = NULL;

   node130 = new node;
   node130-&gt;data = 130;
   node130-&gt;left = NULL;
   node130-&gt;right = NULL;

   node150 = new node;
   node150-&gt;data = 150;
   node150-&gt;left = NULL;
   node150-&gt;right = NULL;

   node170 = new node;
   node170-&gt;data = 170;
   node170-&gt;left = NULL;
   node170-&gt;right = NULL;



   node20X = new node;
   node20X-&gt;data = 20;
   node20X-&gt;left = node10;
   node20X-&gt;right = node30;

   node60 = new node;
   node60-&gt;data = 60;
   node60-&gt;left = node50;
   node60-&gt;right = node70;

   node120 = new node;
   node120-&gt;data = 120;
   node120-&gt;left = node110;
   node120-&gt;right = node130;

   node160 = new node;
   node160-&gt;data = 160;
   node160-&gt;left = node150;
   node160-&gt;right = node170;

   node40 = new node;
   node40-&gt;data = 40;
   node40-&gt;left = node20X;
   node40-&gt;right = node60;

   node140 = new node;
   node140-&gt;data = 140;
   node140-&gt;left = node120;
   node140-&gt;right = node160;


   node100 = new node;
   node100-&gt;data = 100;
   node100-&gt;left = node40;
   node100-&gt;right = node140;

  int a[64];
  memset(a, 0, 64 * sizeof(int));

 getVerticalSum(a, node100, 10);

/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-7763">
        <div id="dsq-comment-header-7763" class="dsq-comment-header">
            <cite id="dsq-cite-7763">
                <span id="dsq-author-user-7763">Ajinkya</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7763" class="dsq-comment-body">
            <div id="dsq-comment-message-7763" class="dsq-comment-message"><p>Why would it not work??</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-camster odd alt depth-4" id="dsq-comment-7771">
        <div id="dsq-comment-header-7771" class="dsq-comment-header">
            <cite id="dsq-cite-7771">
                <span id="dsq-author-user-7771">camster</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7771" class="dsq-comment-body">
            <div id="dsq-comment-message-7771" class="dsq-comment-message"><p>Ajinkya. The correct answer for the example in my posting Vertical Sum is 10,20,120,60,280,120,420,160,170. Nikin Jain&#8217;s answer for my exampe is 10,20,30,280,480,160.170. My theory about why Nikin Jain&#8217;s answer is wrong is because Nikin Jain&#8217;s code does not recursively calulate the sum of the subtree root and its tree predecessor and its tree sucessor. Thank you.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-5" id="dsq-comment-7779">
        <div id="dsq-comment-header-7779" class="dsq-comment-header">
            <cite id="dsq-cite-7779">
                <span id="dsq-author-user-7779">Ajinkya</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7779" class="dsq-comment-body">
            <div id="dsq-comment-message-7779" class="dsq-comment-message"><p>Can you please explain how you got 9 columns in your answer? I have a code at my end, ans that too gives answer in 7 columns. rather, the same answer that the 3 line recursive code would give.</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-5" id="dsq-comment-9084">
        <div id="dsq-comment-header-9084" class="dsq-comment-header">
            <cite id="dsq-cite-9084">
                <span id="dsq-author-user-9084">anon</span>
            </cite>
        </div>
        <div id="dsq-comment-body-9084" class="dsq-comment-body">
            <div id="dsq-comment-message-9084" class="dsq-comment-message"><p>This code will not work, because the index num can become negative.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-camster even thread-even depth-1" id="dsq-comment-7754">
        <div id="dsq-comment-header-7754" class="dsq-comment-header">
            <cite id="dsq-cite-7754">
                <span id="dsq-author-user-7754">camster</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7754" class="dsq-comment-body">
            <div id="dsq-comment-message-7754" class="dsq-comment-message"><p>Here is C/C++ proposed answer with worst time complexity 0(n * log(n) ). Thank you camster.</p>
<pre> <code language="C">

struct node {   
	int data;   
	struct node *left;   
	struct node *right; 
};   


node * TreeMaximum(node* z){
	node* tmp;
	if (z == NULL)
		return NULL;
	tmp = z;
	while (tmp-&gt;right != NULL){
		tmp = tmp-&gt;right;
	}
	if (z == tmp){
		return NULL;
	}
	return tmp;
}

node * TreeMinimum(node* z){
	node* tmp;
	if (z == NULL)
		return NULL;
	tmp = z;
	while (tmp-&gt;left != NULL){
		tmp = tmp-&gt;left;
	}
	if (z == tmp){
		return NULL;
	}
	return tmp;
}



void VerticalSum(node* root,node* r, node* s){
	node* precede;
	node* successor;


	if (root == NULL){
		return;
	}


	VerticalSum(root-&gt;left, r, s);

	precede = TreeMaximum(root-&gt;left);
	successor = TreeMinimum(root-&gt;right);
	if (root != NULL){
		if ((root-&gt;left &amp;&amp; root-&gt;right)
			     ||
		    (root-&gt;left == NULL 
                          &amp;&amp; 
                     root-&gt;right == NULL 
                          &amp;&amp;
		    (root == r || root == s))){
		 printf(&quot; %d &quot;,
                         root-&gt;data 
			      + 
                         (precede ? precede-&gt;data : 0)
			      +  
                         (successor ? successor-&gt;data : 0));
	     }
	}

	VerticalSum(root-&gt;right, r, s);
}


struct node* node20X;
   struct node* node60;
   struct node* node120;
   struct node* node160;
   struct node* node40;
   struct node* node140;
   struct node* node100;
   struct node* node10;
   struct node* node30;
   struct node* node50;
   struct node* node70;
   struct node* node110;
   struct node* node130;
   struct node* node150;
   struct node* node170;

   node10 = new node;
   node10-&gt;data = 10;
   node10-&gt;left = NULL;
   node10-&gt;right = NULL;

   node30 = new node;
   node30-&gt;data = 30;
   node30-&gt;left = NULL;
   node30-&gt;right = NULL;

   node50 = new node;
   node50-&gt;data = 50;
   node50-&gt;left = NULL;
   node50-&gt;right = NULL;

   node70 = new node;
   node70-&gt;data = 70;
   node70-&gt;left = NULL;
   node70-&gt;right = NULL;

   node110 = new node;
   node110-&gt;data = 110;
   node110-&gt;left = NULL;
   node110-&gt;right = NULL;

   node130 = new node;
   node130-&gt;data = 130;
   node130-&gt;left = NULL;
   node130-&gt;right = NULL;

   node150 = new node;
   node150-&gt;data = 150;
   node150-&gt;left = NULL;
   node150-&gt;right = NULL;

   node170 = new node;
   node170-&gt;data = 170;
   node170-&gt;left = NULL;
   node170-&gt;right = NULL;



   node20X = new node;
   node20X-&gt;data = 20;
   node20X-&gt;left = node10;
   node20X-&gt;right = node30;

   node60 = new node;
   node60-&gt;data = 60;
   node60-&gt;left = node50;
   node60-&gt;right = node70;

   node120 = new node;
   node120-&gt;data = 120;
   node120-&gt;left = node110;
   node120-&gt;right = node130;

   node160 = new node;
   node160-&gt;data = 160;
   node160-&gt;left = node150;
   node160-&gt;right = node170;

   node40 = new node;
   node40-&gt;data = 40;
   node40-&gt;left = node20X;
   node40-&gt;right = node60;

   node140 = new node;
   node140-&gt;data = 140;
   node140-&gt;left = node120;
   node140-&gt;right = node160;


   node100 = new node;
   node100-&gt;data = 100;
   node100-&gt;left = node40;
   node100-&gt;right = node140;

   VerticalSum(node100, 
               TreeMinimum(node100), 
               TreeMaximum(node100));



/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-hpahuja odd alt thread-odd thread-alt depth-1" id="dsq-comment-7740">
        <div id="dsq-comment-header-7740" class="dsq-comment-header">
            <cite id="dsq-cite-7740">
                <span id="dsq-author-user-7740">harsh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7740" class="dsq-comment-body">
            <div id="dsq-comment-message-7740" class="dsq-comment-message"><p>#include&lt;iostream&gt;<br />
#include&lt;cstdio&gt;</p>
<p>using namespace std;</p>
<p>int nsum[20],psum[20];</p>
<p>typedef struct node treenode;<br />
struct node<br />
{<br />
	int key;<br />
	treenode * left;<br />
	treenode * right;</p>
<p>};</p>
<p>int maxleft,maxright;</p>
<p>treenode * getnode(treenode * node,int data)<br />
{</p>
<p>	node = new treenode();<br />
	node-&gt;left=NULL;<br />
	node-&gt;right=NULL;<br />
	node-&gt;key=data;<br />
	return node;<br />
}</p>
<p>treenode * insert(treenode * head,int data)<br />
{<br />
       treenode * node = head;</p>
<p>	if (node!=NULL)<br />
	{</p>
<p>		if(data &lt; (node-&gt;key))<br />
			node-&gt;left=insert(node-&gt;left,data);<br />
		else if(data &gt; (node-&gt;key))<br />
			node-&gt;right=insert(node-&gt;right,data);</p>
<p>	}</p>
<p>	else<br />
	{<br />
		node=getnode(node,data);	</p>
<p>	}</p>
<p>	return node;<br />
}</p>
<p>void inorder(treenode * head)<br />
{<br />
	if(head)<br />
	{<br />
		inorder(head-&gt;left);<br />
		printf(&quot;%d  &quot;,head-&gt;key);<br />
		inorder(head-&gt;right);<br />
	}<br />
	else return ;<br />
}</p>
<p>void verticalsum(treenode * head,int vline)<br />
{<br />
	if(head)<br />
	{<br />
		if(vline &lt; 0){<br />
//			cout&lt;&lt;&quot;f&quot;&lt;&lt;vline;<br />
			nsum[(-1*vline)]+=head-&gt;key;<br />
			if(maxleft &gt; (vline)) maxleft=(vline);<br />
		}		</p>
<p>		if(vline&gt;=0){</p>
<p>			psum[vline]+=head-&gt;key;<br />
			if(maxright &lt; vline) maxright=vline;<br />
		}</p>
<p>		verticalsum(head-&gt;left,vline-1);<br />
		verticalsum(head-&gt;right,vline+1);<br />
	}<br />
	else return;<br />
}</p>
<p>int main()<br />
{<br />
	treenode * head=NULL;<br />
	head=insert(head,4);<br />
	head=insert(head,2);<br />
	head=insert(head,1);<br />
	head=insert(head,3);<br />
	head=insert(head,6);<br />
	head=insert(head,5);<br />
	head=insert(head,7);<br />
	inorder(head);<br />
	verticalsum(head,0);<br />
	maxleft*=-1;<br />
	cout&lt;&lt;maxleft&lt;&lt;&quot; &quot;&lt;&lt;maxright&lt;&lt;endl;<br />
	for(int i=maxleft;i&gt;0;i&#8211;)<br />
		printf(&quot;%d &quot;,nsum[i]);<br />
	for(int i=0;i&lt;=maxright;i++)<br />
		printf(&quot;%d &quot;,psum[i]);		</p>
<p>return 0;<br />
}</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-7724">
        <div id="dsq-comment-header-7724" class="dsq-comment-header">
            <cite id="dsq-cite-7724">
                <span id="dsq-author-user-7724">pikachu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7724" class="dsq-comment-body">
            <div id="dsq-comment-message-7724" class="dsq-comment-message"><p>In case we want to generalize this problem for n-ary tree?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-sambasiva odd alt thread-odd thread-alt depth-1" id="dsq-comment-7723">
        <div id="dsq-comment-header-7723" class="dsq-comment-header">
            <cite id="dsq-cite-7723">
http://effprog.blogspot.com                <span id="dsq-author-user-7723">Sambasiva</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7723" class="dsq-comment-body">
            <div id="dsq-comment-message-7723" class="dsq-comment-message"><p><a href="http://effprog.blogspot.com/2011/10/vertical-sums-of-binary-tree.html" rel="nofollow">http://effprog.blogspot.com/2011/10/vertical-sums-of-binary-tree.html</a></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-7718">
        <div id="dsq-comment-header-7718" class="dsq-comment-header">
            <cite id="dsq-cite-7718">
                <span id="dsq-author-user-7718">Ajinkya</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7718" class="dsq-comment-body">
            <div id="dsq-comment-message-7718" class="dsq-comment-message"><p>And if you do wanna use a big code, use this coz this comes straight from Brendon Mccullum&#8230;.</p>
<pre> <code language="C">
In main: {
int left_columns=lc(root); //get number of vertical columns to the left of root
int right_columns=rc(root); // same for right
int *column_number;
column_number=(int*)malloc(sizeof(int)*(left_columns+right_columns+1));
for(int i=0;i&lt;(left_columns+right_columns+1);i++)
column_number[i]=0;
preorder1(root1,0,column_number,left_columns);

for(int i=0;i&lt;(left_columns+right_columns+1);i++)
cout&lt;&lt;&quot;\nColumn number: &quot;&lt;&lt;(i-left_columns)&lt;&lt;&quot;, Sum: &quot;&lt;&lt;column_number[i];
}

void preorder1(node *T,int vertical_column_number,int C[],int left_columns)
{
if(T!=NULL)
{
C[vertical_column_number+left_columns]+=T-&gt;data;
preorder1(T-&gt;left,vertical_column_number-1,C,left_columns);
preorder1(T-&gt;right,vertical_column_number+1,C,left_columns);
}
}

//count number of vertical columns to the left of root
int lc(node*T)
{
int count=0;
if(T==NULL || T-&gt;left==NULL)
return(count);
else {
T=T-&gt;left; count++; }
while(1) {
while(T-&gt;left!=NULL) {
T=T-&gt;left;
count++; }
if(T-&gt;right==NULL)
return(count);
else
T=T-&gt;right;
}
}

//count number of vertical columns to the right of root
int rc(node*T)
{
int count=0;
if(T==NULL || T-&gt;right==NULL)
return(count);
else {
T=T-&gt;right; count++; }
while(1) {
while(T-&gt;right!=NULL) {
T=T-&gt;right;
count++; }
if(T-&gt;left==NULL)
return(count);
else
T=T-&gt;left;
}
}
</code> </pre>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-7716">
        <div id="dsq-comment-header-7716" class="dsq-comment-header">
            <cite id="dsq-cite-7716">
                <span id="dsq-author-user-7716">Ajinkya</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7716" class="dsq-comment-body">
            <div id="dsq-comment-message-7716" class="dsq-comment-message"><p>What are these rascala big codes, when you can do this in 3 lines? Yenna rascala mind it&#8230; Look @ code below&#8230; Rajnikanth is gr8 but every morning he bows down infront of Sachin GOD Tendulkar!! <img src="http://d2o58evtke57tz.cloudfront.net/wp-includes/images/smilies/icon_smile.gif" alt=":)" class="wp-smiley" /></p>
<pre> <code language="C">
Inside main: {
map&lt;int,int&gt; H;
preorder(root,0);
//iterate through the map to get the sums
}

//any traversal will work!
void preorder(node *T,int vertical_column_number)
{
     if(T!=NULL)
     {
                H[vertical_column_number]+=T-&gt;data;
                preorder(T-&gt;left,vertical_column_number-1);
                preorder(T-&gt;right,vertical_column_number+1);
     }
}
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-7722">
        <div id="dsq-comment-header-7722" class="dsq-comment-header">
            <cite id="dsq-cite-7722">
                <span id="dsq-author-user-7722">sidh</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7722" class="dsq-comment-body">
            <div id="dsq-comment-message-7722" class="dsq-comment-message"><p>This approach is similar to Sudha&#8217;s Approach below.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-2" id="dsq-comment-7750">
        <div id="dsq-comment-header-7750" class="dsq-comment-header">
            <cite id="dsq-cite-7750">
                <span id="dsq-author-user-7750">kamlesh meghwal</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7750" class="dsq-comment-body">
            <div id="dsq-comment-message-7750" class="dsq-comment-message"><p>Haha&#8230;Anna Rascala ..Mind It&#8230;.Salute 2 Rajnikanth&#8230;.!</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-7714">
        <div id="dsq-comment-header-7714" class="dsq-comment-header">
            <cite id="dsq-cite-7714">
                <span id="dsq-author-user-7714">codinglearner</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7714" class="dsq-comment-body">
            <div id="dsq-comment-message-7714" class="dsq-comment-message"><pre> <code language="C">
/*

/*----CALCULATE THE VERTICAL SUM OF THE GIVEN TREE----*/
#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
struct node{
int data;
struct node *left,*right;
};
struct node* newnode(int data)
{
struct node* node=(struct node*)malloc(sizeof(struct node));
node-&gt;data=data;
node-&gt;left=node-&gt;right=NULL;
return node;
}
int max(int a,int b)
{
return (a&gt;b)?a:b;
}
int maxdepth(struct node *root)
{
if(root==NULL)
return -1;
int ldepth=maxdepth(root-&gt;left);
int rdepth=maxdepth(root-&gt;right);
return (max(ldepth,rdepth)+1);
}
void verticalsum(struct node* root,int hdist,int **count)
{
if(root==NULL)
return ;
*(*count+hdist)+=root-&gt;data;
verticalsum(root-&gt;left,hdist-1,count);
verticalsum(root-&gt;right,hdist+1,count);
}
int main()
{
struct node* root=newnode(1);
root-&gt;left=newnode(2);
root-&gt;right=newnode(3);
root-&gt;left-&gt;left=newnode(4);
root-&gt;left-&gt;right=newnode(5);
root-&gt;right-&gt;left=newnode(6);
root-&gt;right-&gt;right=newnode(7);
int d=maxdepth(root);
int *count=(int*)malloc(sizeof(int)*(2*d +1));
verticalsum(root,d,&amp;count);
for(int i=0;i&lt;(2*d +1);i++)
printf(&quot;%d\t&quot;,count[i]);
printf(&quot;\n%d&quot;,d);
return 0;
} */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-7731">
        <div id="dsq-comment-header-7731" class="dsq-comment-header">
            <cite id="dsq-cite-7731">
                <span id="dsq-author-user-7731">nnn</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7731" class="dsq-comment-body">
            <div id="dsq-comment-message-7731" class="dsq-comment-message"><p>Output:<br />
-1819044961	-1819044970	-1819044966	-1819044973	-1819044973<br />
2</p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-codinglearner even depth-3" id="dsq-comment-7732">
        <div id="dsq-comment-header-7732" class="dsq-comment-header">
            <cite id="dsq-cite-7732">
                <span id="dsq-author-user-7732">codinglearner</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7732" class="dsq-comment-body">
            <div id="dsq-comment-message-7732" class="dsq-comment-message"><p>chk dis out&#8230;</p>
<p><a href="http://ideone.com/0pkfH" rel="nofollow">http://ideone.com/0pkfH</a></p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-7709">
        <div id="dsq-comment-header-7709" class="dsq-comment-header">
            <cite id="dsq-cite-7709">
                <span id="dsq-author-user-7709">pikachu</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7709" class="dsq-comment-body">
            <div id="dsq-comment-message-7709" class="dsq-comment-message"><p>Nice implementation</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-7704">
        <div id="dsq-comment-header-7704" class="dsq-comment-header">
            <cite id="dsq-cite-7704">
                <span id="dsq-author-user-7704">Sudha</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7704" class="dsq-comment-body">
            <div id="dsq-comment-message-7704" class="dsq-comment-message"><pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
#include&lt;stdio.h&gt;
#include&lt;malloc.h&gt;

struct node
{
	int data;
	struct node *left;
	struct node *right;
};

int a[100];

void insert(struct node**,int);
void inorder(struct node*);
void vertical_sum(struct node*);
int leftmost(struct node*);
void inorder_sum(struct node*,int);
void print(int);
int rightmost(struct node *);

int main()
{
	struct node *head;
	head=NULL;

	insert(&amp;head,21);
	insert(&amp;head,15);
	insert(&amp;head,10);
	insert(&amp;head,19);
	insert(&amp;head,20);
	insert(&amp;head,9);
	insert(&amp;head,14);
	insert(&amp;head,13);
	insert(&amp;head,11);
	insert(&amp;head,16);
	insert(&amp;head,17);
	insert(&amp;head,29);
	insert(&amp;head,25);
	insert(&amp;head,35);
	insert(&amp;head,23);
	insert(&amp;head,27);
	insert(&amp;head,32);
	insert(&amp;head,36);
	insert(&amp;head,39);

	inorder(head);

	printf(&quot;\n\n&quot;);

	vertical_sum(head);

	return 0;
}

void insert(struct node **p,int value)
{
	struct node *temp,*r;

	r=(struct node *)malloc(sizeof(struct node));
	r-&gt;data=value;
	r-&gt;left=NULL;
	r-&gt;right=NULL;

	temp=*p;

	if(*p==NULL)
	{
		*p=r;
		temp=*p;
	}
	else
	{
		while(temp!=NULL)
		{
			if(r-&gt;data &lt; temp-&gt;data)
			{
				if(temp-&gt;left==NULL)
				{
					temp-&gt;left=r;
					return;
				}
				else
					temp=temp-&gt;left;
			}
			else
			{
				if(temp-&gt;right==NULL)
				{
					temp-&gt;right=r;
					return;
				}
				else
					temp=temp-&gt;right;
			}
		}
	}
	
}

void inorder(struct node *root)
{
	if(root==NULL)
		return;
	inorder(root-&gt;left);
	printf(&quot;%d\t&quot;,root-&gt;data);
	inorder(root-&gt;right);
}

void vertical_sum(struct node *root)
{
	int lht,rht;

	lht=leftmost(root);

	rht=rightmost(root);

	inorder_sum(root,lht-1);

	print(lht+rht-1);
}

int leftmost(struct node *p)
{
	int r=0;
	
	while(p!=NULL)
	{
		r++;
		p=p-&gt;left;
	}
	return r;
}

int rightmost(struct node *p)
{
	int i=0;

	while(p!=NULL)
	{
		i++;
		p=p-&gt;right;
		
	}
	return i;

}
void print(int n)
{
	int k;
	for(k=0;k&lt;n;k++)
		printf(&quot;%d\t&quot;,a[k]);
}

void inorder_sum(struct node *root,int ht)
{
	if(root==NULL)
		return;

	inorder_sum(root-&gt;left,ht-1);
	a[ht]=a[ht]+root-&gt;data;
	inorder_sum(root-&gt;right,ht+1);
}
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-kartik odd alt depth-2" id="dsq-comment-7706">
        <div id="dsq-comment-header-7706" class="dsq-comment-header">
            <cite id="dsq-cite-7706">
                <span id="dsq-author-user-7706">kartik</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7706" class="dsq-comment-body">
            <div id="dsq-comment-message-7706" class="dsq-comment-message"><p>@Sudha: Thanks for sharing the code. Could you please provide the algo for the approach used in your implementation?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even depth-2" id="dsq-comment-7707">
        <div id="dsq-comment-header-7707" class="dsq-comment-header">
            <cite id="dsq-cite-7707">
http://royalraj26.myopenid.com/                <span id="dsq-author-user-7707">yash</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7707" class="dsq-comment-body">
            <div id="dsq-comment-message-7707" class="dsq-comment-message"><p>Inorder to make the last index of a array to stop at zero,leftmost is calculated.</p>
<p>and for finding the whole size of the array,rigthmost is calculated.</p>
<p>isn&#8217;t it?</p>
<p>Nice <img src="http://d2o58evtke57tz.cloudfront.net/wp-includes/images/smilies/icon_biggrin.gif" alt=":D" class="wp-smiley" /></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-2" id="dsq-comment-7708">
        <div id="dsq-comment-header-7708" class="dsq-comment-header">
            <cite id="dsq-cite-7708">
                <span id="dsq-author-user-7708">Sudha</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7708" class="dsq-comment-body">
            <div id="dsq-comment-message-7708" class="dsq-comment-message"><p>Algorithm:</p>
<p>1) Lets determine the count of verticals of the binary tree.</p>
<p>2) Total verticals of the binary tree = (count of leftmost nodes of the root) + (count of rightmost nodes of the root) -1(because in both counts root is considered).</p>
<p>3) The vertical for the root would be count of leftmost nodes of the tree(which is determined earlier).</p>
<p>4) To calculate the every vertical sum of the tree we will use in-order traversal. </p>
<p>5) For in-order_sum function we will pass root and its vertical number of root.<br />
By recursive in-order traversal:<br />
a)visit left node of root &amp; decrease vertical by one, b)Add the node value to the array[vertical], and<br />
c)visit right node  of root &amp; increase vertical by one.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-kartik even depth-3" id="dsq-comment-7717">
        <div id="dsq-comment-header-7717" class="dsq-comment-header">
            <cite id="dsq-cite-7717">
                <span id="dsq-author-user-7717">kartik</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7717" class="dsq-comment-body">
            <div id="dsq-comment-message-7717" class="dsq-comment-message"><p>Thanks Sudha.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt depth-3" id="dsq-comment-10066">
        <div id="dsq-comment-header-10066" class="dsq-comment-header">
            <cite id="dsq-cite-10066">
                <span id="dsq-author-user-10066">Sreenivas Doosa</span>
            </cite>
        </div>
        <div id="dsq-comment-body-10066" class="dsq-comment-body">
            <div id="dsq-comment-message-10066" class="dsq-comment-message"><p>@Sudha,</p>
<p>Does ur program for finding leftmost node work for the following case. Please check.<br />
     20<br />
    /<br />
   10<br />
   /<br />
  6<br />
   \<br />
    9<br />
   /<br />
  8<br />
 /<br />
7</p>
<p>In the above case the leftmost node is 7, but as per ur program it gives 6.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even depth-3" id="dsq-comment-19255">
        <div id="dsq-comment-header-19255" class="dsq-comment-header">
            <cite id="dsq-cite-19255">
                <span id="dsq-author-user-19255">Srb</span>
            </cite>
        </div>
        <div id="dsq-comment-body-19255" class="dsq-comment-body">
            <div id="dsq-comment-message-19255" class="dsq-comment-message"><p>@sudha<br />
first,thanx for sharing ur code&#8230;.second their is problem in calculating the leftmost and rightmost function&#8230;check the geeksforgeeks for calculating the size of tree ..if u change ur function with that then this code will work fine and it will handle the case of skewed tree&#8230;</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-geminisdb odd alt depth-2" id="dsq-comment-7735">
        <div id="dsq-comment-header-7735" class="dsq-comment-header">
            <cite id="dsq-cite-7735">
                <span id="dsq-author-user-7735">geminisdb</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7735" class="dsq-comment-body">
            <div id="dsq-comment-message-7735" class="dsq-comment-message"><p>7<br />
                      / \<br />
                     2   45<br />
                        /<br />
                       35<br />
                      /<br />
                     30<br />
                    /<br />
                  29<br />
                  /<br />
                24</p>
<p>For the above Tree, i think the code will fail because &#8211;<br />
Recursive calls to inorder_sum( root->left, ht-1) will eventually pass negative second parameter to the function. Then, array access with negative index will fail.<br />
Please correct me if I am wrong.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-geminisdb even depth-2" id="dsq-comment-7737">
        <div id="dsq-comment-header-7737" class="dsq-comment-header">
            <cite id="dsq-cite-7737">
                <span id="dsq-author-user-7737">geminisdb</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7737" class="dsq-comment-body">
            <div id="dsq-comment-message-7737" class="dsq-comment-message"><p>I think the code wont work for cases like the following :</p>
<p>                         7<br />
                        / \<br />
                       3   45<br />
                          /<br />
                        40<br />
                        /<br />
                      36<br />
                      /<br />
                    30<br />
                    /<br />
                  23<br />
                  /<br />
                20</p>
<p>Recursive calls to inorder_root(root->left, int ht-1) will soon start passing negative second parameter values. This will cause<br />
a[ht] = a[ht] + root->data; to fail.<br />
Please correct me if I am wrong.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-geminisdb odd alt depth-3" id="dsq-comment-7738">
        <div id="dsq-comment-header-7738" class="dsq-comment-header">
            <cite id="dsq-cite-7738">
                <span id="dsq-author-user-7738">geminisdb</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7738" class="dsq-comment-body">
            <div id="dsq-comment-message-7738" class="dsq-comment-message"><p>45 is the right child of 7.<br />
40 is left child of 45.<br />
36 is left child of 40.<br />
30 is left child of 23 and so on.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-nikhil-srivastava even thread-odd thread-alt depth-1" id="dsq-comment-7700">
        <div id="dsq-comment-header-7700" class="dsq-comment-header">
            <cite id="dsq-cite-7700">
                <span id="dsq-author-user-7700">nikhil.srivastava</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7700" class="dsq-comment-body">
            <div id="dsq-comment-message-7700" class="dsq-comment-message"><p>what if the number of levels increase , will the vertical column overlap then , or the distance measure will be negative ?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-kartik odd alt depth-2" id="dsq-comment-7702">
        <div id="dsq-comment-header-7702" class="dsq-comment-header">
            <cite id="dsq-cite-7702">
                <span id="dsq-author-user-7702">kartik</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7702" class="dsq-comment-body">
            <div id="dsq-comment-message-7702" class="dsq-comment-message"><p>@nikhil.srivastava: you question is not clear to me.  Could you provide an example.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-7698">
        <div id="dsq-comment-header-7698" class="dsq-comment-header">
            <cite id="dsq-cite-7698">
                <span id="dsq-author-user-7698">donbosio</span>
            </cite>
        </div>
        <div id="dsq-comment-body-7698" class="dsq-comment-body">
            <div id="dsq-comment-message-7698" class="dsq-comment-message"><p>here is the c implementation, with a slight modification that my program prints the elements in the same vertical line rather than printing the sum.tree used is same as above.so, the output is Vertical-Line-1 4<br />
              Vertical-Line-2 2<br />
              Vertical-Line-3 1,5,6<br />
              Vertical-Line-4 3<br />
              Vertical-Line-5 7 </p>
<pre> <code language="C">
/* Paste your code here (You may delete these lines if not writing code) */
#include&lt;stdio.h&gt;
#include&lt;conio.h&gt;
#include&lt;alloc.h&gt;
struct node
{
int data;
struct node *left;
struct node *right;
};

void vertical_sum(struct node * , int [][10], int );
struct node* newnode(int );

int main()
{
int i,j,k,s=1;
int hash_map[20][10]={0};
 struct node *root = newnode(1);
    root-&gt;left        = newnode(2);
    root-&gt;right       = newnode(3);
    root-&gt;left-&gt;left  = newnode(4);
    root-&gt;left-&gt;right=newnode(5);
    root-&gt;right-&gt;left=newnode(6);
    root-&gt;right-&gt;right=newnode(7);
vertical_sum(root,hash_map,10);
for(i=0;i&lt;=19;i++)
{
if(hash_map[i][0]&gt;0)
{
printf(&quot;\n vertical-line %d: &quot;,s);
s++;
j=hash_map[i][0];
for(k=1;k&lt;=j;k++)
{
printf(&quot;%d &quot;,hash_map[i][k]);
}
}
}
getchar();
}



void vertical_sum(struct node * root, int hash_map[][10], int hd)
{
if(root!=NULL)
{
hash_map[hd][0]++;
hash_map[hd][hash_map[hd][0]]=root-&gt;data;
vertical_sum(root-&gt;left, hash_map, hd-1);
vertical_sum(root-&gt;right, hash_map, hd+1);
}

}

struct node* newnode(int data)
{
    struct node* node = (struct node*)
			malloc(sizeof(struct node));
    node-&gt;data = data;
    node-&gt;left = NULL;
    node-&gt;right = NULL;

    return(node);
}
</code> </pre>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-31174">
        <div id="dsq-comment-header-31174" class="dsq-comment-header">
            <cite id="dsq-cite-31174">
                <span id="dsq-author-user-31174">Logistics</span>
            </cite>
        </div>
        <div id="dsq-comment-body-31174" class="dsq-comment-body">
            <div id="dsq-comment-message-31174" class="dsq-comment-message"><p>*** Here is a Java Implementation of the same ***</p>
<p>package trees;</p>
<p>import java.util.HashMap;</p>
<p>public class VertSuminBT {</p>
<p>    static HashMap sumMap = new HashMap();<br />
    public static void main(String[] args) {<br />
        Node root = new Node(1);<br />
        root.left = new Node(2);<br />
        root.right = new Node(3);<br />
        root.left.left = new Node(4);<br />
        root.left.right = new Node(5);<br />
        root.right.left = new Node(6);<br />
        root.right.right = new Node(7);<br />
        VerticalSum(root,0);<br />
        System.out.println(&#8220;The vertical sums are as follows: &#8220;);<br />
        System.out.println(sumMap.entrySet());<br />
    }</p>
<p>    static void VerticalSum(Node root, int hD){<br />
        if(root == null)<br />
            return;<br />
        VerticalSum(root.left, hD-1);<br />
        int prevSum = (sumMap.get(hD) == null)? 0:sumMap.get(hD) ;<br />
        sumMap.put(hD, prevSum+root.val);<br />
        VerticalSum(root.right, hD+1);<br />
    }</p>
<p>}</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
var disqus_url = 'http://www.geeksforgeeks.org/vertical-sum-in-a-given-binary-tree/';
var disqus_identifier = '18215 http://www.geeksforgeeks.org/?p=18215';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'geeksforgeeks';
var disqus_title = "Vertical Sum in a given Binary Tree";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

			</div>
	
					
			
			

		</div> <!-- end post -->	

<br></br>
	
</div> <!-- end content -->

<ul id="sidebar">
	<li id="text-19" class="widget widget_text">			<div class="textwidget"><script>
  (function() {
    var cx = '009682134359037907028:tj6eafkv_be';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

<style type="text/css">
  .gsc-control-cse {
    font-family: "Trebuchet MS", sans-serif;
    border-color: #E1F3DA;
    background-color: #E1F3DA;
  }
  input.gsc-input {
    border-color: #94CC7A;
  }
  input.gsc-search-button {
    border-color: #94CC7A;
    background-color: #AADA92;
  }
  .gsc-tabHeader.gsc-tabhInactive {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-tabHeader.gsc-tabhActive {
    border-color: #A9DA92;
    background-color: #A9DA92;
  }
  .gsc-tabsArea {
    border-color: #A9DA92;
  }
  .gsc-webResult.gsc-result {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-webResult.gsc-result:hover {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gs-webResult.gs-result a.gs-title:link,
  .gs-webResult.gs-result a.gs-title:link b {
    color: #009900;
  }
  .gs-webResult.gs-result a.gs-title:visited,
  .gs-webResult.gs-result a.gs-title:visited b {
    color: #009900;
  }
  .gs-webResult.gs-result a.gs-title:hover,
  .gs-webResult.gs-result a.gs-title:hover b {
    color: #003300;
  }
  .gs-webResult.gs-result a.gs-title:active,
  .gs-webResult.gs-result a.gs-title:active b {
    color: #009900;
  }
  .gsc-cursor-page {
    color: #009900;
  }
  a.gsc-trailing-more-results:link {
    color: #009900;
  }
  .gs-webResult.gs-result .gs-snippet {
    color: #454545;
  }
  .gs-webResult.gs-result .gs-visibleUrl {
    color: #33cc00;
  }
  .gs-webResult.gs-result .gs-visibleUrl-short {
    color: #33cc00;
  }
  .gs-webResult.gs-result .gs-visibleUrl-short {
    display: none;
  }
  .gs-webResult.gs-result .gs-visibleUrl-long {
    display: block;
  }
  .gsc-cursor-box {
    border-color: #A9DA92;
  }
  .gsc-results .gsc-cursor-page {
    border-color: #A9DA92;
    background-color: #FFFFFF;
  }
  .gsc-results .gsc-cursor-page.gsc-cursor-current-page {
    border-color: #A9DA92;
    background-color: #A9DA92;
  }
  .gs-promotion.gs-result {
    border-color: #94CC7A;
    background-color: #CBE8B4;
  }
  .gs-promotion.gs-result a.gs-title:link {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:visited {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:hover {
    color: #0066CC;
  }
  .gs-promotion.gs-result a.gs-title:active {
    color: #0066CC;
  }
  .gs-promotion.gs-result .gs-snippet {
    color: #454545;
  }
  .gs-promotion.gs-result .gs-visibleUrl,
  .gs-promotion.gs-result .gs-visibleUrl-short {
    color: #815FA7;
  }
</style>    </div>
		</li>
<li id="text-9" class="widget widget_text">			<div class="textwidget"><div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=138031159685820";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-like-box" data-href="https://www.facebook.com/pages/GeeksforGeeks/316764689022" data-width="250" data-height="170" data-colorscheme="light" data-show-faces="true" data-header="false" data-stream="false" data-show-border="false"></div></div>
		</li>
<li id="text-18" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LargeRectangleSide -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="1884636833"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>
<li id="text-13" class="widget widget_text">			<div class="textwidget"><ul><li><a href="http://www.geeksforgeeks.org/category/interview-experiences/">Interview Experiences</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/advance-data-structures">Advanced Data Structures</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/dynamic-programming">Dynamic Programming</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/Greedy-Algorithm/">Greedy Algorithms</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/backtracking">Backtracking</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/pattern-searching">Pattern Searching</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/divide-and-conquer">Divide & Conquer</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/MathematicalAlgo">Mathematical Algorithms</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/recursion">Recursion</a></li>
<li><a href="http://www.geeksforgeeks.org/tag/geometric-algorithms/">Geometric Algorithms</a></li>
</ul></div>
		</li>
<li id="text-17" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Big 300x600 Sidebar -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="4402736037"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>
<li id="text-14" class="widget widget_text"><h2 class="widgettitle">Popular Posts</h2>
			<div class="textwidget"><ul>
<li><a href="http://www.geeksforgeeks.org/write-a-c-program-to-print-all-permutations-of-a-given-string/">  All permutations of a given string </a></li>
<li><a href="http://www.geeksforgeeks.org/memory-layout-of-c-program/"> Memory Layout of C Programs</a> </li>
<li><a href="http://www.geeksforgeeks.org/understanding-extern-keyword-in-c/"> Understanding “extern” keyword in C</a> </li>
<li><a href="http://www.geeksforgeeks.org/median-of-two-sorted-arrays/">Median of two sorted arrays</a> </li>
<li><a href="http://www.geeksforgeeks.org/inorder-tree-traversal-without-recursion-and-without-stack/"> Tree traversal without recursion and without stack! </a></li>
<li><a href="http://www.geeksforgeeks.org/structure-member-alignment-padding-and-data-packing/"> Structure Member Alignment, Padding and Data Packing</a> </li>
<li><a href="http://www.geeksforgeeks.org/write-a-function-to-get-the-intersection-point-of-two-linked-lists/"> Intersection point of two Linked Lists</a> </li>
<li><a href="http://www.geeksforgeeks.org/lowest-common-ancestor-in-a-binary-search-tree/"> Lowest Common Ancestor in a BST.</span></a> </li>
<li><a href="http://www.geeksforgeeks.org/a-program-to-check-if-a-binary-tree-is-bst-or-not/"> Check if a binary tree is BST or not</a> </li>
<li><a href="http://www.geeksforgeeks.org/sorted-linked-list-to-balanced-bst/"> Sorted Linked List to Balanced BST</a></li>
</ul></div>
		</li>
<li id="text-3" class="widget widget_text">			<div class="textwidget"><a href="https://twitter.com/GeeksforGeeks" class="twitter-follow-button" data-show-count="false">Follow @GeeksforGeeks</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>         


<!-- GOOGLE FEEDBURNER BUTTON-->
<a href="http://feeds.feedburner.com/Geeksforgeeks" title="Subscribe to my feed" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon32x32.png" alt="" style="border:0"/></a><a href="http://feeds.feedburner.com/Geeksforgeeks" title="Subscribe to my feed" rel="alternate" type="application/rss+xml">Subscribe</a>

</div>
		</li>
<li id="text-21" class="widget widget_text"><h2 class="widgettitle">Recent Comments</h2>
			<div class="textwidget"><script type="text/javascript" src="http://geeksforgeeks.disqus.com//recent_comments_widget.js?num_items=6&hide_avatars=1&excerpt_length=50&hide_mods=0"></script></div>
		</li>
<li id="text-22" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- LinkAd -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:90px"
     data-ad-client="ca-pub-9465609616171866"
     data-ad-slot="2606115235"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</li>

</ul>					  
		<div class="clear"></div>

		<div id="footer">
		
		    <div class="xhtml">
                        @geeksforgeeks, <a href="http://creativecommons.org/licenses/by-nc-nd/2.5/in/deed.en_US" title="Valid XHTML Strict 1.0">Some rights reserved</a>  <a href="http://www.geeksforgeeks.org/about/contact-us/"> &nbsp; &nbsp; &nbsp; &nbsp;Contact Us!</a>

		    </div>
		    
		    <div class="credits">
			  Powered by <a href="http://wordpress.org">WordPress </a> &amp; <a href="http://mootools.net/" title="Mootools JavaScript Framework">MooTools</a>, customized by geeksforgeeks team </div>
			  
		   <div class="clear"></div>						                            
		   
		</div> <!--end footer-->  
        
		        <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'geeksforgeeks';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script'); 
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script>
        <script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9'></script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJava.js?ver=3.0.9'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='http://d2o58evtke57tz.cloudfront.net/wp-content/plugins/bbpress/templates/default/js/editor.js?ver=2.5.4-5380'></script>
				  
		</div> <!--end wrapper-->
        <div id="ajaxSpinner"></div> <!--For AJAX spinner holder-->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12148232-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
	</body>

</html>
<!-- Dynamic page generated in 0.238 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2014-11-27 23:27:57 -->

<!-- Compression = gzip -->
<!-- super cache -->